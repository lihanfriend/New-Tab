x = prompt("The Toolbox\nCommands: 2048, 2k, 3d, 4k, ac, adb, bs, ca, cd, cg, co, cra, de, ded, dm, dr, dt, et, fb, gc, gr, hd, hf, hs, ic, ins, inv, ka, ls, ml, mx, nc, op, pb, pc, ps, qc, rc, ro, sos, su, tp, tr, ts, tw, vg, wc, xr, ym\nHelp: help");
if (x == "help") {
    document.write('<h3><b>Welcome to the Toolbox! This is the help guide. </b></h3>What each command will do will be listed below. Note that some commands may not work on certain websites.<br><b>2048 game: 2048</b> = Opens up the 2048 game in your webpage.<br><b>High Definition (2k): 2k</b> = Retextures Geo-FS terrain to have 2k quality.<br><b>3D: 3d</b> = Makes the current webpage 3-dimensional.<br><b>High Definition (4k): 4k</b> = Retextures Geo-FS terrain to have 4k quality.<br><b>Autoclicker: ac</b> → [integer "cps"] = Starts autoclicking on the spot you click next on the webpage at "cps" CPS.<br><b>Ad Blocker: adb</b> = Removes ads on your current website. <br><b>BSOD: bs</b> = BLUE SCREEN OF DEATH<br><b>Calculator: ca</b> → [math expression "expression"] = Evaluates "expression", with an error of less than 10^-16. <br><b>Clear Data: cd</b> = Deletes all cookies and refreshes the website.<br><b>Center Gravitate: cg</b> = Makes all elements of your current webpage gravitate towards the center.<br><b>Corrupt: co</b> = Severely corrupts your webpage.<br><b>Crash: cra</b> = Crashes your computer. <b>This is a locked action.</b><br><b>Destroy: de</b> = Severely damages your webpage.<br><b>Dead Cursor: ded</b> = Makes your cursor look dead, although it is perfectly fine.<br><b>Dark Mode: dm</b> = Turns your webpage into dark mode.<br><b>Draw: dr</b> = Draw on your page. Further instructions are given in the alert that pops up.<br><b>Delete Text: dt</b> = Deletes all text on a webpage. Run this command again to get the text back. <br><b>Edit Tab: et</b> = Toggles editing the content on the webpage. <br><b>Font Bomb: fb</b> = Initializes Font Bomb game.<br><b>Gimkit Cheats: gc</b> = Provides a plethora of Gimkit Cheats. Press "\\" to hide the menus. <i>Note: This does not work if you are hosting the game, and if you are joining a game, you must run this command before entering the join code.</i><br><b>Gravity: gr</b> = Turns on gravity for your website.<br><b>High Definition (Google): hd</b> = Retextures Geo-FS terrain to have very good quality.<br><b>Help: help</b> = Brings up this guide.<br><b>History Flood: hf</b> → [integer "amount"] = Adds the current webpage into your website history "amount" times.<br><b>Hypixel Skyblock Tools: hs</b> → [skyblock bazaar product "product"] [integer 3-7 "forge"] [integer 8-31 "minion"] (date "date") = Tells you the current insta-buy price, insta-sell price, supply, demand, buy volume, and sell volume of "product", current cost, income, and profit when flipping Gemstone Mixtures with "forge" forge slots, the profit per day of Gravel Minions, Sheep Minions, and Magma Cream Minions with "minion" minion slots, and the current date, mayor, minister, and their perks if "date" is typed. <i>Note: This does not work on most websites, but works on Canvas.</i><br><b>Invisible Cursor: ic</b> = Makes your cursor invisible when in the webpage.<br><b>Insert: ins</b> → (zr, sb, bz, ah "website") [url "url"] = Embeds another "url" or "website" (ah = Coflnet Auction House History, bz = Bazaar Meta, sb = Skyblock Stats, zr = Zombs Royale) into your current webpage.<br><b>Invisible: inv</b> = Fades your website to nothing in the span of 10 seconds.<br><b>Kick Donkey: ka</b> = Initializes Kick Donkey Space Invaders game.<br><b>Mouse Light: ml</b> = Illuminates the area around your mouse when your mouse is on the webpage.<br><b>Livery Selector: ls</b> = Gives Geo-FS another tab: Livery Selector, which allows you to choose from a large variety of liveries.<br><b>Mix: mx</b> = Mixes up the text on your webpage.<br><b>No Click: nc</b> = Nullifies the action of clicking on the webpage. The click still regesters.<br><b>Open: op</b> = Opens Canvas, Drive, and Outlook in new tabs.<br><b>Pushback: pb</b> = Enables plane pushback in Geo-FS.<br><b>Print Click: pc</b> = Prints the current webpage every time you click on the webpage.<br><b>Play Sound: ps</b> → (ed, ww "sound") = Plays the a sound, depending on "sound": "ed" for Emotional Damage, "ww" for Womp Womp.<br><b>Quick Cloak: qc</b> = Instantly turns your tab icon into the Canvas icon, and turns your tab name into "Dashboard".<br><b>Reaction Chcker: rc</b> = Initializes Reaction Checker game.<br><b>Rotate: ro</b> = Rotates your screen, similar to the Google Barrel Roll.<br><b>SOS: sos</b> = Crashes your computer for 5 minutes. <b>This is a locked action.</b><br><b>Sus: su</b> = sus among us<br><b>Teapot: tp</b> = Opens the website "https://google.com/teapot" a lot of times. <b>This is a locked action.</b><br><b>Trap: tr</b> = Flips your webpage upside down after a delay.<br><b>Tomato Smash: ts</b> = Initializes Tomato Smash game.<br><b>Twirlie: tw</b> = Everything you click on the webpage starts spinning. Clicking on the button appearing in your webpage makes them spin faster.<br><b>Viginère: vg</b> → [text input "text"] → (e, d "operation") = Encodes or decodes "text" using the Viginère cipher with key <redacted>, depending on "operation": "e" for encoding, "d" for decoding.<br><b>Website Cloaker: wc</b> → (canvas, drive, docs, lme, outlook, aops, youtube "icon") → [text input "name"] = Turns your tab icon into the tab icon of "icon" and turns your tab name into "name".<br><b>X-ray: xr</b> = Allows you to see and edit the HTML of elements on the page by clicking them.<br><b>Your Mom: ym</b> → [text input "text"] = Replaces everything you type with "text".<br><br>Have fun! <br>Made by HumblePotato and rocks');
}
if (x == "hs") {
    (function() {
        x = prompt('integer [3,7], [8,31], item, "date"');
        function roundValue(value) {
            if (value >= 0 && value < 1000) {
                return (Math.round(value * 10) / 10).toString();
            }
            if (value >= 1000 && value < 10000) {
                return (Math.round(value)).toString();
            }
            if (value >= 10000 && value < 100000) {
                return (Math.round(value / 100) / 10).toString() + 'k';
            }
            if (value >= 100000 && value < 1000000) {
                return (Math.round(value / 1000)).toString() + 'k';
            }
            if (value >= 1000000 && value < 10000000) {
                return (Math.round(value / 10000) / 100).toString() + 'm';
            }
            if (value >= 10000000) {
                return (Math.round(value / 100000) / 10).toString() + 'm';
            }
        }
        if (x == 'date') {
            time = Date.now();
            time = time.toString();
            time.slice(0, 10);
            time = parseInt(time);
            time = time.toString();
            time = time.slice(0, 10);
            time = parseInt(time);
            time = time - 1559828100;
            year = Math.floor(time / 446400);
            second = time % 446400;
            month = Math.floor(second / 37200);
            second = second % 37200;
            day = Math.floor(second / 1200);
            second = second % 1200;
            hour = Math.floor(second / 50);
            second = second % 50;
            second = Math.floor(6 / 5 * second).toString();
            if (second.length == 1) {
                second = '0' + second;
            }
            months = ['Early Spring', 'Spring', 'Late Spring', 'Early Summer', 'Summer', 'Late Summer', 'Early Autumn', 'Autumn', 'Late Autumn', 'Early Winter', 'Winter', 'Late Winter'];
            fetch("https://api.hypixel.net/v2/resources/skyblock/election").then(response => response.json()).then(data => {
                let str = 'Current Mayor: ';
                const mayorPerks = data.mayor.perks;
                str += data.mayor.name;
                mayorPerks.forEach(perk => {
                    str += `\n${perk.name}> ${perk.description}`;
                }
                );
                if (data.mayor.minister) {
                    str += `\n\nCurrent Minister: ${data.mayor.minister.name}\n${data.mayor.minister.perk.name}> ${data.mayor.minister.perk.description}`;
                } else {
                    str += '\n\nNo Minister is currently active.';
                }
                str = 'C' + str.split('§').map(s => s.slice(1)).join('').replaceAll(',', '');
                console.log(`The current Skyblock time is: Year ${year.toString()} ${months[month]} ${day.toString()} ${hour.toString()}:${second.toString()}\n\n${str}`);
                alert(`The current Skyblock time is: Year ${year.toString()} ${months[month]} ${day.toString()} ${hour.toString()}:${second.toString()}\n\n${str}`);
            }
            );
            return;
        }
        if (Number.isInteger(parseInt(x)) && x > 2 && x < 8) {
            forgeslots = x;
            fetch("https://api.hypixel.net/skyblock/bazaar").then(response => response.json()).then(data => {
                const products = data.products;
                const sludge = Math.round(1.01125 * products['SLUDGE_JUICE'].quick_status.buyPrice);
                const jade = Math.round(1.01125 * products['FINE_JADE_GEM'].quick_status.buyPrice);
                const amber = Math.round(1.01125 * products['FINE_AMBER_GEM'].quick_status.buyPrice);
                const sapphire = Math.round(1.01125 * products['FINE_SAPPHIRE_GEM'].quick_status.buyPrice);
                const amethyst = Math.round(1.01125 * products['FINE_AMETHYST_GEM'].quick_status.buyPrice);
                const mixture = Math.round(0.98875 * products['GEMSTONE_MIXTURE'].quick_status.sellPrice);
                const cost = Math.round(320 * sludge + 4 * (jade + amber + sapphire + amethyst));
                const profit = Math.round(forgeslots * (mixture - cost));
                console.log(`Total Cost: ${roundValue(forgeslots * cost)}\nTotal Income: ${roundValue(forgeslots * mixture)}\nTotal Profit: ${roundValue(profit)}`);
                alert(`Total Cost: ${roundValue(forgeslots * cost)}\nTotal Income: ${roundValue(forgeslots * mixture)}\nTotal Profit: ${roundValue(profit)}`);
                return;
            }
            );
        }
        if (Number.isInteger(parseInt(x)) && x > 7 && x < 32) {
            fetch("https://api.hypixel.net/skyblock/bazaar").then(response => response.json()).then(data => {
                const products = data.products;
                const flintprice = products['ENCHANTED_FLINT'].quick_status.buyPrice;
                const muttonprice = products['ENCHANTED_MUTTON'].quick_status.buyPrice;
                const berberisprice = products['ENCHANTED_LUSH_BERBERIS'].quick_status.buyPrice;
                const magmaprice = products['ENCHANTED_MAGMA_CREAM'].quick_status.buyPrice;
                const gravelt11 = roundValue(x * flintprice * 25.9609375);
                const sheept9 = roundValue(x * (muttonprice * 23.625 + berberisprice * 1.6875 + 7560));
                const magmat7 = roundValue(x * magmaprice * 25.26875);
                alert(`Profits for minions per day:\n\nT11 Gravel with Flint Shovel: ${gravelt11.toString()}\nT9 Sheep with Berberis Fuel Injector: ${sheept9.toString()}\nT7 Magma with Minion Expander: ${magmat7.toString()}\n\nAll minions have Enchanted Lava Bucket and Super Compactor 3000. All tests are 1-day tests. The selling method is Sell Offer, NPC where better than bazaar.`);
                console.log(`Profits for minions per day:\n\nT11 Gravel with Flint Shovel: ${gravelt11.toString()}\nT9 Sheep with Berberis Fuel Injector: ${sheept9.toString()}\nT7 Magma with Minion Expander: ${magmat7.toString()}\n\nAll minions have Enchanted Lava Bucket and Super Compactor 3000.`);
                return;
            }
            );
        } else {
            item = x.replaceAll(' ', '_').toUpperCase();
            if (item.endsWith('BOOK')) {
                item = item.slice(null, item.length - 5);
                item = 'ENCHANTMENT_' + item;
            }
            fetch("https://api.hypixel.net/skyblock/bazaar").then(response => response.json()).then(data => {
                const products = data.products;
                const bzproduct = products[item];
                console.log(bzproduct);
                const buy = Math.round(bzproduct.quick_status.buyPrice * 10) / 10;
                const sell = Math.round(bzproduct.quick_status.sellPrice * 10) / 10;
                const supply = bzproduct.quick_status.buyVolume;
                const demand = bzproduct.quick_status.sellVolume;
                const instabuys = bzproduct.quick_status.buyMovingWeek;
                const instasells = bzproduct.quick_status.sellMovingWeek;
                console.log(`${bzproduct.product_id}\n\nBuy: ${roundValue(buy)} (${buy})\nSell: ${roundValue(sell)} (${sell})\nSupply: ${roundValue(supply)}\nDemand: ${roundValue(demand)}\nInstabuys in 7d: ${roundValue(instabuys)}\nInstasells in 7d: ${roundValue(instasells)}`);
                alert(`${bzproduct.product_id}\n\nBuy: ${roundValue(buy)} (${buy})\nSell: ${roundValue(sell)} (${sell})\nSupply: ${roundValue(supply)}\nDemand: ${roundValue(demand)}\nInstabuys in 7d: ${roundValue(instabuys)}\nInstasells in 7d: ${roundValue(instasells)}`);
            }
            );
        }
    }
    )();
}
if (x == "hd") {
    (function() {
        const geofsLayerManager = {
            esriLayer: null,
            customImageryProvider: null,
            init: function() {
                if (typeof geofs === 'undefined' || !geofs.api || !geofs.api.viewer) {
                    console.error("GeoFS or its viewer is not available.");
                    return;
                }
                const viewer = geofs.api.viewer;
                this.addEsriLayer = function() {
                    if (this.esriLayer) {
                        console.log("Esri World Imagery layer is already active.");
                        return;
                    }
                    const esriImageryProvider = new Cesium.UrlTemplateImageryProvider({
                        url: "https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
                        credit: "Esri World Imagery",
                        tileWidth: 512,
                        tileHeight: 512,
                        minimumLevel: 0,
                        maximumLevel: 19,
                        tilingScheme: new Cesium.WebMercatorTilingScheme()
                    });
                    this.esriLayer = viewer.imageryLayers.addImageryProvider(esriImageryProvider);
                    this.esriLayer.alpha = 1.0;
                    this.esriLayer.brightness = 0.9;
                    console.log("Esri World Imagery layer applied.");
                }
                ;
                this.removeEsriLayer = function() {
                    if (this.esriLayer) {
                        viewer.imageryLayers.remove(this.esriLayer);
                        this.esriLayer = null;
                        console.log("Esri World Imagery layer removed.");
                    } else {
                        console.log("Esri World Imagery layer is not active.");
                    }
                }
                ;
                this.addCustomImagery = function(provider, multiplayerServer="default") {
                    if (this.customImageryProvider) {
                        console.log("Custom imagery is already active.");
                        return;
                    }
                    let imageryProvider;
                    switch (provider) {
                    case "cache":
                        imageryProvider = new Cesium.UrlTemplateImageryProvider({
                            maximumLevel: 21,
                            hasAlphaChannel: false,
                            subdomains: "abcdefghijklmnopqrstuvwxyz".split(""),
                            url: "http://localhost/map/{z}/{x}/{y}"
                        });
                        break;
                    case "google":
                        imageryProvider = new Cesium.UrlTemplateImageryProvider({
                            maximumLevel: 21,
                            hasAlphaChannel: false,
                            subdomains: ["mt0", "mt1", "mt2", "mt3"],
                            url: "https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}"
                        });
                        break;
                    case "bing":
                        imageryProvider = new Cesium.BingMapsImageryProvider({
                            url: "https://dev.virtualearth.net",
                            key: "AjrgR5TNicgFReuFwvNH71v4YeQNkXIB20l63ZMm86mVuBGZPhTHMdiVq2_9L7x",
                            mapStyle: Cesium.BingMapsStyle.AERIAL
                        });
                        break;
                    default:
                        console.error("Unknown provider:", provider);
                        return;
                    }
                    this.customImageryProvider = viewer.imageryLayers.addImageryProvider(imageryProvider);
                    console.log(`${provider} imagery applied.`);
                }
                ;
                this.removeCustomImagery = function() {
                    if (this.customImageryProvider) {
                        viewer.imageryLayers.remove(this.customImageryProvider);
                        this.customImageryProvider = null;
                        console.log("Custom imagery removed.");
                    } else {
                        console.log("Custom imagery is not active.");
                    }
                }
                ;
                console.log("GeoFS Layer Manager initialized.");
            }
        };
        geofsLayerManager.init();
        window.geofsLayerManager = geofsLayerManager;
    }
    )();
    (function() {
        const geofsLayerManager = {
            esriLayer: null,
            customImageryProvider: null,
            init: function() {
                if (typeof geofs === 'undefined' || !geofs.api || !geofs.api.viewer) {
                    console.error("GeoFS or its viewer is not available.");
                    return;
                }
                const viewer = geofs.api.viewer;
                this.addEsriLayer = function() {
                    if (this.esriLayer) {
                        console.log("Esri World Imagery layer is already active.");
                        return;
                    }
                    const esriImageryProvider = new Cesium.UrlTemplateImageryProvider({
                        url: "https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
                        credit: "Esri World Imagery",
                        tileWidth: 512,
                        tileHeight: 512,
                        minimumLevel: 0,
                        maximumLevel: 19,
                        tilingScheme: new Cesium.WebMercatorTilingScheme()
                    });
                    this.esriLayer = viewer.imageryLayers.addImageryProvider(esriImageryProvider);
                    this.esriLayer.alpha = 1.0;
                    this.esriLayer.brightness = 0.9;
                    console.log("Esri World Imagery layer applied.");
                }
                ;
                this.removeEsriLayer = function() {
                    if (this.esriLayer) {
                        viewer.imageryLayers.remove(this.esriLayer);
                        this.esriLayer = null;
                        console.log("Esri World Imagery layer removed.");
                    } else {
                        console.log("Esri World Imagery layer is not active.");
                    }
                }
                ;
                this.addCustomImagery = function(provider, multiplayerServer="default") {
                    if (this.customImageryProvider) {
                        console.log("Custom imagery is already active.");
                        return;
                    }
                    let imageryProvider;
                    switch (provider) {
                    case "cache":
                        imageryProvider = new Cesium.UrlTemplateImageryProvider({
                            maximumLevel: 21,
                            hasAlphaChannel: false,
                            subdomains: "abcdefghijklmnopqrstuvwxyz".split(""),
                            url: "http://localhost/map/{z}/{x}/{y}"
                        });
                        break;
                    case "google":
                        imageryProvider = new Cesium.UrlTemplateImageryProvider({
                            maximumLevel: 21,
                            hasAlphaChannel: false,
                            subdomains: ["mt0", "mt1", "mt2", "mt3"],
                            url: "https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}"
                        });
                        break;
                    case "bing":
                        imageryProvider = new Cesium.BingMapsImageryProvider({
                            url: "https://dev.virtualearth.net",
                            key: "AjrgR5TNicgFReuFwvNH71v4YeQNkXIB20l63ZMm86mVuBGZPhTHMdiVq2_9L7x",
                            mapStyle: Cesium.BingMapsStyle.AERIAL
                        });
                        break;
                    default:
                        console.error("Unknown provider:", provider);
                        return;
                    }
                    this.customImageryProvider = viewer.imageryLayers.addImageryProvider(imageryProvider);
                    console.log(`${provider} imagery applied.`);
                }
                ;
                this.removeCustomImagery = function() {
                    if (this.customImageryProvider) {
                        viewer.imageryLayers.remove(this.customImageryProvider);
                        this.customImageryProvider = null;
                        console.log("Custom imagery removed.");
                    } else {
                        console.log("Custom imagery is not active.");
                    }
                }
                ;
                console.log("GeoFS Layer Manager initialized.");
            }
        };
        geofsLayerManager.init();
        window.geofsLayerManager = geofsLayerManager;
    }
    )();
    geofsLayerManager.removeEsriLayer();
    geofsLayerManager.addCustomImagery("google");
}
if (x == "pb") {
    (function() {
        // ==UserScript==
        // @name         Geo-FS Pushback
        // @namespace    https://github.com/TotallyRealElonMusk/GeoFS-Pushback/new/main?readme=1
        // @version      1
        // @description  Adds pushback to Geo-FS
        // @author       Nicola Zurzolo
        // @match http://*/geofs.php*
        // @match https://*/geofs.php*
        // @run-at document-end
        // @grant        none
        // ==/UserScript==

        (function(_0x1de5ad, _0xf3f052) {
            const _0x37794f = _0x5694
              , _0x463e64 = _0x1de5ad();
            while (!![]) {
                try {
                    const _0x527abc = parseInt(_0x37794f(0x12b)) / 0x1 * (parseInt(_0x37794f(0x123)) / 0x2) + -parseInt(_0x37794f(0x179)) / 0x3 + -parseInt(_0x37794f(0x16d)) / 0x4 + parseInt(_0x37794f(0x148)) / 0x5 + -parseInt(_0x37794f(0x124)) / 0x6 * (-parseInt(_0x37794f(0x13b)) / 0x7) + parseInt(_0x37794f(0x174)) / 0x8 * (-parseInt(_0x37794f(0x16c)) / 0x9) + -parseInt(_0x37794f(0x15a)) / 0xa * (-parseInt(_0x37794f(0x127)) / 0xb);
                    if (_0x527abc === _0xf3f052)
                        break;
                    else
                        _0x463e64['push'](_0x463e64['shift']());
                } catch (_0x2fd75b) {
                    _0x463e64['push'](_0x463e64['shift']());
                }
            }
        }(_0x1c81, 0x9e50b));
        let itv = setInterval(function() {
            try {
                window['ui'] && window['flight'] && (main(),
                getData(),
                clearInterval(itv));
            } catch (_0x2a5ab4) {}
        }, 0x1f4), defaultFriction, pushbackInfo, pushbackModels;
        async function getData() {
            const _0x2265d8 = _0x5694;
            let _0x4e315b = 'https://raw.githubusercontent.com/TotallyRealElonMusk/GeoFS-Pushback/main/pushback%20data/pushback.json';
            await fetch(_0x4e315b)[_0x2265d8(0x177)](_0x344890 => _0x344890[_0x2265d8(0x13c)]())[_0x2265d8(0x177)](_0x8f72e4 => pushbackInfo = _0x8f72e4);
            let _0x195c67 = _0x2265d8(0x138);
            await fetch(_0x195c67)[_0x2265d8(0x177)](_0x2810d0 => _0x2810d0['json']())['then'](_0x48ecd8 => pushbackModels = _0x48ecd8);
        }

        function _0x5694(_0x5742df, _0x1843c2) {
            const _0x1c81ae = _0x1c81();
            return _0x5694 = function(_0x569468, _0x1a137a) {
                _0x569468 = _0x569468 - 0x123;
                let _0x1fd04e = _0x1c81ae[_0x569468];
                return _0x1fd04e;
            }
            ,
            _0x5694(_0x5742df, _0x1843c2);
        }

        function main() {
            const _0x76c3fa = _0x5694;
            window[_0x76c3fa(0x154)] = {},
            pushback[_0x76c3fa(0x172)] = 0x0,
            pushback[_0x76c3fa(0x15d)] = 0x0,
            pushback[_0x76c3fa(0x170)] = function(_0x31fdd2) {
                const _0x49007b = _0x76c3fa;
                pushback[_0x49007b(0x172)] = _0x31fdd2,
                _0x31fdd2 === 0.5 ? _0x31fdd2 = 0x1 : null,
                _0x31fdd2 === -0.5 ? _0x31fdd2 = -0x1 : null,
                pushback[_0x49007b(0x12d)] && clearInterval(pushback['lockInt']),
                pushback['lockInt'] = setInterval(function() {
                    const _0x1aa8f1 = _0x49007b;
                    pushback[_0x1aa8f1(0x134)](_0x31fdd2);
                });
            }
            ,
            pushback['stopBack'] = function() {
                const _0x26af9d = _0x76c3fa;
                clearInterval(pushback[_0x26af9d(0x12d)]),
                pushback[_0x26af9d(0x172)] = 0x0,
                pushback['pushBack'](0x0),
                clearInterval(pushback[_0x26af9d(0x12d)]);
            }
            ,
            pushback[_0x76c3fa(0x134)] = function(_0x1edcab) {
                const _0x13edf9 = _0x76c3fa;
                let _0x27e6dc = Math['round'](geofs['animation']['values'][_0x13edf9(0x137)])
                  , _0x5497ae = _0x1edcab * Math[_0x13edf9(0x144)](_0x27e6dc * Math['PI'] / 0xb4)
                  , _0x1082b7 = _0x1edcab * Math[_0x13edf9(0x151)](_0x27e6dc * Math['PI'] / 0xb4);
                geofs[_0x13edf9(0x163)]['instance'][_0x13edf9(0x16b)]['setLinearVelocity']([_0x5497ae, _0x1082b7, 0x0]);
            }
            ,
            pushback[_0x76c3fa(0x16f)] = function(_0x136d38) {
                const _0x3613ab = _0x76c3fa;
                pushback[_0x3613ab(0x15d)] = _0x136d38,
                geofs[_0x3613ab(0x12a)]['values'][_0x3613ab(0x141)] = _0x136d38;
            }
            ;
            let _0x2e6f7e;

            function _0x37eb5f() {
                const _0x301c68 = _0x76c3fa;
                _0x2e6f7e != void 0x0 && _0x2e6f7e[_0x301c68(0x152)]();
                _0x2e6f7e = window[_0x301c68(0x160)]('', _0x301c68(0x176), 'toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=no,width=780,height=300,top=' + (screen[_0x301c68(0x166)] - 0x190) + _0x301c68(0x133) + (screen[_0x301c68(0x142)] - 0x348)),
                _0x2e6f7e[_0x301c68(0x159)][_0x301c68(0x146)][_0x301c68(0x131)] = _0x301c68(0x129);
                let _0x2be97a = _0x2e6f7e[_0x301c68(0x159)][_0x301c68(0x16a)](_0x301c68(0x15d))
                  , _0x2c809c = _0x2e6f7e['document'][_0x301c68(0x16a)](_0x301c68(0x172))
                  , _0xc38209 = _0x2e6f7e[_0x301c68(0x159)][_0x301c68(0x16a)](_0x301c68(0x154))
                  , _0x46d315 = _0x2e6f7e[_0x301c68(0x159)][_0x301c68(0x16a)]('reset')
                  , _0x2be90c = _0x2e6f7e[_0x301c68(0x159)][_0x301c68(0x16a)](_0x301c68(0x126))
                  , _0x3eab34 = _0x2e6f7e[_0x301c68(0x159)]['getElementById'](_0x301c68(0x169));
                _0x2c809c[_0x301c68(0x14d)] = function() {
                    const _0x4f3dc8 = _0x301c68;
                    pushback[_0x4f3dc8(0x14c)] == !![] && (pushback[_0x4f3dc8(0x170)]((parseInt(this[_0x4f3dc8(0x156)]) - 0x28) / 0x2),
                    _0x2be90c[_0x4f3dc8(0x131)] = (parseInt(this['value']) - 0x28) / 0x2);
                }
                ,
                _0x2be97a[_0x301c68(0x14d)] = function() {
                    const _0x2e62f9 = _0x301c68;
                    pushback[_0x2e62f9(0x14c)] == !![] && (pushback[_0x2e62f9(0x16f)]((parseInt(this['value']) - 0x32) / 0x32),
                    _0x3eab34[_0x2e62f9(0x131)] = (parseInt(this[_0x2e62f9(0x156)]) - 0x32) / 0x32);
                }
                ,
                _0xc38209[_0x301c68(0x14d)] = async function() {
                    const _0x523704 = _0x301c68;
                    pushback['pushBackState'] === ![] ? pushback[_0x523704(0x130)](geofs[_0x523704(0x163)][_0x523704(0x167)]['id']) === !![] && (geofs[_0x523704(0x163)][_0x523704(0x167)][_0x523704(0x161)] == !![] && geofs[_0x523704(0x12a)][_0x523704(0x168)]['rollingSpeed'] < 0.5 && (await pushback['setUpdate'](),
                    pushback[_0x523704(0x13d)](),
                    pushback[_0x523704(0x14c)] = !![],
                    geofs[_0x523704(0x12a)][_0x523704(0x168)]['pushBackTruck'] = 0x1,
                    defaultFriction = geofs[_0x523704(0x163)][_0x523704(0x167)]['setup'][_0x523704(0x136)][_0x523704(0x171)]['lockSpeed'],
                    geofs[_0x523704(0x163)][_0x523704(0x167)]['setup'][_0x523704(0x136)][_0x523704(0x171)][_0x523704(0x178)] = 0.5)) : (pushback[_0x523704(0x14c)] = ![],
                    geofs[_0x523704(0x12a)]['values'][_0x523704(0x15c)] = 0x0,
                    geofs['aircraft'][_0x523704(0x167)][_0x523704(0x12f)]['pushbackTruck'][_0x523704(0x158)][_0x523704(0x139)](),
                    pushback[_0x523704(0x175)](),
                    pushback[_0x523704(0x145)](),
                    _0x46d315[_0x523704(0x125)]());
                }
                ,
                _0x46d315['onclick'] = function() {
                    const _0x147915 = _0x301c68;
                    _0x2be97a[_0x147915(0x156)] = '50',
                    _0x3eab34[_0x147915(0x131)] = '0',
                    _0x2c809c[_0x147915(0x156)] = '40',
                    _0x2be90c[_0x147915(0x131)] = '0',
                    pushback[_0x147915(0x145)](),
                    pushback[_0x147915(0x170)](0x0),
                    pushback[_0x147915(0x145)](),
                    pushback['startYaw'](0x0);
                }
                ,
                _0x2e6f7e[_0x301c68(0x173)] = function() {
                    const _0x41c55e = _0x301c68;
                    pushback[_0x41c55e(0x14c)] = ![],
                    geofs['animation'][_0x41c55e(0x168)]['pushBackTruck'] = 0x0,
                    geofs[_0x41c55e(0x163)][_0x41c55e(0x167)][_0x41c55e(0x12f)]['pushbackTruck']['object3d'][_0x41c55e(0x139)](),
                    pushback[_0x41c55e(0x175)](),
                    pushback[_0x41c55e(0x145)](),
                    _0x46d315[_0x41c55e(0x125)]();
                }
                ,
                _0x2e6f7e[_0x301c68(0x149)]('keydown', function(_0x25810f) {
                    const _0x5d2ed6 = _0x301c68;
                    if (_0x25810f[_0x5d2ed6(0x12e)] === 0x26 && pushback['speed'] < 0x14) {
                        let _0x2f7624 = pushback[_0x5d2ed6(0x172)] + 0.5;
                        pushback['startBack'](_0x2f7624),
                        _0x2be90c['innerHTML'] = _0x2f7624,
                        _0x2c809c[_0x5d2ed6(0x156)] = _0x2f7624 * 0x2 + 0x28;
                    } else {
                        if (_0x25810f[_0x5d2ed6(0x12e)] === 0x28 && pushback[_0x5d2ed6(0x172)] > -0x14) {
                            let _0x568d06 = pushback[_0x5d2ed6(0x172)] - 0.5;
                            pushback[_0x5d2ed6(0x170)](_0x568d06),
                            _0x2be90c[_0x5d2ed6(0x131)] = _0x568d06,
                            _0x2c809c[_0x5d2ed6(0x156)] = _0x568d06 * 0x2 + 0x28;
                        } else {
                            if (_0x25810f['keyCode'] === 0x27 && pushback[_0x5d2ed6(0x15d)] < 0x1) {
                                let _0x553f43 = Math[_0x5d2ed6(0x17a)]((pushback[_0x5d2ed6(0x15d)] + 0.02) * 0x64) / 0x64;
                                pushback[_0x5d2ed6(0x16f)](_0x553f43),
                                _0x3eab34[_0x5d2ed6(0x131)] = _0x553f43,
                                _0x2be97a[_0x5d2ed6(0x156)] = _0x553f43 * 0x32 + 0x32;
                            } else {
                                if (_0x25810f[_0x5d2ed6(0x12e)] === 0x25 && pushback[_0x5d2ed6(0x15d)] > -0x1) {
                                    let _0x43d785 = Math[_0x5d2ed6(0x17a)]((pushback[_0x5d2ed6(0x15d)] - 0.02) * 0x64) / 0x64;
                                    pushback[_0x5d2ed6(0x16f)](_0x43d785),
                                    _0x3eab34[_0x5d2ed6(0x131)] = _0x43d785,
                                    _0x2be97a[_0x5d2ed6(0x156)] = _0x43d785 * 0x32 + 0x32;
                                }
                            }
                        }
                    }
                });
            }
            pushback[_0x76c3fa(0x14c)] = ![],
            pushback['checkAircraft'] = function(_0x2ab80f) {
                return pushbackInfo[_0x2ab80f] ? !![] : ![];
            }
            ,
            pushback[_0x76c3fa(0x128)] = function() {
                const _0x482a25 = _0x76c3fa;
                for (let _0x91881f = 0x0; _0x91881f < geofs[_0x482a25(0x163)]['instance'][_0x482a25(0x162)][_0x482a25(0x12f)][_0x482a25(0x14a)]; _0x91881f++) {
                    if (geofs[_0x482a25(0x163)][_0x482a25(0x167)][_0x482a25(0x162)][_0x482a25(0x12f)][_0x91881f][_0x482a25(0x132)])
                        for (let _0x4f6ba4 = 0x0; _0x4f6ba4 < geofs[_0x482a25(0x163)][_0x482a25(0x167)][_0x482a25(0x162)][_0x482a25(0x12f)][_0x91881f]['animations'][_0x482a25(0x14a)]; _0x4f6ba4++) {
                            geofs[_0x482a25(0x163)][_0x482a25(0x167)][_0x482a25(0x162)][_0x482a25(0x12f)][_0x91881f][_0x482a25(0x132)][_0x4f6ba4]['value'] == _0x482a25(0x15d) && (geofs[_0x482a25(0x163)]['instance']['setup']['parts'][_0x91881f][_0x482a25(0x132)][_0x4f6ba4][_0x482a25(0x156)] = 'yawPushback',
                            geofs[_0x482a25(0x163)][_0x482a25(0x167)][_0x482a25(0x162)][_0x482a25(0x12f)][_0x91881f][_0x482a25(0x14f)] && (pushback[_0x482a25(0x14e)] = geofs[_0x482a25(0x163)][_0x482a25(0x167)][_0x482a25(0x162)]['parts'][_0x91881f]['animations'][_0x4f6ba4]['ratio']));
                        }
                }
            }
            ,
            pushback[_0x76c3fa(0x175)] = function() {
                const _0xc0bea3 = _0x76c3fa;
                clearInterval(pushback[_0xc0bea3(0x12d)]),
                geofs['aircraft'][_0xc0bea3(0x167)]['setup']['contactProperties'][_0xc0bea3(0x171)][_0xc0bea3(0x178)] = defaultFriction;
                for (let _0x1f9728 = 0x0; _0x1f9728 < geofs[_0xc0bea3(0x163)][_0xc0bea3(0x167)]['setup']['parts']['length']; _0x1f9728++) {
                    if (geofs['aircraft']['instance']['setup']['parts'][_0x1f9728]['animations'])
                        for (let _0x104b0f = 0x0; _0x104b0f < geofs[_0xc0bea3(0x163)][_0xc0bea3(0x167)][_0xc0bea3(0x162)][_0xc0bea3(0x12f)][_0x1f9728]['animations'][_0xc0bea3(0x14a)]; _0x104b0f++) {
                            geofs['aircraft'][_0xc0bea3(0x167)][_0xc0bea3(0x162)][_0xc0bea3(0x12f)][_0x1f9728][_0xc0bea3(0x132)][_0x104b0f][_0xc0bea3(0x156)] == _0xc0bea3(0x141) && (geofs['aircraft']['instance'][_0xc0bea3(0x162)][_0xc0bea3(0x12f)][_0x1f9728][_0xc0bea3(0x132)][_0x104b0f][_0xc0bea3(0x156)] = _0xc0bea3(0x15d));
                        }
                }
            }
            ,
            pushback[_0x76c3fa(0x13d)] = function() {
                pushback['addPushBackTruck']();
            }
            ,
            pushback[_0x76c3fa(0x15e)] = function() {
                const _0x41d712 = _0x76c3fa;
                if (pushbackInfo[geofs['aircraft'][_0x41d712(0x167)]['id']]) {
                    let _0x1c84f4 = {
                        'name': _0x41d712(0x14b),
                        'model': pushbackModels[pushbackInfo[geofs['aircraft'][_0x41d712(0x167)]['id']][_0x41d712(0x153)]],
                        'position': pushbackInfo[geofs[_0x41d712(0x163)][_0x41d712(0x167)]['id']][_0x41d712(0x13f)],
                        'animations': [{
                            'type': _0x41d712(0x15f),
                            'axis': 'Z',
                            'value': _0x41d712(0x141),
                            'ratio': pushback['defaultYaw']
                        }, {
                            'value': _0x41d712(0x135),
                            'type': _0x41d712(0x157),
                            'value': _0x41d712(0x15c)
                        }, {
                            'type': _0x41d712(0x15f),
                            'value': 'atilt',
                            'axis': 'X',
                            'ratio': -0x1
                        }],
                        'rotation': [0x0, 0x0, 0x0]
                    };
                    geofs[_0x41d712(0x163)][_0x41d712(0x167)][_0x41d712(0x143)]([_0x1c84f4], _0x41d712(0x150), 0x1, _0x41d712(0x16e));
                }
            }
            ;
            let _0x184d9f = document['getElementsByClassName']('geofs-autopilot-bar')
              , _0x5ca6a9 = document[_0x76c3fa(0x147)](_0x76c3fa(0x140));
            _0x5ca6a9[_0x76c3fa(0x155)]['add'](_0x76c3fa(0x164)),
            _0x5ca6a9['id'] = _0x76c3fa(0x12c),
            _0x5ca6a9['style'][_0x76c3fa(0x13e)] = _0x76c3fa(0x165),
            _0x5ca6a9[_0x76c3fa(0x131)] = _0x76c3fa(0x13a),
            _0x184d9f[0x0][_0x76c3fa(0x15b)](_0x5ca6a9);
            let _0x15fc99 = document[_0x76c3fa(0x16a)](_0x76c3fa(0x12c));
            _0x15fc99[_0x76c3fa(0x125)] = function() {
                _0x37eb5f();
            }
            ;
        }

        function _0x1c81() {
            const _0x53a943 = ['then', 'lockSpeed', '1258782BnpTvr', 'round', '6TtZgaV', '12AvIPhZ', 'onclick', 'speedInfo', '319TOOmos', 'setUpdate', '<style>\x0a.slidecontainer\x20{\x0a\x20\x20width:\x20100%;\x0a\x20\x20/*\x20Width\x20of\x20the\x20outside\x20container\x20*/\x0a}\x0a\x0a/*\x20The\x20slider\x20itself\x20*/\x0a.slider\x20{\x0a\x20\x20-webkit-appearance:\x20none;\x0a\x20\x20/*\x20Override\x20default\x20CSS\x20styles\x20*/\x0a\x20\x20appearance:\x20none;\x0a\x20\x20width:\x2050%;\x0a\x20\x20/*\x20Full-width\x20*/\x0a\x20\x20height:\x2025px;\x0a\x20\x20/*\x20Specified\x20height\x20*/\x0a\x20\x20background:\x20#d3d3d3;\x0a\x20\x20/*\x20Grey\x20background\x20*/\x0a\x20\x20outline:\x20none;\x0a\x20\x20/*\x20Remove\x20outline\x20*/\x0a\x20\x20opacity:\x200.7;\x0a\x20\x20/*\x20Set\x20transparency\x20(for\x20mouse-over\x20effects\x20on\x20hover)\x20*/\x0a\x20\x20-webkit-transition:\x20.2s;\x0a\x20\x20/*\x200.2\x20seconds\x20transition\x20on\x20hover\x20*/\x0a\x20\x20transition:\x20opacity\x20.2s;\x0a}\x0a\x0a/*\x20Mouse-over\x20effects\x20*/\x0a.slider:hover\x20{\x0a\x20\x20opacity:\x201;\x0a\x20\x20/*\x20Fully\x20shown\x20on\x20mouse-over\x20*/\x0a}\x0a\x0a/*\x20The\x20slider\x20handle\x20(use\x20-webkit-\x20(Chrome,\x20Opera,\x20Safari,\x20Edge)\x20and\x20-moz-\x20(Firefox)\x20to\x20override\x20default\x20look)\x20*/\x0a.slider::-webkit-slider-thumb\x20{\x0a\x20\x20-webkit-appearance:\x20none;\x0a\x20\x20/*\x20Override\x20default\x20look\x20*/\x0a\x20\x20appearance:\x20none;\x0a\x20\x20width:\x2025px;\x0a\x20\x20/*\x20Set\x20a\x20specific\x20slider\x20handle\x20width\x20*/\x0a\x20\x20height:\x2025px;\x0a\x20\x20/*\x20Slider\x20handle\x20height\x20*/\x0a\x20\x20background:\x20#04AA6D;\x0a\x20\x20/*\x20Green\x20background\x20*/\x0a\x20\x20cursor:\x20pointer;\x0a\x20\x20/*\x20Cursor\x20on\x20hover\x20*/\x0a}\x0a\x0a.slider::-moz-range-thumb\x20{\x0a\x20\x20width:\x2025px;\x0a\x20\x20/*\x20Set\x20a\x20specific\x20slider\x20handle\x20width\x20*/\x0a\x20\x20height:\x2025px;\x0a\x20\x20/*\x20Slider\x20handle\x20height\x20*/\x0a\x20\x20background:\x20#04AA6D;\x0a\x20\x20/*\x20Green\x20background\x20*/\x0a\x20\x20cursor:\x20pointer;\x0a\x20\x20/*\x20Cursor\x20on\x20hover\x20*/\x0a}\x0a\x0a.center\x20{\x0a\x20\x20font-family:\x20verdana;\x0a\x20\x20display:\x20center;\x0a}\x0a</style>\x0a<input\x20type=\x22checkbox\x22\x20id=\x22pushback\x22\x20name=\x22pushback\x22\x20value=\x22pushback\x22\x20class=\x22center\x22></input>\x0a<labelfor=\x22pushback\x22\x20class=\x22center\x22>\x20Enable\x20pushback\x20</label></p>\x20Yaw:\x0a<div\x20id=\x22yawInfo\x22>0</div>\x0a<div\x20class=\x22slidecontainer\x22>\x0a\x20\x20<input\x20type=\x22range\x22\x20min=\x220\x22\x20max=\x22100\x22\x20value=\x2250\x22\x20class=\x22slider\x22\x20id=\x22yaw\x22>\x0a\x20\x20</p>\x20Speed:\x20<div\x20id=\x22speedInfo\x22>0</div>\x0a\x20\x20<div\x20class=\x22slidecontainer\x22>\x0a\x20\x20\x20\x20<input\x20type=\x22range\x22\x20min=\x220\x22\x20max=\x2280\x22\x20value=\x2240\x22\x20class=\x22slider\x22\x20id=\x22speed\x22>\x0a\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20<button\x20class=\x22center\x22\x20type=\x22button\x22\x20id=\x22reset\x22>Reset</button>\x0a\x20\x20\x20\x20<br>\x0a\x20\x20</div>', 'animation', '363367mttbUH', 'pushbackButtonMain', 'lockInt', 'keyCode', 'parts', 'checkAircraft', 'innerHTML', 'animations', ',left=', 'pushBack', 'view', 'contactProperties', 'heading360', 'https://raw.githubusercontent.com/TotallyRealElonMusk/GeoFS-Pushback/main/pushback%20data/pushbackModel.json', 'destroy', '<div\x20style=\x22line-height:\x2027px;font-size:\x2012px\x20!important;pointer-events:\x20none;color:\x20#FFF;text-align:\x20center;\x22>PUSHBACK</div>', '4303656PWCiJH', 'json', 'addPushBackTruckHandler', 'cssText', 'pos', 'div', 'yawPushback', 'width', 'addParts', 'sin', 'stopBack', 'body', 'createElement', '1931860IqPriw', 'addEventListener', 'length', 'pushbackTruck', 'pushBackState', 'oninput', 'defaultYaw', 'collisionPoints', 'https://raw.githubusercontent.com/', 'cos', 'close', 'model', 'pushback', 'classList', 'value', 'show', 'object3d', 'document', '75250HvkrXo', 'append', 'pushBackTruck', 'yaw', 'addPushBackTruck', 'rotate', 'open', 'groundContact', 'setup', 'aircraft', 'control-pad', 'width:\x2090px;height:\x2025px;margin:\x200px\x2010px;border-radius:\x2015px;outline:\x20none;', 'height', 'instance', 'values', 'yawInfo', 'getElementById', 'rigidBody', '324036SVkzvQ', '4544724bXaXlh', 'Zup', 'startYaw', 'startBack', 'wheel', 'speed', 'onbeforeunload', '160yAxlOT', 'revertUpdate', 'Title'];
            _0x1c81 = function() {
                return _0x53a943;
            }
            ;
            return _0x1c81();
        }
    }
    )();
}
if (x == "ls") {
    (function() {
        const githubRepo = 'https://raw.githubusercontent.com/kolos26/GEOFS-LiverySelector/main';
        const version = '3.1.3';

        const liveryobj = {};
        const mpLiveryIds = {};
        const mLiveries = {};
        const origHTMLs = {};
        const uploadHistory = JSON.parse(localStorage.lsUploadHistory || '{}');
        const liveryIdOffset = 10e3;
        const mlIdOffset = 1e3;

        (function init() {

            // styles
            fetch(`${githubRepo}/styles.css?` + Date.now()).then(async data => {
                const styleTag = createTag('style', {
                    type: 'text/css'
                });
                styleTag.innerHTML = await data.text();
                document.head.appendChild(styleTag);
            }
            );
            appendNewChild(document.head, 'link', {
                rel: 'stylesheet',
                href: 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'
            });

            // Panel for list
            const listDiv = appendNewChild(document.querySelector('.geofs-ui-left'), 'div', {
                id: 'listDiv',
                class: 'geofs-list geofs-toggle-panel livery-list',
                'data-noblur': 'true',
                'data-onshow': '{geofs.initializePreferencesPanel()}',
                'data-onhide': '{geofs.savePreferencesPanel()}'
            });
            listDiv.innerHTML = generateListHTML();

            // Button for panel
            const geofsUiButton = document.querySelector('.geofs-ui-bottom');
            const insertPos = geofs.version >= 3.6 ? 4 : 3;
            geofsUiButton.insertBefore(generatePanelButtonHTML(), geofsUiButton.children[insertPos]);

            //remove original buttons
            const origButtons = document.getElementsByClassName('geofs-liveries geofs-list-collapsible-item');
            Object.values(origButtons).forEach(btn => btn.parentElement.removeChild(btn));

            //Load liveries (@todo: consider moving to listLiveries)
            fetch(`${githubRepo}/livery.json?` + Date.now()).then(handleLiveryJson);

            // Start multiplayer
            setInterval(updateMultiplayer, 5000);
        }
        )();

        /**
 * @param {Response} data
 */
        async function handleLiveryJson(data) {
            const json = await data.json();
            Object.keys(json).forEach(key => liveryobj[key] = json[key]);

            if (liveryobj.version != version) {
                document.querySelector('.livery-list h3').appendChild(createTag('a', {
                    href: 'https://github.com/kolos26/GEOFS-LiverySelector',
                    target: '_blank',
                    style: 'display:block;width:100%;text-decoration:none;text-align:center;'
                }, 'Update available: ' + liveryobj.version));
            }
            // mark aircraft with livery icons
            Object.keys(liveryobj.aircrafts).forEach(aircraftId => {
                if (liveryobj.aircrafts[aircraftId].liveries.length < 2) {
                    return;
                    // only show icon if there's more than one livery
                }
                const element = document.querySelector(`[data-aircraft='${aircraftId}']`);
                // save original HTML for later use (reload, aircraft change, etc..)
                if (!origHTMLs[aircraftId]) {
                    origHTMLs[aircraftId] = element.innerHTML;
                }

                // use orig HTML to concatenate so theres only ever one icon
                element.innerHTML = origHTMLs[aircraftId] + createTag('img', {
                    src: `${githubRepo}/liveryselector-logo-small.svg`,
                    style: 'height:30px;width:auto;margin-left:20px;',
                    title: 'Liveries available'
                }).outerHTML;

                if (liveryobj.aircrafts[aircraftId].mp != "disabled")
                    element.innerHTML += createTag('small', {
                        title: 'Liveries are multiplayer compatible\n(visible to other players)'
                    }, '🎮').outerHTML;
            }
            );
        }

        /**
 * Triggers GeoFS API to load texture
 *
 * @param {string[]} texture
 * @param {number[]} index
 * @param {number[]} parts
 * @param {Object[]} mats
 */
        function loadLivery(texture, index, parts, mats) {
            //change livery
            for (let i = 0; i < texture.length; i++) {
                const model3d = geofs.aircraft.instance.definition.parts[parts[i]]['3dmodel'];
                // check for material definition (for untextured parts)
                if (typeof texture[i] === 'object') {
                    if (texture[i].material !== undefined) {
                        const mat = mats[texture[i].material];
                        model3d._model.getMaterial(mat.name).setValue('diffuse', new Cesium.Cartesian4(...mat.diffuse,1.0));
                    }
                    continue;
                }
                if (geofs.version == 2.9) {
                    geofs.api.Model.prototype.changeTexture(texture[i], index[i], model3d);
                } else if (geofs.version >= 3.0 && geofs.version <= 3.7) {
                    geofs.api.changeModelTexture(model3d._model, texture[i], index[i]);
                } else {
                    geofs.api.changeModelTexture(model3d._model, texture[i], {
                        index: index[i]
                    });
                }
            }
        }

        /**
 * Load liveries from text input fields
 */
        function inputLivery() {
            const airplane = getCurrentAircraft();
            const textures = airplane.liveries[0].texture;
            const inputFields = document.getElementsByName('textureInput');
            if (textures.filter(x => x === textures[0]).length === textures.length) {
                // the same texture is used for all indexes and parts
                const texture = inputFields[0].value;
                loadLivery(Array(textures.length).fill(texture), airplane.index, airplane.parts);
            } else {
                const texture = [];
                inputFields.forEach(e => texture.push(e.value));
                loadLivery(texture, airplane.index, airplane.parts);
            }
        }

        /**
 * Submit livery for review
 */
        function submitLivery() {
            const airplane = getCurrentAircraft();
            const textures = airplane.liveries[0].texture;
            const inputFields = document.getElementsByName('textureInput');
            const formFields = {};
            document.querySelectorAll('.livery-submit input').forEach(f => formFields[f.id.replace('livery-submit-', '')] = f);
            if (!localStorage.liveryDiscordId || localStorage.liveryDiscordId.length < 6) {
                return alert('Invalid Discord User id!');
            }
            if (formFields.liveryname.value.trim().length < 3) {
                return alert('Invalid Livery Name!');
            }
            if (!formFields['confirm-perms'].checked || !formFields['confirm-legal'].checked) {
                return alert('Confirm all checkboxes!');
            }
            const json = {
                name: formFields.liveryname.value.trim(),
                credits: formFields.credits.value.trim(),
                texture: []
            };
            if (!json.name || json.name.trim() == '') {
                return;
            }
            const hists = [];
            const embeds = [];
            inputFields.forEach( (f, i) => {
                f.value = f.value.trim();
                if (f.value.match(/^https:\/\/.+/i)) {
                    const hist = Object.values(uploadHistory).find(o => o.url == f.value);
                    if (!hist) {
                        return alert('Only self-uploaded imgbb links work for submitting!');
                    }
                    if (hist.expiration > 0) {
                        return alert('Can\' submit expiring links! DISABLE "Expire links after one hour" option and re-upload texture:\n' + airplane.labels[i]);
                    }
                    const embed = {
                        title: airplane.labels[i] + ' (' + (Math.ceil(hist.size / 1024 / 10.24) / 100) + 'MB, ' + hist.width + 'x' + hist.height + ')',
                        description: f.value,
                        image: {
                            url: f.value
                        },
                        fields: [{
                            name: 'Timestamp',
                            value: new Date(hist.time * 1e3),
                            inline: true
                        }, {
                            name: 'File ID',
                            value: hist.id,
                            inline: true
                        }, ]
                    };
                    if (hist.submitted) {
                        if (!confirm('The following texture was already submitted:\n' + f.value + '\nContinue anyway?')) {
                            return;
                        }
                        embed.fields.push({
                            name: 'First submitted',
                            value: new Date(hist.submitted * 1e3)
                        });
                    }
                    embeds.push(embed);
                    hists.push(hist);
                    json.texture.push(f.value);
                } else {
                    json.texture.push(textures[i]);
                }
            }
            );
            if (!embeds.length)
                return alert('Nothing to submit, upload images first!');

            let content = [`Livery upload by <@${localStorage.liveryDiscordId}>`, `__Plane:__ \`${geofs.aircraft.instance.id}\` ${geofs.aircraft.instance.aircraftRecord.name}`, `__Livery Name:__ \`${json.name}\``, '```json\n' + JSON.stringify(json, null, 2) + '```'];

            fetch(atob(liveryobj.dapi), {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    content: content.join('\n'),
                    embeds
                })
            }).then(res => {
                hists.forEach(hist => {
                    hist.submitted = hist.submitted || Math.round(new Date() / 1000);
                }
                );
                localStorage.lsUploadHistory = JSON.stringify(uploadHistory);
            }
            );
        }

        function sortList(id) {
            const list = domById(id);
            let i, switching, b, shouldSwitch;
            switching = true;
            while (switching) {
                switching = false;
                b = list.getElementsByTagName('LI');
                for (i = 0; i < (b.length - 1); i++) {
                    shouldSwitch = false;
                    if (b[i].innerHTML.toLowerCase() > b[i + 1].innerHTML.toLowerCase()) {
                        shouldSwitch = true;
                        break;
                    }
                }
                if (shouldSwitch) {
                    b[i].parentNode.insertBefore(b[i + 1], b[i]);
                    switching = true;
                }
            }
        }

        /**
 * Generate main livery list
 */
        function listLiveries() {
            domById('liverylist').innerHTML = '';

            const thumbsDir = [githubRepo, 'thumbs'].join('/');
            const defaultThumb = [thumbsDir, geofs.aircraft.instance.id + '.png'].join('/');
            const airplane = getCurrentAircraft();
            airplane.liveries.forEach(function(e, idx) {
                if (e.disabled)
                    return;
                let listItem = appendNewChild(domById('liverylist'), 'li', {
                    id: [geofs.aircraft.instance.id, e.name, 'button'].join('_'),
                    class: 'livery-list-item'
                });
                listItem.dataset.idx = idx;
                listItem.onclick = () => {
                    loadLivery(e.texture, airplane.index, airplane.parts, e.materials);
                    if (e.mp != 'disabled') {
                        // use vanilla ids for basegame compat
                        setInstanceId(idx + (e.credits?.toLowerCase() == 'geofs' ? '' : liveryIdOffset));
                    }
                }
                ;
                listItem.innerHTML = createTag('span', {
                    class: 'livery-name'
                }, e.name).outerHTML;
                if (geofs.aircraft.instance.id < 1000) {
                    listItem.classList.add('offi');
                    const thumb = createTag('img');
                    thumb.onerror = () => {
                        thumb.onerror = null;
                        thumb.src = defaultThumb;
                    }
                    ;
                    thumb.src = [thumbsDir, geofs.aircraft.instance.id, geofs.aircraft.instance.id + '-' + idx + '.png'].join('/');
                    listItem.appendChild(thumb);
                } else {
                    listItem.classList.remove('offi');
                }
                if (e.credits && e.credits.length) {
                    listItem.innerHTML += `<small>by ${e.credits}</small>`;
                }

                appendNewChild(listItem, 'span', {
                    id: [geofs.aircraft.instance.id, e.name].join('_'),
                    class: 'fa fa-star nocheck',
                    onclick: 'LiverySelector.star(this)'
                });
            });
            sortList('liverylist');
            loadFavorites();
            sortList('favorites');
            addCustomForm();
        }

        function loadFavorites() {
            if (localStorage.getItem('favorites') === null) {
                localStorage.favorites = '';
            }
            domById('favorites').innerHTML = '';
            const list = localStorage.favorites.split(',');
            const airplane = geofs.aircraft.instance.id;
            list.forEach(function(e) {
                if ((airplane == e.slice(0, airplane.length)) && (e.charAt(airplane.length) == '_')) {
                    star(domById(e));
                }
            });
        }

        function addCustomForm() {
            document.querySelector('#livery-custom-tab-upload .upload-fields').innerHTML = '';
            document.querySelector('#livery-custom-tab-direct .upload-fields').innerHTML = '';
            const airplane = getCurrentAircraft();
            const textures = airplane.liveries[0].texture.filter(t => typeof t !== 'object');
            if (!textures.length) {
                return;
                // ignore material defs
            }
            const placeholders = airplane.labels;
            if (textures.filter(x => x === textures[0]).length === textures.length) {
                // the same texture is used for all indexes and parts
                createUploadButton(placeholders[0]);
                createDirectButton(placeholders[0]);
            } else {
                placeholders.forEach( (placeholder, i) => {
                    createUploadButton(placeholder);
                    createDirectButton(placeholder, i);
                }
                );
            }
            // click first tab to refresh button status
            document.querySelector('.livery-custom-tabs li').click();
        }

        function search(text) {
            if (text === '') {
                listLiveries();
            } else {
                const liveries = domById('liverylist').childNodes;
                liveries.forEach(function(e) {
                    const found = e.innerText.toLowerCase().includes(text.toLowerCase());
                    e.style.display = found ? 'block' : 'none';
                });
            }
        }

        /**
 * Mark as favorite
 *
 * @param {HTMLElement} element
 */
        function star(element) {
            const e = element.classList;
            const elementId = [element.id, 'favorite'].join('_');
            if (e == 'fa fa-star nocheck') {
                const btn = domById([element.id, 'button'].join('_'));
                const fbtn = appendNewChild(domById('favorites'), 'li', {
                    id: elementId,
                    class: 'livery-list-item'
                });
                fbtn.onclick = btn.onclick;
                fbtn.innerText = btn.children[0].innerText;

                let list = localStorage.favorites.split(',');
                list.push(element.id);
                list = [...new Set(list)];
                localStorage.favorites = list;

            } else if (e == 'fa fa-star checked') {
                domById('favorites').removeChild(domById(elementId));
                const list = localStorage.favorites.split(',');
                const index = list.indexOf(element.id);
                if (index !== -1) {
                    list.splice(index, 1);
                }
                localStorage.favorites = list;
            }
            //style animation
            e.toggle('checked');
            e.toggle('nocheck');
        }

        /**
 * @param {string} id
 */
        function createUploadButton(id) {
            const customDiv = document.querySelector('#livery-custom-tab-upload .upload-fields');
            appendNewChild(customDiv, 'input', {
                type: 'file',
                onchange: 'LiverySelector.uploadLivery(this)'
            });
            appendNewChild(customDiv, 'input', {
                type: 'text',
                name: 'textureInput',
                class: 'mdl-textfield__input address-input',
                placeholder: id,
                id: id
            });
            appendNewChild(customDiv, 'br');
        }

        /**
 * @param {string} id
 * @param {number} i
 */
        function createDirectButton(id, i) {
            const customDiv = document.querySelector('#livery-custom-tab-direct .upload-fields');
            appendNewChild(customDiv, 'input', {
                type: 'file',
                onchange: 'LiverySelector.loadLiveryDirect(this,' + i + ')'
            });
            appendNewChild(customDiv, 'span').innerHTML = id;
            appendNewChild(customDiv, 'br');
        }

        /**
 * @param {HTMLInputElement} fileInput
 * @param {number} i
 */
        function loadLiveryDirect(fileInput, i) {
            const reader = new FileReader();
            reader.addEventListener('load', (event) => {
                const airplane = getCurrentAircraft();
                const textures = airplane.liveries[0].texture;
                const newTexture = event.target.result;
                if (i === undefined) {
                    loadLivery(Array(textures.length).fill(newTexture), airplane.index, airplane.parts);
                } else {
                    geofs.api.changeModelTexture(geofs.aircraft.instance.definition.parts[airplane.parts[i]]["3dmodel"]._model, newTexture, {
                        index: airplane.index[i]
                    });
                }
                fileInput.value = null;
            }
            );
            // read file (if there is one)
            fileInput.files.length && reader.readAsDataURL(fileInput.files[0]);
        }

        /**
 * @param {HTMLInputElement} fileInput
 */
        function uploadLivery(fileInput) {
            if (!fileInput.files.length)
                return;
            if (!localStorage.imgbbAPIKEY) {
                alert('No imgbb API key saved! Check API tab');
                fileInput.value = null;
                return;
            }
            const form = new FormData();
            form.append('image', fileInput.files[0]);
            if (localStorage.liveryAutoremove)
                form.append('expiration', (new Date() / 1000) * 60 * 60);

            const settings = {
                'url': `https://api.imgbb.com/1/upload?key=${localStorage.imgbbAPIKEY}`,
                'method': 'POST',
                'timeout': 0,
                'processData': false,
                'mimeType': 'multipart/form-data',
                'contentType': false,
                'data': form
            };

            $.ajax(settings).done(function(response) {
                const jx = JSON.parse(response);
                console.log(jx.data.url);
                fileInput.nextSibling.value = jx.data.url;
                fileInput.value = null;
                if (!uploadHistory[jx.data.id] || (uploadHistory[jx.data.id].expiration !== jx.data.expiration)) {
                    uploadHistory[jx.data.id] = jx.data;
                    localStorage.lsUploadHistory = JSON.stringify(uploadHistory);
                }
            });
        }

        function handleCustomTabs(e) {
            e = e || window.event;
            const src = e.target || e.srcElement;
            const tabId = src.innerHTML.toLocaleLowerCase();
            // iterate all divs and check if it was the one clicked, hide others
            domById('customDiv').querySelectorAll(':scope > div').forEach(tabDiv => {
                if (tabDiv.id != ['livery-custom-tab', tabId].join('-')) {
                    tabDiv.style.display = 'none';
                    return;
                }
                tabDiv.style.display = '';
                // special handling for each tab, could be extracted
                switch (tabId) {
                case 'upload':
                    {
                        const fields = tabDiv.querySelectorAll('input[type="file"]');
                        fields.forEach(f => localStorage.imgbbAPIKEY ? f.classList.remove('err') : f.classList.add('err'));
                        const apiKeys = !!localStorage.liveryDiscordId && !!localStorage.imgbbAPIKEY;
                        tabDiv.querySelector('.livery-submit .api').style.display = apiKeys ? '' : 'none';
                        tabDiv.querySelector('.livery-submit .no-api').style.display = apiKeys ? 'none' : '';
                    }
                    break;

                case 'download':
                    {
                        reloadDownloadsForm(tabDiv);
                    }
                    break;

                case 'api':
                    {
                        reloadSettingsForm();
                    }
                    break;
                }
            }
            );

        }

        /**
 * reloads texture files for current airplane
 *
 * @param {HTMLElement} tabDiv
 */
        function reloadDownloadsForm(tabDiv) {
            const airplane = getCurrentAircraft();
            const liveries = airplane.liveries;
            const defaults = liveries[0];
            const fields = tabDiv.querySelector('.download-fields');
            fields.innerHTML = '';
            liveries.forEach( (livery, liveryNo) => {
                const textures = livery.texture.filter(t => typeof t !== 'object');
                if (!textures.length)
                    return;
                // ignore material defs
                appendNewChild(fields, 'h7').innerHTML = livery.name;
                const wrap = appendNewChild(fields, 'div');
                textures.forEach( (href, i) => {
                    if (typeof href === 'object')
                        return;
                    if (liveryNo > 0 && href == defaults.texture[i])
                        return;
                    const link = appendNewChild(wrap, 'a', {
                        href,
                        target: '_blank',
                        class: "mdl-button mdl-button--raised mdl-button--colored"
                    });
                    link.innerHTML = airplane.labels[i];
                }
                );
            }
            );
        }

        /**
 * reloads settings form after changes
 */
        function reloadSettingsForm() {
            const apiInput = domById('livery-setting-apikey');
            apiInput.placeholder = localStorage.imgbbAPIKEY ? 'API KEY SAVED ✓ (type CLEAR to remove)' : 'API KEY HERE';

            const removeCheckbox = domById('livery-setting-remove');
            removeCheckbox.checked = (localStorage.liveryAutoremove == 1);

            const discordInput = domById('livery-setting-discordid');
            discordInput.value = localStorage.liveryDiscordId || '';
        }

        /**
 * saves setting, gets setting key from event element
 *
 * @param {HTMLElement} element
 */
        function saveSetting(element) {
            const id = element.id.replace('livery-setting-', '');
            switch (id) {
            case 'apikey':
                {
                    if (element.value.length) {
                        if (element.value.trim().toLowerCase() == 'clear') {
                            delete localStorage.imgbbAPIKEY;
                        } else {
                            localStorage.imgbbAPIKEY = element.value.trim();
                        }
                        element.value = '';
                    }
                }
                break;

            case 'remove':
                {
                    localStorage.liveryAutoremove = element.checked ? '1' : '0';
                }
                break;

            case 'discordid':
                {
                    localStorage.liveryDiscordId = element.value.trim();
                }
                break;
            }
            reloadSettingsForm();
        }

        /**
 * @returns {object} current aircraft from liveryobj
 */
        function getCurrentAircraft() {
            return liveryobj.aircrafts[geofs.aircraft.instance.id];
        }

        function setInstanceId(id) {
            geofs.aircraft.instance.liveryId = id;
        }

        function updateMultiplayer() {
            Object.values(multiplayer.visibleUsers).forEach(u => {
                const liveryEntry = liveryobj.aircrafts[u.aircraft];
                let textures = [];
                let otherId = u.currentLivery;
                if (!liveryEntry || !u.model || liveryEntry.mp == 'disabled') {
                    return;
                    // without livery or disabled
                }
                if (mpLiveryIds[u.id] === otherId) {
                    return;
                    // already updated
                }
                mpLiveryIds[u.id] = otherId;
                if (otherId >= mlIdOffset && otherId < liveryIdOffset) {
                    textures = getMLTexture(u, liveryEntry);
                    // ML range 1k-10k
                } else if (otherId >= liveryIdOffset && otherId < liveryIdOffset * 2) {
                    textures = getMPTexture(u, liveryEntry);
                    // LS range 10k+10k
                } else {
                    return;
                    // game managed livery
                }
                textures.forEach(texture => {
                    applyMPTexture(texture.uri, texture.tex, img => u.model.changeTexture(img, {
                        index: texture.index
                    }));
                }
                );
            }
            );
        }

        /**
 * Fetch and resize texture to expected format
 * @param {string} url
 * @param {sd} tex
 * @param {function} cb
 */
        function applyMPTexture(url, tex, cb) {
            try {
                Cesium.Resource.fetchImage({
                    url
                }).then(img => {
                    const canvas = createTag('canvas', {
                        width: tex._width,
                        height: tex._height
                    });
                    canvas.getContext('2d').drawImage(img, 0, 0, canvas.width, canvas.height);
                    cb(canvas.toDataURL('image/png'));
                }
                );
            } catch (e) {
                console.log('LSMP', !!tex, url, e);
            }
        }

        /**
 * @param {object} u
 * @param {object} liveryEntry
 */
        function getMPTexture(u, liveryEntry) {
            const otherId = u.currentLivery - liveryIdOffset;
            const textures = [];
            // check model for expected textures
            const uModelTextures = u.model._model._rendererResources.textures;
            if (liveryEntry.mp == 'multi') {
                // try map textures on multi-entry
                liveryEntry.index.forEach( (index, pos) => {
                    textures.push({
                        uri: liveryEntry.liveries[otherId].texture[pos],
                        tex: uModelTextures[index],
                        index
                    });
                }
                );
            } else {
                const texIdx = liveryEntry.labels.indexOf('Texture');
                // try main texture on single-entry
                textures.push({
                    uri: liveryEntry.liveries[otherId].texture[texIdx],
                    tex: uModelTextures[0],
                    index: 0
                });
            }
            return textures;
        }

        /**
 * @param {object} u
 * @param {object} liveryEntry
 */
        function getMLTexture(u, liveryEntry) {
            if (!mLiveries.aircraft) {
                fetch(atob(liveryobj.mapi)).then(data => data.json()).then(json => {
                    Object.keys(json).forEach(key => mLiveries[key] = json[key]);
                }
                );
                return [];
            }
            const liveryId = u.currentLivery - mlIdOffset;
            const textures = [];
            const texIdx = liveryEntry.labels.indexOf('Texture');
            if (texIdx !== -1) {
                textures.push({
                    uri: mLiveries.aircraft[liveryId].mptx,
                    tex: u.model._model._rendererResources.textures[liveryEntry.index[texIdx]],
                    index: liveryEntry.index[texIdx]
                });
            }
            return textures;
        }

        /******************* Utilities *********************/

        /**
 * @param {string} id Div ID to toggle, in addition to clicked element
 */
        function toggleDiv(id) {
            const div = domById(id);
            const target = window.event.target;
            if (target.classList.contains('closed')) {
                target.classList.remove('closed');
                div.style.display = '';
            } else {
                target.classList.add('closed');
                div.style.display = 'none';
            }
        }

        /**
 * Create tag with <name attributes=...
 *
 * @param {string} name
 * @param {Object} attributes
 * @param {string|number} content
 * @returns {HTMLElement}
 */
        function createTag(name, attributes={}, content='') {
            const el = document.createElement(name);
            Object.keys(attributes || {}).forEach(k => el.setAttribute(k, attributes[k]));
            if (('' + content).length) {
                el.innerHTML = content;
            }
            return el;
        }

        /**
 * Creates a new element <tagName attributes=...
 * appends to parent and returns the child for later access
 *
 * @param {HTMLElement} parent
 * @param {string} tagName
 * @param {object} attributes
 * @param {number} pos insert in Nth position (default append)
 * @returns {HTMLElement}
 */
        function appendNewChild(parent, tagName, attributes={}, pos=-1) {
            const child = createTag(tagName, attributes);
            if (pos < 0) {
                parent.appendChild(child);
            } else {
                parent.insertBefore(child, parent.children[pos]);
            }

            return child;
        }

        /**
 * @param {string} elementId
 * @returns {HTMLElement}
 */
        function domById(elementId) {
            return document.getElementById(elementId);
        }

        /******************* HTML & CSS Templates *********************/

        /**
 * @returns {string} HTML template for main panel
 */
        function generateListHTML() {
            return `
        <h3><img src="${githubRepo}/liveryselector-logo.svg" class="livery-title" title="LiverySelector" /></h3>

        <div class="livery-searchbar mdl-textfield mdl-js-textfield geofs-stopMousePropagation geofs-stopKeyupPropagation">
            <input class="mdl-textfield__input address-input" type="text" placeholder="Search liveries" onkeyup="LiverySelector.search(this.value)" id="searchlivery">
            <label class="mdl-textfield__label" for="searchlivery">Search liveries</label>
        </div>

        <h6 onclick="LiverySelector.toggleDiv('favorites')">Favorite liveries</h6>
        <ul id="favorites" class="geofs-list geofs-visible"></ul>

        <h6 onclick="LiverySelector.toggleDiv('liverylist')">Available liveries</h6>
        <ul id="liverylist" class=" geofs-list geofs-visible"></ul>

        <h6 onclick="LiverySelector.toggleDiv('customDiv')" class="closed">Load external livery</h6>
        <div id="customDiv" class="mdl-textfield mdl-js-textfield geofs-stopMousePropagation geofs-stopKeyupPropagation" style="display:none;">
            <ul class="livery-custom-tabs" onclick="LiverySelector.handleCustomTabs()">
                <li>Upload</li>
                <li>Direct</li>
                <li>Download</li>
                <li>API</li>
            </ul>
            <div id="livery-custom-tab-upload" style="display:none;">
                <div>Paste URL or upload image to generate imgbb URL</div>
                <div class="upload-fields"></div>
                <div><button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored" onclick="LiverySelector.inputLivery()">Load livery</button></div>
                <div class="livery-submit geofs-list-collapsible-item">Contribute to the LiverySelector Database
                    <div class="geofs-collapsible no-api">-&gt; Fill in API key and Discord User ID in API tab.</div>
                    <div class="geofs-collapsible api">
                        <label for="livery-submit-liveryname">Livery Name</label>
                        <input type="text" id="livery-submit-liveryname" class="mdl-textfield__input address-input">
                        <label for="livery-submit-credits">Author</label>
                        <input type="text" id="livery-submit-credits" class="mdl-textfield__input address-input">
                        <input type="checkbox" id="livery-submit-confirm-perms">
                        <label for="livery-submit-confirm-perms">I am the author and have created the textures myself or have the permission from the author to use those textures.</label><br>
                        <input type="checkbox" id="livery-submit-confirm-legal">
                        <label for="livery-submit-confirm-legal">I confirm the textures are safe for all ages, are non-offensive and appropriate for the game and don't violate any laws or other regulations.</label>
                        <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored" onclick="LiverySelector.submitLivery()">Submit livery for review</button>
                        <small>
                          Join our <a href="https://discord.gg/2tcdzyYaWU" target="_blank">Discord</a> to follow up on your contributions.
                          By submitting you agree to the Discord server rules. Failing to comply may result in exclusion from further submits.
                        </small>
                    </div>
                </div>
            </div>
            <div id="livery-custom-tab-direct" style="display:none;">
                <div>Load texture directly in client, no upload.</div>
                <div class="upload-fields"></div>
            </div>
            <div id="livery-custom-tab-download" style="display:none;">
                <div>Download textures for current Airplane:</div>
                <div class="download-fields"></div>
            </div>
            <div id="livery-custom-tab-api" style="display:none;">
              <div>
                <label for="livery-setting-apikey">Paste your imgbb API key here (<a href="https://api.imgbb.com" target="_blank">get key</a>)</label>
                <input type="text" id="livery-setting-apikey" class="mdl-textfield__input address-input" onchange="LiverySelector.saveSetting(this)">
                <input type="checkbox" id="livery-setting-remove" onchange="LiverySelector.saveSetting(this)">
                <label for="livery-setting-remove">Expire links after one hour<br><small>(only for testing, disable when submitting to the database!)</small></label>
                <label for="livery-setting-discordid">Discord User ID (<a href="https://support.discord.com/hc/en-us/articles/206346498" target="_blank">howto</a>)</label>
                <input type="number" id="livery-setting-discordid" class="mdl-textfield__input address-input" onchange="LiverySelector.saveSetting(this)">
              </div>
            </div>
        </div>
        <br/>
        <a href="https://raw.githubusercontent.com/kolos26/GEOFS-LiverySelector/refs/heads/main/tutorial.txt" target="_blank"><button class="mdl-button mdl-js-button mdl-button--raised mdl-button">Open tutorial</button></a>
        <a href="https://discord.gg/2tcdzyYaWU" target="_blank"><button class="mdl-button mdl-js-button mdl-button--raised mdl-button">Join our discord server</button></a>
        <a href="https://github.com/kolos26/GEOFS-LiverySelector" target="_blank"><button class="mdl-button mdl-js-button mdl-button--raised mdl-button">Visit our Github page</button></a>
`;
        }

        /**
 * @returns {HTMLElement} HTML template for main menu livery button
 */
        function generatePanelButtonHTML() {
            const liveryButton = createTag('button', {
                title: 'Change livery',
                id: 'liverybutton',
                class: 'mdl-button mdl-js-button geofs-f-standard-ui geofs-mediumScreenOnly',
                onclick: 'LiverySelector.listLiveries()',
                'data-toggle-panel': '.livery-list',
                'data-tooltip-classname': 'mdl-tooltip--top',
                'data-upgraded': ',MaterialButton'
            });
            liveryButton.innerHTML = createTag('img', {
                src: `${githubRepo}/liveryselector-logo-small.svg`,
                height: '30px'
            }).outerHTML;

            return liveryButton;
        }

        window.LiverySelector = {
            liveryobj,
            saveSetting,
            toggleDiv,
            loadLiveryDirect,
            handleCustomTabs,
            listLiveries,
            star,
            search,
            inputLivery,
            uploadLivery,
            submitLivery,
            uploadHistory
        };
    }
    )();
}
if (x == "2k") {
    (function() {
        const MAPTILER_API_KEY = 'IV9xGGN8KYwlZfmCGHq2';
        function checkGeoFSViewerStatus() {
            if (typeof geofs === 'undefined') {
                console.log("GeoFS is not defined yet.");
                return false;
            }
            if (!geofs.api || !geofs.api.viewer) {
                console.log("GeoFS viewer is not initialized yet.");
                return false;
            }
            return true;
        }
        function addMapTilerLayer() {
            const viewer = geofs.api.viewer;
            try {
                viewer.imageryLayers.removeAll();
                console.log("Removed all existing imagery layers.");
            } catch (e) {
                console.error("Error removing imagery layers:", e);
            }
            try {
                const mapTilerImageryProvider = new Cesium.UrlTemplateImageryProvider({
                    url: `https://api.maptiler.com/tiles/satellite-v2/{z}/{x}/{y}.jpg?key=${MAPTILER_API_KEY}`,
                    credit: 'MapTiler',
                    tileWidth: 512,
                    tileHeight: 512,
                    minimumLevel: 0,
                    maximumLevel: 22,
                    tilingScheme: new Cesium.WebMercatorTilingScheme()
                });
                viewer.imageryLayers.addImageryProvider(mapTilerImageryProvider);
                console.log("High-quality MapTiler imagery has been applied.");
            } catch (e) {
                console.error("Error applying MapTiler imagery:", e);
            }
        }
        function initMapTilerLayer() {
            if (checkGeoFSViewerStatus()) {
                addMapTilerLayer();
            } else {
                console.log("GeoFS not ready, retrying in 1 second...");
                setTimeout(initMapTilerLayer, 1000);
            }
        }
        initMapTilerLayer();
    }
    )();
}
if (x == "4k") {
    (function() {
        const geofsLayerManager = {
            esriLayer: null,
            customImageryProvider: null,
            init: function() {
                if (typeof geofs === 'undefined' || !geofs.api || !geofs.api.viewer) {
                    console.error("GeoFS or its viewer is not available.");
                    return;
                }
                const viewer = geofs.api.viewer;
                this.addEsriLayer = function() {
                    if (this.esriLayer) {
                        console.log("Esri World Imagery layer is already active.");
                        return;
                    }
                    const esriImageryProvider = new Cesium.UrlTemplateImageryProvider({
                        url: "https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
                        credit: "Esri World Imagery",
                        tileWidth: 512,
                        tileHeight: 512,
                        minimumLevel: 0,
                        maximumLevel: 19,
                        tilingScheme: new Cesium.WebMercatorTilingScheme()
                    });
                    this.esriLayer = viewer.imageryLayers.addImageryProvider(esriImageryProvider);
                    this.esriLayer.alpha = 1.0;
                    this.esriLayer.brightness = 0.9;
                    console.log("Esri World Imagery layer applied.");
                }
                ;
                this.removeEsriLayer = function() {
                    if (this.esriLayer) {
                        viewer.imageryLayers.remove(this.esriLayer);
                        this.esriLayer = null;
                        console.log("Esri World Imagery layer removed.");
                    } else {
                        console.log("Esri World Imagery layer is not active.");
                    }
                }
                ;
                this.addCustomImagery = function(provider, multiplayerServer="default") {
                    if (this.customImageryProvider) {
                        console.log("Custom imagery is already active.");
                        return;
                    }
                    let imageryProvider;
                    switch (provider) {
                    case "cache":
                        imageryProvider = new Cesium.UrlTemplateImageryProvider({
                            maximumLevel: 21,
                            hasAlphaChannel: false,
                            subdomains: "abcdefghijklmnopqrstuvwxyz".split(""),
                            url: "http://localhost/map/{z}/{x}/{y}"
                        });
                        break;
                    case "google":
                        imageryProvider = new Cesium.UrlTemplateImageryProvider({
                            maximumLevel: 21,
                            hasAlphaChannel: false,
                            subdomains: ["mt0", "mt1", "mt2", "mt3"],
                            url: "https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}"
                        });
                        break;
                    case "bing":
                        imageryProvider = new Cesium.BingMapsImageryProvider({
                            url: "https://dev.virtualearth.net",
                            key: "AjrgR5TNicgFReuFwvNH71v4YeQNkXIB20l63ZMm86mVuBGZPhTHMdiVq2_9L7x",
                            mapStyle: Cesium.BingMapsStyle.AERIAL
                        });
                        break;
                    default:
                        console.error("Unknown provider:", provider);
                        return;
                    }
                    this.customImageryProvider = viewer.imageryLayers.addImageryProvider(imageryProvider);
                    console.log(`${provider} imagery applied.`);
                }
                ;
                this.removeCustomImagery = function() {
                    if (this.customImageryProvider) {
                        viewer.imageryLayers.remove(this.customImageryProvider);
                        this.customImageryProvider = null;
                        console.log("Custom imagery removed.");
                    } else {
                        console.log("Custom imagery is not active.");
                    }
                }
                ;
                console.log("GeoFS Layer Manager initialized.");
            }
        };
        geofsLayerManager.init();
        window.geofsLayerManager = geofsLayerManager;
    }
    )();
    (function() {
        const geofsLayerManager = {
            esriLayer: null,
            customImageryProvider: null,
            init: function() {
                if (typeof geofs === 'undefined' || !geofs.api || !geofs.api.viewer) {
                    console.error("GeoFS or its viewer is not available.");
                    return;
                }
                const viewer = geofs.api.viewer;
                this.addEsriLayer = function() {
                    if (this.esriLayer) {
                        console.log("Esri World Imagery layer is already active.");
                        return;
                    }
                    const esriImageryProvider = new Cesium.UrlTemplateImageryProvider({
                        url: "https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
                        credit: "Esri World Imagery",
                        tileWidth: 512,
                        tileHeight: 512,
                        minimumLevel: 0,
                        maximumLevel: 19,
                        tilingScheme: new Cesium.WebMercatorTilingScheme()
                    });
                    this.esriLayer = viewer.imageryLayers.addImageryProvider(esriImageryProvider);
                    this.esriLayer.alpha = 1.0;
                    this.esriLayer.brightness = 0.9;
                    console.log("Esri World Imagery layer applied.");
                }
                ;
                this.removeEsriLayer = function() {
                    if (this.esriLayer) {
                        viewer.imageryLayers.remove(this.esriLayer);
                        this.esriLayer = null;
                        console.log("Esri World Imagery layer removed.");
                    } else {
                        console.log("Esri World Imagery layer is not active.");
                    }
                }
                ;
                this.addCustomImagery = function(provider, multiplayerServer="default") {
                    if (this.customImageryProvider) {
                        console.log("Custom imagery is already active.");
                        return;
                    }
                    let imageryProvider;
                    switch (provider) {
                    case "cache":
                        imageryProvider = new Cesium.UrlTemplateImageryProvider({
                            maximumLevel: 21,
                            hasAlphaChannel: false,
                            subdomains: "abcdefghijklmnopqrstuvwxyz".split(""),
                            url: "http://localhost/map/{z}/{x}/{y}"
                        });
                        break;
                    case "google":
                        imageryProvider = new Cesium.UrlTemplateImageryProvider({
                            maximumLevel: 21,
                            hasAlphaChannel: false,
                            subdomains: ["mt0", "mt1", "mt2", "mt3"],
                            url: "https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}"
                        });
                        break;
                    case "bing":
                        imageryProvider = new Cesium.BingMapsImageryProvider({
                            url: "https://dev.virtualearth.net",
                            key: "AjrgR5TNicgFReuFwvNH71v4YeQNkXIB20l63ZMm86mVuBGZPhTHMdiVq2_9L7x",
                            mapStyle: Cesium.BingMapsStyle.AERIAL
                        });
                        break;
                    default:
                        console.error("Unknown provider:", provider);
                        return;
                    }
                    this.customImageryProvider = viewer.imageryLayers.addImageryProvider(imageryProvider);
                    console.log(`${provider} imagery applied.`);
                }
                ;
                this.removeCustomImagery = function() {
                    if (this.customImageryProvider) {
                        viewer.imageryLayers.remove(this.customImageryProvider);
                        this.customImageryProvider = null;
                        console.log("Custom imagery removed.");
                    } else {
                        console.log("Custom imagery is not active.");
                    }
                }
                ;
                console.log("GeoFS Layer Manager initialized.");
            }
        };
        geofsLayerManager.init();
        window.geofsLayerManager = geofsLayerManager;
    }
    )();
    geofsLayerManager.removeCustomImagery("google");
    geofsLayerManager.addEsriLayer();
}
if (x == "gc") {
    !function() {
        "use strict";
        function e() {}
        function t(e) {
            return e()
        }
        function n() {
            return Object.create(null)
        }
        function i(e) {
            e.forEach(t)
        }
        function r(e) {
            return "function" == typeof e
        }
        function o(e, t) {
            return e != e ? t == t : e !== t || e && "object" == typeof e || "function" == typeof e
        }
        function s(t, ...n) {
            if (null == t) {
                for (let i of n)
                    i(void 0);
                return e
            }
            let r = t.subscribe(...n);
            return r.unsubscribe ? () => r.unsubscribe() : r
        }
        function a(e) {
            let t;
            return s(e, e => t = e)(),
            t
        }
        function c(e, t, n) {
            e.$$.on_destroy.push(s(t, n))
        }
        function l(e, t, n, i) {
            if (e) {
                let r = u(e, t, n, i);
                return e[0](r)
            }
        }
        function u(e, t, n, i) {
            return e[1] && i ? function(e, t) {
                for (let n in t)
                    e[n] = t[n];
                return e
            }(n.ctx.slice(), e[1](i(t))) : n.ctx
        }
        function f(e, t, n, i) {
            if (e[2] && i) {
                let r = e[2](i(n));
                if (void 0 === t.dirty)
                    return r;
                if ("object" == typeof r) {
                    let o = []
                      , s = Math.max(t.dirty.length, r.length);
                    for (let a = 0; a < s; a += 1)
                        o[a] = t.dirty[a] | r[a];
                    return o
                }
                return t.dirty | r
            }
            return t.dirty
        }
        function d(e, t, n, i, r, o) {
            if (r) {
                let s = u(t, n, i, o);
                e.p(s, r)
            }
        }
        function h(e) {
            if (e.ctx.length > 32) {
                let t = []
                  , n = e.ctx.length / 32;
                for (let i = 0; i < n; i++)
                    t[i] = -1;
                return t
            }
            return -1
        }
        function p(e, t, n) {
            return e.set(n),
            t
        }
        let g = "undefined" != typeof window
          , $ = g ? () => window.performance.now() : () => Date.now()
          , m = g ? e => requestAnimationFrame(e) : e
          , _ = new Set;
        function v(e) {
            _.forEach(t => {
                t.c(e) || (_.delete(t),
                t.f())
            }
            ),
            0 !== _.size && m(v)
        }
        let y = "undefined" != typeof window ? window : "undefined" != typeof globalThis ? globalThis : global;
        function b(e, t) {
            e.appendChild(t)
        }
        function x(e, t, n) {
            let i = function(e) {
                if (!e)
                    return document;
                let t = e.getRootNode ? e.getRootNode() : e.ownerDocument;
                return t && t.host ? t : e.ownerDocument
            }(e);
            if (!i.getElementById(t)) {
                var r, o;
                let s = k("style");
                s.id = t,
                s.textContent = n,
                r = i,
                o = s,
                b(r.head || r, o),
                o.sheet
            }
        }
        function w(e, t, n) {
            e.insertBefore(t, n || null)
        }
        function E(e) {
            e.parentNode && e.parentNode.removeChild(e)
        }
        function I(e, t) {
            for (let n = 0; n < e.length; n += 1)
                e[n] && e[n].d(t)
        }
        function k(e) {
            return document.createElement(e)
        }
        function A(e) {
            return document.createElementNS("http://www.w3.org/2000/svg", e)
        }
        function O(e) {
            return document.createTextNode(e)
        }
        function T() {
            return O(" ")
        }
        function C() {
            return O("")
        }
        function R(e, t, n, i) {
            return e.addEventListener(t, n, i),
            () => e.removeEventListener(t, n, i)
        }
        function P(e) {
            return function(t) {
                return t.preventDefault(),
                e.call(this, t)
            }
        }
        function S(e) {
            return function(t) {
                return t.stopPropagation(),
                e.call(this, t)
            }
        }
        function D(e, t, n) {
            null == n ? e.removeAttribute(t) : e.getAttribute(t) !== n && e.setAttribute(t, n)
        }
        function N(e) {
            return "" === e ? null : +e
        }
        function M(e, t) {
            t = "" + t,
            e.data !== t && (e.data = t)
        }
        function L(e, t) {
            e.value = null == t ? "" : t
        }
        function q(e, t, n, i) {
            null == n ? e.style.removeProperty(t) : e.style.setProperty(t, n, i ? "important" : "")
        }
        function U(e, t, n) {
            e.classList.toggle(t, !!n)
        }
        let B;
        function H(e) {
            B = e
        }
        function z() {
            if (!B)
                throw Error("Function called outside component initialization");
            return B
        }
        function V(e) {
            z().$$.on_mount.push(e)
        }
        function F(e) {
            z().$$.on_destroy.push(e)
        }
        function j() {
            let e = z();
            return (t, n, {cancelable: i=!1}={}) => {
                let r = e.$$.callbacks[t];
                if (r) {
                    let o = function(e, t, {bubbles: n=!1, cancelable: i=!1}={}) {
                        return new CustomEvent(e,{
                            detail: t,
                            bubbles: n,
                            cancelable: i
                        })
                    }(t, n, {
                        cancelable: i
                    });
                    return r.slice().forEach(t => {
                        t.call(e, o)
                    }
                    ),
                    !o.defaultPrevented
                }
                return !0
            }
        }
        function G(e, t) {
            let n = e.$$.callbacks[t.type];
            n && n.slice().forEach(e => e.call(this, t))
        }
        let W = []
          , J = []
          , K = []
          , Q = []
          , Y = Promise.resolve()
          , X = !1;
        function Z(e) {
            K.push(e)
        }
        function ee(e) {
            Q.push(e)
        }
        let et = new Set
          , en = 0;
        function ei() {
            if (0 !== en)
                return;
            let e = B;
            do {
                var t, n;
                try {
                    for (; en < W.length; ) {
                        let i = W[en];
                        en++,
                        B = i,
                        er(i.$$)
                    }
                } catch (r) {
                    throw W.length = 0,
                    en = 0,
                    r
                }
                for (B = null,
                W.length = 0,
                en = 0; J.length; )
                    J.pop()();
                for (let o = 0; o < K.length; o += 1) {
                    let s = K[o];
                    et.has(s) || (et.add(s),
                    s())
                }
                K.length = 0
            } while (W.length);
            for (; Q.length; )
                Q.pop()();
            X = !1,
            et.clear(),
            B = e
        }
        function er(e) {
            if (null !== e.fragment) {
                e.update(),
                i(e.before_update);
                let t = e.dirty;
                e.dirty = [-1],
                e.fragment && e.fragment.p(e.ctx, t),
                e.after_update.forEach(Z)
            }
        }
        let eo = new Set, es;
        function ea() {
            es = {
                r: 0,
                c: [],
                p: es
            }
        }
        function ec() {
            es.r || i(es.c),
            es = es.p
        }
        function el(e, t) {
            e && e.i && (eo.delete(e),
            e.i(t))
        }
        function eu(e, t, n, i) {
            e && e.o ? eo.has(e) || (eo.add(e),
            es.c.push( () => {
                eo.delete(e),
                i && (n && e.d(1),
                i())
            }
            ),
            e.o(t)) : i && i()
        }
        function ef(e) {
            return void 0 !== e?.length ? e : Array.from(e)
        }
        function ed(e, t, n) {
            let i = e.$$.props[t];
            void 0 !== i && (e.$$.bound[i] = n,
            n(e.$$.ctx[i]))
        }
        function eh(e) {
            e && e.c()
        }
        function ep(e, n, o) {
            let {fragment: s, after_update: a} = e.$$;
            s && s.m(n, o),
            Z( () => {
                let n = e.$$.on_mount.map(t).filter(r);
                e.$$.on_destroy ? e.$$.on_destroy.push(...n) : i(n),
                e.$$.on_mount = []
            }
            ),
            a.forEach(Z)
        }
        function eg(e, t) {
            let n = e.$$;
            null !== n.fragment && (!function(e) {
                let t = []
                  , n = [];
                K.forEach(i => -1 === e.indexOf(i) ? t.push(i) : n.push(i)),
                n.forEach(e => e()),
                K = t
            }(n.after_update),
            i(n.on_destroy),
            n.fragment && n.fragment.d(t),
            n.on_destroy = n.fragment = null,
            n.ctx = [])
        }
        function e$(t, r, o, s, a, c, l=null, u=[-1]) {
            var f, d, h;
            let p = B;
            B = f = t;
            let g = t.$$ = {
                fragment: null,
                ctx: [],
                props: c,
                update: e,
                not_equal: a,
                bound: n(),
                on_mount: [],
                on_destroy: [],
                on_disconnect: [],
                before_update: [],
                after_update: [],
                context: new Map(r.context || (p ? p.$$.context : [])),
                callbacks: n(),
                dirty: u,
                skip_bound: !1,
                root: r.target || p.$$.root
            };
            l && l(g.root);
            let $ = !1;
            if (g.ctx = o ? o(t, r.props || {}, (e, n, ...i) => {
                var r, o;
                let s = i.length ? i[0] : n;
                return g.ctx && a(g.ctx[e], g.ctx[e] = s) && (!g.skip_bound && g.bound[e] && g.bound[e](s),
                $ && (r = t,
                o = e,
                -1 === r.$$.dirty[0] && (W.push(r),
                X || (X = !0,
                Y.then(ei)),
                r.$$.dirty.fill(0)),
                r.$$.dirty[o / 31 | 0] |= 1 << o1)),
                n
            }
            ) : [],
            g.update(),
            $ = !0,
            i(g.before_update),
            g.fragment = !!s && s(g.ctx),
            r.target) {
                if (r.hydrate) {
                    let m = Array.from((d = r.target).childNodes);
                    g.fragment && g.fragment.l(m),
                    m.forEach(E)
                } else
                    g.fragment && g.fragment.c();
                r.intro && el(t.$$.fragment),
                ep(t, r.target, r.anchor),
                ei()
            }
            B = h = p
        }
        class e9 {
            $$ = void 0;
            $$set = void 0;
            $destroy() {
                eg(this, 1),
                this.$destroy = e
            }
            $on(t, n) {
                if (!r(n))
                    return e;
                let i = this.$$.callbacks[t] || (this.$$.callbacks[t] = []);
                return i.push(n),
                () => {
                    let e = i.indexOf(n);
                    -1 !== e && i.splice(e, 1)
                }
            }
            $set(e) {
                var t;
                this.$$set && 0 !== Object.keys(t = e).length && (this.$$.skip_bound = !0,
                this.$$set(e),
                this.$$.skip_bound = !1)
            }
        }
        "undefined" != typeof window && (window.__svelte || (window.__svelte = {
            v: new Set
        })).v.add("4");
        var em, e_ = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {}, ev = {
            exports: {}
        };
        function ey(e, t=100, n={}) {
            if ("function" != typeof e)
                throw TypeError(`Expected the first parameter to be a function, got \`${typeof e}\`.`);
            if (t < 0)
                throw RangeError("`wait` must not be negative.");
            let {immediate: i} = "boolean" == typeof n ? {
                immediate: n
            } : n, r, o, s, a, c;
            function l() {
                let n = Date.now() - a;
                if (n < t && n >= 0)
                    s = setTimeout(l, t - n);
                else if (s = void 0,
                !i) {
                    let u = r
                      , f = o;
                    r = void 0,
                    o = void 0,
                    c = e.apply(u, f)
                }
            }
            let u = function(...n) {
                if (r && this !== r)
                    throw Error("Debounced method called with different contexts.");
                r = this,
                o = n,
                a = Date.now();
                let u = i && !s;
                if (s || (s = setTimeout(l, t)),
                u) {
                    let f = r
                      , d = o;
                    r = void 0,
                    o = void 0,
                    c = e.apply(f, d)
                }
                return c
            };
            return u.clear = () => {
                s && (clearTimeout(s),
                s = void 0)
            }
            ,
            u.flush = () => {
                if (!s)
                    return;
                let t = r
                  , n = o;
                r = void 0,
                o = void 0,
                c = e.apply(t, n),
                clearTimeout(s),
                s = void 0
            }
            ,
            u
        }
        ev.exports.debounce = ey,
        ev.exports = ey;
        var e0 = (e5 = ev.exports) && e5.__esModule && Object.prototype.hasOwnProperty.call(e5, "default") ? e5.default : e5;
        let eb = [];
        function ex(t, n=e) {
            let i, r = new Set;
            function s(e) {
                if (o(t, e) && (t = e,
                i)) {
                    let n = !eb.length;
                    for (let s of r)
                        s[1](),
                        eb.push(s, t);
                    if (n) {
                        for (let a = 0; a < eb.length; a += 2)
                            eb[a][0](eb[a + 1]);
                        eb.length = 0
                    }
                }
            }
            function a(e) {
                s(e(t))
            }
            return {
                set: s,
                update: a,
                subscribe: function(o, c=e) {
                    let l = [o, c];
                    return r.add(l),
                    1 === r.size && (i = n(s, a) || e),
                    o(t),
                    () => {
                        r.delete(l),
                        0 === r.size && i && (i(),
                        i = null)
                    }
                }
            }
        }
        function ew(e) {
            return "[object Date]" === Object.prototype.toString.call(e)
        }
        let e8 = "undefined" != typeof GM_getValue;
        function e3(e, t) {
            e8 ? GM_setValue(e, t) : localStorage.setItem(`gc-${e}`, t)
        }
        function eE(e, t) {
            return e8 ? GM_getValue(e, t) : localStorage.getItem(`gc-${e}`) ?? t
        }
        let e4 = {
            textColor: "rgba(255, 255, 255, 1)",
            menuBackgroundColor: "rgba(0, 0, 0, 0.5)",
            menuOutlineColor: "rgba(255, 255, 255, 0)",
            menuHeaderBackgroundColor: "rgba(0, 0, 255, 0.5)",
            menuHeaderTextColor: "rgba(255, 255, 255, 1)",
            buttonBackgroundColor: "rgba(0, 0, 0, 0.5)",
            buttonBorderColor: "rgba(255, 255, 255, 1)"
        }
          , eI = {
            "General Cheats": {
                x: 0,
                y: 0,
                width: window.innerWidth / 4,
                height: window.innerHeight / 3 * 2,
                minimized: !1
            },
            "Gamemode Specific Cheats": {
                x: window.innerWidth / 8 * 3,
                y: 0,
                width: window.innerWidth / 4,
                height: window.innerHeight / 3 * 2,
                minimized: !1
            },
            Customization: {
                x: window.innerWidth / 4 * 3,
                y: 0,
                width: window.innerWidth / 4,
                height: window.innerHeight / 3 * 2,
                minimized: !1
            }
        }
          , ek = eE("cssVars")
          , eA = {};
        ek && (eA = JSON.parse(ek)),
        eA = Object.assign({}, e4, eA);
        let eO = eE("menuTransforms")
          , e2 = {};
        eO && (e2 = JSON.parse(eO)),
        e2 = Object.assign({}, eI, e2);
        let e1 = eE("hotkeys")
          , eT = {};
        function e6(e) {
            var t = Math.round(e).toString(16);
            return 1 == t.length ? "0" + t : t
        }
        function eC() {
            return "undefined" == typeof unsafeWindow ? window : unsafeWindow
        }
        function eR(e, t, n) {
            for (var i = 0, r = 0, o = n.length; r < o; r++)
                (i = n.charCodeAt(r)) < 128 ? e.setUint8(t++, i) : (i < 2048 ? e.setUint8(t++, 192 | i >> 6) : (i < 55296 || 57344 <= i ? e.setUint8(t++, 224 | i >> 12) : (r++,
                i = 65536 + ((1023 & i) << 10 | 1023 & n.charCodeAt(r)),
                e.setUint8(t++, 240 | i >> 18),
                e.setUint8(t++, 128 | i >> 12 & 63)),
                e.setUint8(t++, 128 | i >> 6 & 63)),
                e.setUint8(t++, 128 | 63 & i))
        }
        e1 && (eT = JSON.parse(e1));
        var eP = {
            encode: function(e, t, n) {
                let i;
                return function(e) {
                    var t = []
                      , n = []
                      , i = function e(t, n, i) {
                        var r = typeof i
                          , o = 0
                          , s = 0
                          , a = 0
                          , c = 0
                          , l = 0
                          , u = 0;
                        if ("string" === r) {
                            if ((l = function(e) {
                                for (var t = 0, n = 0, i = 0, r = e.length; i < r; i++)
                                    (t = e.charCodeAt(i)) < 128 ? n += 1 : t < 2048 ? n += 2 : t < 55296 || 57344 <= t ? n += 3 : (i++,
                                    n += 4);
                                return n
                            }(i)) < 32)
                                t.push(160 | l),
                                u = 1;
                            else if (l < 256)
                                t.push(217, l),
                                u = 2;
                            else if (l < 65536)
                                t.push(218, l >> 8, l),
                                u = 3;
                            else {
                                if (!(l < 4294967296))
                                    throw Error("String too long");
                                t.push(219, l >> 24, l >> 16, l >> 8, l),
                                u = 5
                            }
                            return n.push({
                                h: i,
                                u: l,
                                t: t.length
                            }),
                            u + l
                        }
                        if ("number" === r)
                            return Math.floor(i) === i && isFinite(i) ? 0 <= i ? i < 128 ? (t.push(i),
                            1) : i < 256 ? (t.push(204, i),
                            2) : i < 65536 ? (t.push(205, i >> 8, i),
                            3) : i < 4294967296 ? (t.push(206, i >> 24, i >> 16, i >> 8, i),
                            5) : (a = i / 4294967296 >> 0,
                            c = i >>> 0,
                            t.push(207, a >> 24, a >> 16, a >> 8, a, c >> 24, c >> 16, c >> 8, c),
                            9) : -32 <= i ? (t.push(i),
                            1) : -128 <= i ? (t.push(208, i),
                            2) : -32768 <= i ? (t.push(209, i >> 8, i),
                            3) : -2147483648 <= i ? (t.push(210, i >> 24, i >> 16, i >> 8, i),
                            5) : (a = Math.floor(i / 4294967296),
                            c = i >>> 0,
                            t.push(211, a >> 24, a >> 16, a >> 8, a, c >> 24, c >> 16, c >> 8, c),
                            9) : (t.push(203),
                            n.push({
                                o: i,
                                u: 8,
                                t: t.length
                            }),
                            9);
                        if ("object" === r) {
                            if (null === i)
                                return t.push(192),
                                1;
                            if (Array.isArray(i)) {
                                if ((l = i.length) < 16)
                                    t.push(144 | l),
                                    u = 1;
                                else if (l < 65536)
                                    t.push(220, l >> 8, l),
                                    u = 3;
                                else {
                                    if (!(l < 4294967296))
                                        throw Error("Array too large");
                                    t.push(221, l >> 24, l >> 16, l >> 8, l),
                                    u = 5
                                }
                                for (o = 0; o < l; o++)
                                    u += e(t, n, i[o]);
                                return u
                            }
                            if (i instanceof Date) {
                                var f = i.getTime();
                                return a = Math.floor(f / 4294967296),
                                c = f >>> 0,
                                t.push(215, 0, a >> 24, a >> 16, a >> 8, a, c >> 24, c >> 16, c >> 8, c),
                                10
                            }
                            if (i instanceof ArrayBuffer) {
                                if ((l = i.byteLength) < 256)
                                    t.push(196, l),
                                    u = 2;
                                else if (l < 65536)
                                    t.push(197, l >> 8, l),
                                    u = 3;
                                else {
                                    if (!(l < 4294967296))
                                        throw Error("Buffer too large");
                                    t.push(198, l >> 24, l >> 16, l >> 8, l),
                                    u = 5
                                }
                                return n.push({
                                    l: i,
                                    u: l,
                                    t: t.length
                                }),
                                u + l
                            }
                            if ("function" == typeof i.toJSON)
                                return e(t, n, i.toJSON());
                            var d = []
                              , h = ""
                              , p = Object.keys(i);
                            for (o = 0,
                            s = p.length; o < s; o++)
                                "function" != typeof i[h = p[o]] && d.push(h);
                            if ((l = d.length) < 16)
                                t.push(128 | l),
                                u = 1;
                            else if (l < 65536)
                                t.push(222, l >> 8, l),
                                u = 3;
                            else {
                                if (!(l < 4294967296))
                                    throw Error("Object too large");
                                t.push(223, l >> 24, l >> 16, l >> 8, l),
                                u = 5
                            }
                            for (o = 0; o < l; o++)
                                u += e(t, n, h = d[o]),
                                u += e(t, n, i[h]);
                            return u
                        }
                        if ("boolean" === r)
                            return t.push(i ? 195 : 194),
                            1;
                        if ("undefined" === r)
                            return t.push(212, 0, 0),
                            3;
                        throw Error("Could not encode")
                    }(t, n, e)
                      , r = new ArrayBuffer(i)
                      , o = new DataView(r)
                      , s = 0
                      , a = 0
                      , c = -1;
                    0 < n.length && (c = n[0].t);
                    for (var l, u = 0, f = 0, d = 0, h = t.length; d < h; d++)
                        if (o.setUint8(a + d, t[d]),
                        d + 1 === c) {
                            if (u = (l = n[s]).u,
                            f = a + c,
                            l.l)
                                for (var p = new Uint8Array(l.l), g = 0; g < u; g++)
                                    o.setUint8(f + g, p[g]);
                            else
                                l.h ? eR(o, f, l.h) : void 0 !== l.o && o.setFloat64(f, l.o);
                            a += u,
                            n[++s] && (c = n[s].t)
                        }
                    let $ = Array.from(new Uint8Array(r));
                    return $.unshift(4),
                    new Uint8Array($).buffer
                }(i = Array.isArray(e) ? {
                    type: 2,
                    data: e,
                    options: {
                        compress: !0
                    },
                    nsp: "/"
                } : {
                    type: 2,
                    data: ["blueboat_SEND_MESSAGE", {
                        room: n,
                        key: e,
                        data: t
                    }, ],
                    options: {
                        compress: !0
                    },
                    nsp: "/"
                })
            },
            decode: function(e) {
                var t, n, i;
                function r(e) {
                    if (this.t = 0,
                    e instanceof ArrayBuffer)
                        this.i = e,
                        this.s = new DataView(this.i);
                    else {
                        if (!ArrayBuffer.isView(e))
                            return null;
                        this.i = e.buffer,
                        this.s = new DataView(this.i,e.byteOffset,e.byteLength)
                    }
                }
                r.prototype.g = function(e) {
                    for (var t = Array(e), n = 0; n < e; n++)
                        t[n] = this.v();
                    return t
                }
                ,
                r.prototype.M = function(e) {
                    for (var t = {}, n = 0; n < e; n++)
                        t[this.v()] = this.v();
                    return t
                }
                ,
                r.prototype.h = function(e) {
                    var t = function(e, t, n) {
                        for (var i = "", r = 0, o = t, s = t + n; o < s; o++) {
                            var a = e.getUint8(o);
                            if (0 != (128 & a)) {
                                if (192 != (224 & a)) {
                                    if (224 != (240 & a)) {
                                        if (240 != (248 & a))
                                            throw Error("Invalid byte " + a.toString(16));
                                        65536 <= (r = (7 & a) << 18 | (63 & e.getUint8(++o)) << 12 | (63 & e.getUint8(++o)) << 6 | (63 & e.getUint8(++o)) << 0) ? (r -= 65536,
                                        i += String.fromCharCode(55296 + (r >>> 10), 56320 + (1023 & r))) : i += String.fromCharCode(r)
                                    } else
                                        i += String.fromCharCode((15 & a) << 12 | (63 & e.getUint8(++o)) << 6 | (63 & e.getUint8(++o)) << 0)
                                } else
                                    i += String.fromCharCode((31 & a) << 6 | 63 & e.getUint8(++o))
                            } else
                                i += String.fromCharCode(a)
                        }
                        return i
                    }(this.s, this.t, e);
                    return this.t += e,
                    t
                }
                ,
                r.prototype.l = function(e) {
                    var t = this.i.slice(this.t, this.t + e);
                    return this.t += e,
                    t
                }
                ,
                r.prototype.v = function() {
                    if (!this.s)
                        return null;
                    var e, t = this.s.getUint8(this.t++), n = 0, i = 0, r = 0, o = 0;
                    if (t < 192)
                        return t < 128 ? t : t < 144 ? this.M(15 & t) : t < 160 ? this.g(15 & t) : this.h(31 & t);
                    if (223 < t)
                        return -1 * (255 - t + 1);
                    switch (t) {
                    case 192:
                        return null;
                    case 194:
                        return !1;
                    case 195:
                        return !0;
                    case 196:
                        return n = this.s.getUint8(this.t),
                        this.t += 1,
                        this.l(n);
                    case 197:
                        return n = this.s.getUint16(this.t),
                        this.t += 2,
                        this.l(n);
                    case 198:
                        return n = this.s.getUint32(this.t),
                        this.t += 4,
                        this.l(n);
                    case 199:
                        return n = this.s.getUint8(this.t),
                        i = this.s.getInt8(this.t + 1),
                        this.t += 2,
                        [i, this.l(n)];
                    case 200:
                        return n = this.s.getUint16(this.t),
                        i = this.s.getInt8(this.t + 2),
                        this.t += 3,
                        [i, this.l(n)];
                    case 201:
                        return n = this.s.getUint32(this.t),
                        i = this.s.getInt8(this.t + 4),
                        this.t += 5,
                        [i, this.l(n)];
                    case 202:
                        return e = this.s.getFloat32(this.t),
                        this.t += 4,
                        e;
                    case 203:
                        return e = this.s.getFloat64(this.t),
                        this.t += 8,
                        e;
                    case 204:
                        return e = this.s.getUint8(this.t),
                        this.t += 1,
                        e;
                    case 205:
                        return e = this.s.getUint16(this.t),
                        this.t += 2,
                        e;
                    case 206:
                        return e = this.s.getUint32(this.t),
                        this.t += 4,
                        e;
                    case 207:
                        return r = 4294967296 * this.s.getUint32(this.t),
                        o = this.s.getUint32(this.t + 4),
                        this.t += 8,
                        r + o;
                    case 208:
                        return e = this.s.getInt8(this.t),
                        this.t += 1,
                        e;
                    case 209:
                        return e = this.s.getInt16(this.t),
                        this.t += 2,
                        e;
                    case 210:
                        return e = this.s.getInt32(this.t),
                        this.t += 4,
                        e;
                    case 211:
                        return r = 4294967296 * this.s.getInt32(this.t),
                        o = this.s.getUint32(this.t + 4),
                        this.t += 8,
                        r + o;
                    case 212:
                        return i = this.s.getInt8(this.t),
                        this.t += 1,
                        0 === i ? void (this.t += 1) : [i, this.l(1)];
                    case 213:
                        return i = this.s.getInt8(this.t),
                        this.t += 1,
                        [i, this.l(2)];
                    case 214:
                        return i = this.s.getInt8(this.t),
                        this.t += 1,
                        [i, this.l(4)];
                    case 215:
                        return i = this.s.getInt8(this.t),
                        this.t += 1,
                        0 === i ? (r = 4294967296 * this.s.getInt32(this.t),
                        o = this.s.getUint32(this.t + 4),
                        this.t += 8,
                        new Date(r + o)) : [i, this.l(8)];
                    case 216:
                        return i = this.s.getInt8(this.t),
                        this.t += 1,
                        [i, this.l(16)];
                    case 217:
                        return n = this.s.getUint8(this.t),
                        this.t += 1,
                        this.h(n);
                    case 218:
                        return n = this.s.getUint16(this.t),
                        this.t += 2,
                        this.h(n);
                    case 219:
                        return n = this.s.getUint32(this.t),
                        this.t += 4,
                        this.h(n);
                    case 220:
                        return n = this.s.getUint16(this.t),
                        this.t += 2,
                        this.g(n);
                    case 221:
                        return n = this.s.getUint32(this.t),
                        this.t += 4,
                        this.g(n);
                    case 222:
                        return n = this.s.getUint16(this.t),
                        this.t += 2,
                        this.M(n);
                    case 223:
                        return n = this.s.getUint32(this.t),
                        this.t += 4,
                        this.M(n)
                    }
                    throw Error("Could not parse")
                }
                ;
                let o = (t = e,
                i = (n = new r(t = t.slice(1))).v(),
                n.t === t.byteLength ? i : null);
                return o?.data?.[1]
            }
        }
          , e7 = {};
        Object.defineProperty(e7, "__esModule", {
            value: !0
        });
        var eS = e7.decode = eM = e7.encode = void 0;
        function eD(e, t) {
            if (this._offset = t,
            e instanceof ArrayBuffer)
                this._buffer = e,
                this._view = new DataView(this._buffer);
            else {
                if (!ArrayBuffer.isView(e))
                    throw Error("Invalid argument");
                this._buffer = e.buffer,
                this._view = new DataView(this._buffer,e.byteOffset,e.byteLength)
            }
        }
        function eN(e, t, n) {
            for (var i = 0, r = 0, o = n.length; r < o; r++)
                (i = n.charCodeAt(r)) < 128 ? e.setUint8(t++, i) : i < 2048 ? (e.setUint8(t++, 192 | i >> 6),
                e.setUint8(t++, 128 | 63 & i)) : i < 55296 || i >= 57344 ? (e.setUint8(t++, 224 | i >> 12),
                e.setUint8(t++, 128 | i >> 6 & 63),
                e.setUint8(t++, 128 | 63 & i)) : (r++,
                i = 65536 + ((1023 & i) << 10 | 1023 & n.charCodeAt(r)),
                e.setUint8(t++, 240 | i >> 18),
                e.setUint8(t++, 128 | i >> 12 & 63),
                e.setUint8(t++, 128 | i >> 6 & 63),
                e.setUint8(t++, 128 | 63 & i))
        }
        eD.prototype._array = function(e) {
            for (var t = Array(e), n = 0; n < e; n++)
                t[n] = this._parse();
            return t
        }
        ,
        eD.prototype._map = function(e) {
            for (var t = {}, n = 0; n < e; n++)
                t[this._parse()] = this._parse();
            return t
        }
        ,
        eD.prototype._str = function(e) {
            var t = function(e, t, n) {
                for (var i = "", r = 0, o = t, s = t + n; o < s; o++) {
                    var a = e.getUint8(o);
                    if (0 != (128 & a)) {
                        if (192 != (224 & a)) {
                            if (224 != (240 & a)) {
                                if (240 != (248 & a))
                                    throw Error("Invalid byte " + a.toString(16));
                                (r = (7 & a) << 18 | (63 & e.getUint8(++o)) << 12 | (63 & e.getUint8(++o)) << 6 | (63 & e.getUint8(++o)) << 0) >= 65536 ? (r -= 65536,
                                i += String.fromCharCode(55296 + (r >>> 10), 56320 + (1023 & r))) : i += String.fromCharCode(r)
                            } else
                                i += String.fromCharCode((15 & a) << 12 | (63 & e.getUint8(++o)) << 6 | (63 & e.getUint8(++o)) << 0)
                        } else
                            i += String.fromCharCode((31 & a) << 6 | 63 & e.getUint8(++o))
                    } else
                        i += String.fromCharCode(a)
                }
                return i
            }(this._view, this._offset, e);
            return this._offset += e,
            t
        }
        ,
        eD.prototype._bin = function(e) {
            var t = this._buffer.slice(this._offset, this._offset + e);
            return this._offset += e,
            t
        }
        ,
        eD.prototype._parse = function() {
            var e, t = this._view.getUint8(this._offset++), n = 0, i = 0, r = 0, o = 0;
            if (t < 192)
                return t < 128 ? t : t < 144 ? this._map(15 & t) : t < 160 ? this._array(15 & t) : this._str(31 & t);
            if (t > 223)
                return -1 * (255 - t + 1);
            switch (t) {
            case 192:
                return null;
            case 194:
                return !1;
            case 195:
                return !0;
            case 196:
                return n = this._view.getUint8(this._offset),
                this._offset += 1,
                this._bin(n);
            case 197:
                return n = this._view.getUint16(this._offset),
                this._offset += 2,
                this._bin(n);
            case 198:
                return n = this._view.getUint32(this._offset),
                this._offset += 4,
                this._bin(n);
            case 199:
                if (n = this._view.getUint8(this._offset),
                i = this._view.getInt8(this._offset + 1),
                this._offset += 2,
                -1 === i) {
                    var s = this._view.getUint32(this._offset);
                    return r = this._view.getInt32(this._offset + 4),
                    o = this._view.getUint32(this._offset + 8),
                    this._offset += 12,
                    new Date(1e3 * (4294967296 * r + o) + s / 1e6)
                }
                return [i, this._bin(n)];
            case 200:
                return n = this._view.getUint16(this._offset),
                i = this._view.getInt8(this._offset + 2),
                this._offset += 3,
                [i, this._bin(n)];
            case 201:
                return n = this._view.getUint32(this._offset),
                i = this._view.getInt8(this._offset + 4),
                this._offset += 5,
                [i, this._bin(n)];
            case 202:
                return e = this._view.getFloat32(this._offset),
                this._offset += 4,
                e;
            case 203:
                return e = this._view.getFloat64(this._offset),
                this._offset += 8,
                e;
            case 204:
                return e = this._view.getUint8(this._offset),
                this._offset += 1,
                e;
            case 205:
                return e = this._view.getUint16(this._offset),
                this._offset += 2,
                e;
            case 206:
                return e = this._view.getUint32(this._offset),
                this._offset += 4,
                e;
            case 207:
                return r = 4294967296 * this._view.getUint32(this._offset),
                o = this._view.getUint32(this._offset + 4),
                this._offset += 8,
                r + o;
            case 208:
                return e = this._view.getInt8(this._offset),
                this._offset += 1,
                e;
            case 209:
                return e = this._view.getInt16(this._offset),
                this._offset += 2,
                e;
            case 210:
                return e = this._view.getInt32(this._offset),
                this._offset += 4,
                e;
            case 211:
                return r = 4294967296 * this._view.getInt32(this._offset),
                o = this._view.getUint32(this._offset + 4),
                this._offset += 8,
                r + o;
            case 212:
                return i = this._view.getInt8(this._offset),
                this._offset += 1,
                0 === i ? void (this._offset += 1) : [i, this._bin(1)];
            case 213:
                return i = this._view.getInt8(this._offset),
                this._offset += 1,
                [i, this._bin(2)];
            case 214:
                return i = this._view.getInt8(this._offset),
                this._offset += 1,
                -1 === i ? (e = this._view.getUint32(this._offset),
                this._offset += 4,
                new Date(1e3 * e)) : [i, this._bin(4)];
            case 215:
                return i = this._view.getInt8(this._offset),
                this._offset += 1,
                0 === i ? (r = 4294967296 * this._view.getInt32(this._offset),
                o = this._view.getUint32(this._offset + 4),
                this._offset += 8,
                new Date(r + o)) : -1 === i ? (r = this._view.getUint32(this._offset),
                o = this._view.getUint32(this._offset + 4),
                this._offset += 8,
                new Date(1e3 * (4294967296 * (3 & r) + o) + (r >>> 2) / 1e6)) : [i, this._bin(8)];
            case 216:
                return i = this._view.getInt8(this._offset),
                this._offset += 1,
                [i, this._bin(16)];
            case 217:
                return n = this._view.getUint8(this._offset),
                this._offset += 1,
                this._str(n);
            case 218:
                return n = this._view.getUint16(this._offset),
                this._offset += 2,
                this._str(n);
            case 219:
                return n = this._view.getUint32(this._offset),
                this._offset += 4,
                this._str(n);
            case 220:
                return n = this._view.getUint16(this._offset),
                this._offset += 2,
                this._array(n);
            case 221:
                return n = this._view.getUint32(this._offset),
                this._offset += 4,
                this._array(n);
            case 222:
                return n = this._view.getUint16(this._offset),
                this._offset += 2,
                this._map(n);
            case 223:
                return n = this._view.getUint32(this._offset),
                this._offset += 4,
                this._map(n)
            }
            throw Error("Could not parse")
        }
        ,
        eS = e7.decode = function(e, t=0) {
            var n = new eD(e,t)
              , i = n._parse();
            if (n._offset !== e.byteLength)
                throw Error(e.byteLength - n._offset + " trailing bytes");
            return i
        }
        ;
        var eM = e7.encode = function(e) {
            var t = []
              , n = []
              , i = function e(t, n, i) {
                var r = typeof i
                  , o = 0
                  , s = 0
                  , a = 0
                  , c = 0
                  , l = 0
                  , u = 0;
                if ("string" === r) {
                    if ((l = function(e) {
                        for (var t = 0, n = 0, i = 0, r = e.length; i < r; i++)
                            (t = e.charCodeAt(i)) < 128 ? n += 1 : t < 2048 ? n += 2 : t < 55296 || t >= 57344 ? n += 3 : (i++,
                            n += 4);
                        return n
                    }(i)) < 32)
                        t.push(160 | l),
                        u = 1;
                    else if (l < 256)
                        t.push(217, l),
                        u = 2;
                    else if (l < 65536)
                        t.push(218, l >> 8, l),
                        u = 3;
                    else {
                        if (!(l < 4294967296))
                            throw Error("String too long");
                        t.push(219, l >> 24, l >> 16, l >> 8, l),
                        u = 5
                    }
                    return n.push({
                        _str: i,
                        _length: l,
                        _offset: t.length
                    }),
                    u + l
                }
                if ("number" === r)
                    return Math.floor(i) === i && isFinite(i) ? i >= 0 ? i < 128 ? (t.push(i),
                    1) : i < 256 ? (t.push(204, i),
                    2) : i < 65536 ? (t.push(205, i >> 8, i),
                    3) : i < 4294967296 ? (t.push(206, i >> 24, i >> 16, i >> 8, i),
                    5) : (a = i / 4294967296 >> 0,
                    c = i >>> 0,
                    t.push(207, a >> 24, a >> 16, a >> 8, a, c >> 24, c >> 16, c >> 8, c),
                    9) : i >= -32 ? (t.push(i),
                    1) : i >= -128 ? (t.push(208, i),
                    2) : i >= -32768 ? (t.push(209, i >> 8, i),
                    3) : i >= -2147483648 ? (t.push(210, i >> 24, i >> 16, i >> 8, i),
                    5) : (a = Math.floor(i / 4294967296),
                    c = i >>> 0,
                    t.push(211, a >> 24, a >> 16, a >> 8, a, c >> 24, c >> 16, c >> 8, c),
                    9) : (t.push(203),
                    n.push({
                        _float: i,
                        _length: 8,
                        _offset: t.length
                    }),
                    9);
                if ("object" === r) {
                    if (null === i)
                        return t.push(192),
                        1;
                    if (Array.isArray(i)) {
                        if ((l = i.length) < 16)
                            t.push(144 | l),
                            u = 1;
                        else if (l < 65536)
                            t.push(220, l >> 8, l),
                            u = 3;
                        else {
                            if (!(l < 4294967296))
                                throw Error("Array too large");
                            t.push(221, l >> 24, l >> 16, l >> 8, l),
                            u = 5
                        }
                        for (o = 0; o < l; o++)
                            u += e(t, n, i[o]);
                        return u
                    }
                    if (i instanceof Date) {
                        var f = i.getTime()
                          , d = Math.floor(f / 1e3)
                          , h = 1e6 * (f - 1e3 * d);
                        return d >= 0 && h >= 0 && d <= 17179869183 ? 0 === h && d <= 4294967295 ? (t.push(214, 255, d >> 24, d >> 16, d >> 8, d),
                        6) : (a = d / 4294967296,
                        c = 4294967295 & d,
                        t.push(215, 255, h >> 22, h >> 14, h >> 6, a, c >> 24, c >> 16, c >> 8, c),
                        10) : (a = Math.floor(d / 4294967296),
                        c = d >>> 0,
                        t.push(199, 12, 255, h >> 24, h >> 16, h >> 8, h, a >> 24, a >> 16, a >> 8, a, c >> 24, c >> 16, c >> 8, c),
                        15)
                    }
                    if (i instanceof ArrayBuffer) {
                        if ((l = i.byteLength) < 256)
                            t.push(196, l),
                            u = 2;
                        else if (l < 65536)
                            t.push(197, l >> 8, l),
                            u = 3;
                        else {
                            if (!(l < 4294967296))
                                throw Error("Buffer too large");
                            t.push(198, l >> 24, l >> 16, l >> 8, l),
                            u = 5
                        }
                        return n.push({
                            _bin: i,
                            _length: l,
                            _offset: t.length
                        }),
                        u + l
                    }
                    if ("function" == typeof i.toJSON)
                        return e(t, n, i.toJSON());
                    var p = []
                      , g = ""
                      , $ = Object.keys(i);
                    for (o = 0,
                    s = $.length; o < s; o++)
                        void 0 !== i[g = $[o]] && "function" != typeof i[g] && p.push(g);
                    if ((l = p.length) < 16)
                        t.push(128 | l),
                        u = 1;
                    else if (l < 65536)
                        t.push(222, l >> 8, l),
                        u = 3;
                    else {
                        if (!(l < 4294967296))
                            throw Error("Object too large");
                        t.push(223, l >> 24, l >> 16, l >> 8, l),
                        u = 5
                    }
                    for (o = 0; o < l; o++)
                        u += e(t, n, g = p[o]),
                        u += e(t, n, i[g]);
                    return u
                }
                if ("boolean" === r)
                    return t.push(i ? 195 : 194),
                    1;
                if ("undefined" === r)
                    return t.push(192),
                    1;
                if ("function" == typeof i.toJSON)
                    return e(t, n, i.toJSON());
                throw Error("Could not encode")
            }(t, n, e)
              , r = new ArrayBuffer(i)
              , o = new DataView(r)
              , s = 0
              , a = 0
              , c = -1;
            n.length > 0 && (c = n[0]._offset);
            for (var l, u = 0, f = 0, d = 0, h = t.length; d < h; d++)
                if (o.setUint8(a + d, t[d]),
                d + 1 === c) {
                    if (u = (l = n[s])._length,
                    f = a + c,
                    l._bin)
                        for (var p = new Uint8Array(l._bin), g = 0; g < u; g++)
                            o.setUint8(f + g, p[g]);
                    else
                        l._str ? eN(o, f, l._str) : void 0 !== l._float && o.setFloat64(f, l._float);
                    a += u,
                    n[++s] && (c = n[s]._offset)
                }
            return r
        }
          , eL = {
            exports: {}
        };
        !function(e) {
            ArrayBuffer.isView || (ArrayBuffer.isView = function(e) {
                return null !== e && "object" == typeof e && e.buffer instanceof ArrayBuffer
            }
            ),
            "undefined" == typeof globalThis && "undefined" != typeof window && (window.globalThis = window);
            var t = function(e, n) {
                return (t = Object.setPrototypeOf || ({
                    __proto__: []
                })instanceof Array && function(e, t) {
                    e.__proto__ = t
                }
                || function(e, t) {
                    for (var n in t)
                        Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
                }
                )(e, n)
            };
            function n(e, n) {
                if ("function" != typeof n && null !== n)
                    throw TypeError("Class extends value " + String(n) + " is not a constructor or null");
                function i() {
                    this.constructor = e
                }
                t(e, n),
                e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
                new i)
            }
            var i, r = function() {
                return (r = Object.assign || function(e) {
                    for (var t, n = 1, i = arguments.length; n < i; n++)
                        for (var r in t = arguments[n])
                            Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e
                }
                ).apply(this, arguments)
            };
            function o(e, t, n, i) {
                return new (n || (n = Promise))(function(r, o) {
                    function s(e) {
                        try {
                            c(i.next(e))
                        } catch (t) {
                            o(t)
                        }
                    }
                    function a(e) {
                        try {
                            c(i.throw(e))
                        } catch (t) {
                            o(t)
                        }
                    }
                    function c(e) {
                        var t;
                        e.done ? r(e.value) : ((t = e.value)instanceof n ? t : new n(function(e) {
                            e(t)
                        }
                        )).then(s, a)
                    }
                    c((i = i.apply(e, t || [])).next())
                }
                )
            }
            function s(e, t) {
                var n, i, r, o, s = {
                    label: 0,
                    sent: function() {
                        if (1 & r[0])
                            throw r[1];
                        return r[1]
                    },
                    trys: [],
                    ops: []
                };
                return o = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                },
                "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                    return this
                }
                ),
                o;
                function a(a) {
                    return function(c) {
                        return function a(c) {
                            if (n)
                                throw TypeError("Generator is already executing.");
                            for (; o && (o = 0,
                            c[0] && (s = 0)),
                            s; )
                                try {
                                    if (n = 1,
                                    i && (r = 2 & c[0] ? i.return : c[0] ? i.throw || ((r = i.return) && r.call(i),
                                    0) : i.next) && !(r = r.call(i, c[1])).done)
                                        return r;
                                    switch (i = 0,
                                    r && (c = [2 & c[0], r.value]),
                                    c[0]) {
                                    case 0:
                                    case 1:
                                        r = c;
                                        break;
                                    case 4:
                                        return s.label++,
                                        {
                                            value: c[1],
                                            done: !1
                                        };
                                    case 5:
                                        s.label++,
                                        i = c[1],
                                        c = [0];
                                        continue;
                                    case 7:
                                        c = s.ops.pop(),
                                        s.trys.pop();
                                        continue;
                                    default:
                                        if (!((r = (r = s.trys).length > 0 && r[r.length - 1]) || 6 !== c[0] && 2 !== c[0])) {
                                            s = 0;
                                            continue
                                        }
                                        if (3 === c[0] && (!r || c[1] > r[0] && c[1] < r[3])) {
                                            s.label = c[1];
                                            break
                                        }
                                        if (6 === c[0] && s.label < r[1]) {
                                            s.label = r[1],
                                            r = c;
                                            break
                                        }
                                        if (r && s.label < r[2]) {
                                            s.label = r[2],
                                            s.ops.push(c);
                                            break
                                        }
                                        r[2] && s.ops.pop(),
                                        s.trys.pop();
                                        continue
                                    }
                                    c = t.call(e, s)
                                } catch (l) {
                                    c = [6, l],
                                    i = 0
                                } finally {
                                    n = r = 0
                                }
                            if (5 & c[0])
                                throw c[1];
                            return {
                                value: c[0] ? c[1] : void 0,
                                done: !0
                            }
                        }([a, c])
                    }
                }
            }
            function a(e, t, n, i) {
                if ("a" === n && !i)
                    throw TypeError("Private accessor was defined without a getter");
                if ("function" == typeof t ? e !== t || !i : !t.has(e))
                    throw TypeError("Cannot read private member from an object whose class did not declare it");
                return "m" === n ? i : "a" === n ? i.call(e) : i ? i.value : t.get(e)
            }
            function c(e, t, n, i, r) {
                if ("m" === i)
                    throw TypeError("Private method is not writable");
                if ("a" === i && !r)
                    throw TypeError("Private accessor was defined without a setter");
                if ("function" == typeof t ? e !== t || !r : !t.has(e))
                    throw TypeError("Cannot write private member to an object whose class did not declare it");
                return "a" === i ? r.call(e, n) : r ? r.value = n : t.set(e, n),
                n
            }
            (d = i || (i = {}))[d.CONSENTED = 4e3] = "CONSENTED",
            d[d.DEVMODE_RESTART = 4010] = "DEVMODE_RESTART";
            var l = function(e) {
                function t(t, n) {
                    var i = e.call(this, n) || this;
                    return i.name = "ServerError",
                    i.code = t,
                    i
                }
                return n(t, e),
                t
            }(Error);
            function u(e, t) {
                if (this._offset = t,
                e instanceof ArrayBuffer)
                    this._buffer = e,
                    this._view = new DataView(this._buffer);
                else {
                    if (!ArrayBuffer.isView(e))
                        throw Error("Invalid argument");
                    this._buffer = e.buffer,
                    this._view = new DataView(this._buffer,e.byteOffset,e.byteLength)
                }
            }
            function f(e, t, n) {
                for (var i = 0, r = 0, o = n.length; r < o; r++)
                    (i = n.charCodeAt(r)) < 128 ? e.setUint8(t++, i) : i < 2048 ? (e.setUint8(t++, 192 | i >> 6),
                    e.setUint8(t++, 128 | 63 & i)) : i < 55296 || i >= 57344 ? (e.setUint8(t++, 224 | i >> 12),
                    e.setUint8(t++, 128 | i >> 6 & 63),
                    e.setUint8(t++, 128 | 63 & i)) : (r++,
                    i = 65536 + ((1023 & i) << 10 | 1023 & n.charCodeAt(r)),
                    e.setUint8(t++, 240 | i >> 18),
                    e.setUint8(t++, 128 | i >> 12 & 63),
                    e.setUint8(t++, 128 | i >> 6 & 63),
                    e.setUint8(t++, 128 | 63 & i))
            }
            u.prototype._array = function(e) {
                for (var t = Array(e), n = 0; n < e; n++)
                    t[n] = this._parse();
                return t
            }
            ,
            u.prototype._map = function(e) {
                for (var t = {}, n = 0; n < e; n++)
                    t[this._parse()] = this._parse();
                return t
            }
            ,
            u.prototype._str = function(e) {
                var t = function e(t, n, i) {
                    for (var r = "", o = 0, s = n, a = n + i; s < a; s++) {
                        var c = t.getUint8(s);
                        if (0 != (128 & c)) {
                            if (192 != (224 & c)) {
                                if (224 != (240 & c)) {
                                    if (240 != (248 & c))
                                        throw Error("Invalid byte " + c.toString(16));
                                    (o = (7 & c) << 18 | (63 & t.getUint8(++s)) << 12 | (63 & t.getUint8(++s)) << 6 | (63 & t.getUint8(++s)) << 0) >= 65536 ? (o -= 65536,
                                    r += String.fromCharCode(55296 + (o >>> 10), 56320 + (1023 & o))) : r += String.fromCharCode(o)
                                } else
                                    r += String.fromCharCode((15 & c) << 12 | (63 & t.getUint8(++s)) << 6 | (63 & t.getUint8(++s)) << 0)
                            } else
                                r += String.fromCharCode((31 & c) << 6 | 63 & t.getUint8(++s))
                        } else
                            r += String.fromCharCode(c)
                    }
                    return r
                }(this._view, this._offset, e);
                return this._offset += e,
                t
            }
            ,
            u.prototype._bin = function(e) {
                var t = this._buffer.slice(this._offset, this._offset + e);
                return this._offset += e,
                t
            }
            ,
            u.prototype._parse = function() {
                var e, t = this._view.getUint8(this._offset++), n = 0, i = 0, r = 0, o = 0;
                if (t < 192)
                    return t < 128 ? t : t < 144 ? this._map(15 & t) : t < 160 ? this._array(15 & t) : this._str(31 & t);
                if (t > 223)
                    return -1 * (255 - t + 1);
                switch (t) {
                case 192:
                    return null;
                case 194:
                    return !1;
                case 195:
                    return !0;
                case 196:
                    return n = this._view.getUint8(this._offset),
                    this._offset += 1,
                    this._bin(n);
                case 197:
                    return n = this._view.getUint16(this._offset),
                    this._offset += 2,
                    this._bin(n);
                case 198:
                    return n = this._view.getUint32(this._offset),
                    this._offset += 4,
                    this._bin(n);
                case 199:
                    if (n = this._view.getUint8(this._offset),
                    i = this._view.getInt8(this._offset + 1),
                    this._offset += 2,
                    -1 === i) {
                        var s = this._view.getUint32(this._offset);
                        return r = this._view.getInt32(this._offset + 4),
                        o = this._view.getUint32(this._offset + 8),
                        this._offset += 12,
                        new Date(1e3 * (4294967296 * r + o) + s / 1e6)
                    }
                    return [i, this._bin(n)];
                case 200:
                    return n = this._view.getUint16(this._offset),
                    i = this._view.getInt8(this._offset + 2),
                    this._offset += 3,
                    [i, this._bin(n)];
                case 201:
                    return n = this._view.getUint32(this._offset),
                    i = this._view.getInt8(this._offset + 4),
                    this._offset += 5,
                    [i, this._bin(n)];
                case 202:
                    return e = this._view.getFloat32(this._offset),
                    this._offset += 4,
                    e;
                case 203:
                    return e = this._view.getFloat64(this._offset),
                    this._offset += 8,
                    e;
                case 204:
                    return e = this._view.getUint8(this._offset),
                    this._offset += 1,
                    e;
                case 205:
                    return e = this._view.getUint16(this._offset),
                    this._offset += 2,
                    e;
                case 206:
                    return e = this._view.getUint32(this._offset),
                    this._offset += 4,
                    e;
                case 207:
                    return r = 4294967296 * this._view.getUint32(this._offset),
                    o = this._view.getUint32(this._offset + 4),
                    this._offset += 8,
                    r + o;
                case 208:
                    return e = this._view.getInt8(this._offset),
                    this._offset += 1,
                    e;
                case 209:
                    return e = this._view.getInt16(this._offset),
                    this._offset += 2,
                    e;
                case 210:
                    return e = this._view.getInt32(this._offset),
                    this._offset += 4,
                    e;
                case 211:
                    return r = 4294967296 * this._view.getInt32(this._offset),
                    o = this._view.getUint32(this._offset + 4),
                    this._offset += 8,
                    r + o;
                case 212:
                    return i = this._view.getInt8(this._offset),
                    this._offset += 1,
                    0 === i ? void (this._offset += 1) : [i, this._bin(1)];
                case 213:
                    return i = this._view.getInt8(this._offset),
                    this._offset += 1,
                    [i, this._bin(2)];
                case 214:
                    return i = this._view.getInt8(this._offset),
                    this._offset += 1,
                    -1 === i ? (e = this._view.getUint32(this._offset),
                    this._offset += 4,
                    new Date(1e3 * e)) : [i, this._bin(4)];
                case 215:
                    return i = this._view.getInt8(this._offset),
                    this._offset += 1,
                    0 === i ? (r = 4294967296 * this._view.getInt32(this._offset),
                    o = this._view.getUint32(this._offset + 4),
                    this._offset += 8,
                    new Date(r + o)) : -1 === i ? (r = this._view.getUint32(this._offset),
                    o = this._view.getUint32(this._offset + 4),
                    this._offset += 8,
                    new Date(1e3 * (4294967296 * (3 & r) + o) + (r >>> 2) / 1e6)) : [i, this._bin(8)];
                case 216:
                    return i = this._view.getInt8(this._offset),
                    this._offset += 1,
                    [i, this._bin(16)];
                case 217:
                    return n = this._view.getUint8(this._offset),
                    this._offset += 1,
                    this._str(n);
                case 218:
                    return n = this._view.getUint16(this._offset),
                    this._offset += 2,
                    this._str(n);
                case 219:
                    return n = this._view.getUint32(this._offset),
                    this._offset += 4,
                    this._str(n);
                case 220:
                    return n = this._view.getUint16(this._offset),
                    this._offset += 2,
                    this._array(n);
                case 221:
                    return n = this._view.getUint32(this._offset),
                    this._offset += 4,
                    this._array(n);
                case 222:
                    return n = this._view.getUint16(this._offset),
                    this._offset += 2,
                    this._map(n);
                case 223:
                    return n = this._view.getUint32(this._offset),
                    this._offset += 4,
                    this._map(n)
                }
                throw Error("Could not parse")
            }
            ;
            var d, h, p = function() {
                throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")
            }, g = globalThis.WebSocket || p, $ = function() {
                function e(e) {
                    this.events = e
                }
                return e.prototype.send = function(e) {
                    e instanceof ArrayBuffer ? this.ws.send(e) : Array.isArray(e) && this.ws.send(new Uint8Array(e).buffer)
                }
                ,
                e.prototype.connect = function(e) {
                    this.ws = new g(e,this.protocols),
                    this.ws.binaryType = "arraybuffer",
                    this.ws.onopen = this.events.onopen,
                    this.ws.onmessage = this.events.onmessage,
                    this.ws.onclose = this.events.onclose,
                    this.ws.onerror = this.events.onerror
                }
                ,
                e.prototype.close = function(e, t) {
                    this.ws.close(e, t)
                }
                ,
                Object.defineProperty(e.prototype, "isOpen", {
                    get: function() {
                        return this.ws.readyState === g.OPEN
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e
            }(), m = function() {
                function e() {
                    this.events = {},
                    this.transport = new $(this.events)
                }
                return e.prototype.send = function(e) {
                    this.transport.send(e)
                }
                ,
                e.prototype.connect = function(e) {
                    this.transport.connect(e)
                }
                ,
                e.prototype.close = function(e, t) {
                    this.transport.close(e, t)
                }
                ,
                Object.defineProperty(e.prototype, "isOpen", {
                    get: function() {
                        return this.transport.isOpen
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e
            }();
            function _(e, t) {
                for (var n = e[t++], i = "", r = 0, o = t, s = t + n; o < s; o++) {
                    var a = e[o];
                    if (0 != (128 & a)) {
                        if (192 != (224 & a)) {
                            if (224 != (240 & a)) {
                                if (240 != (248 & a))
                                    throw Error("Invalid byte " + a.toString(16));
                                (r = (7 & a) << 18 | (63 & e[++o]) << 12 | (63 & e[++o]) << 6 | (63 & e[++o]) << 0) >= 65536 ? (r -= 65536,
                                i += String.fromCharCode(55296 + (r >>> 10), 56320 + (1023 & r))) : i += String.fromCharCode(r)
                            } else
                                i += String.fromCharCode((15 & a) << 12 | (63 & e[++o]) << 6 | (63 & e[++o]) << 0)
                        } else
                            i += String.fromCharCode((31 & a) << 6 | 63 & e[++o])
                    } else
                        i += String.fromCharCode(a)
                }
                return i
            }
            function v(e) {
                void 0 === e && (e = "");
                for (var t = 0, n = 0, i = 0, r = e.length; i < r; i++)
                    (t = e.charCodeAt(i)) < 128 ? n += 1 : t < 2048 ? n += 2 : t < 55296 || t >= 57344 ? n += 3 : (i++,
                    n += 4);
                return n + 1
            }
            e.Protocol = void 0,
            (C = e.Protocol || (e.Protocol = {}))[C.HANDSHAKE = 9] = "HANDSHAKE",
            C[C.JOIN_ROOM = 10] = "JOIN_ROOM",
            C[C.ERROR = 11] = "ERROR",
            C[C.LEAVE_ROOM = 12] = "LEAVE_ROOM",
            C[C.ROOM_DATA = 13] = "ROOM_DATA",
            C[C.ROOM_STATE = 14] = "ROOM_STATE",
            C[C.ROOM_STATE_PATCH = 15] = "ROOM_STATE_PATCH",
            C[C.ROOM_DATA_SCHEMA = 16] = "ROOM_DATA_SCHEMA",
            C[C.ROOM_DATA_BYTES = 17] = "ROOM_DATA_BYTES",
            e.ErrorCode = void 0,
            (h = e.ErrorCode || (e.ErrorCode = {}))[h.MATCHMAKE_NO_HANDLER = 4210] = "MATCHMAKE_NO_HANDLER",
            h[h.MATCHMAKE_INVALID_CRITERIA = 4211] = "MATCHMAKE_INVALID_CRITERIA",
            h[h.MATCHMAKE_INVALID_ROOM_ID = 4212] = "MATCHMAKE_INVALID_ROOM_ID",
            h[h.MATCHMAKE_UNHANDLED = 4213] = "MATCHMAKE_UNHANDLED",
            h[h.MATCHMAKE_EXPIRED = 4214] = "MATCHMAKE_EXPIRED",
            h[h.AUTH_FAILED = 4215] = "AUTH_FAILED",
            h[h.APPLICATION_ERROR = 4216] = "APPLICATION_ERROR";
            var y = {};
            function b(e, t) {
                y[e] = t
            }
            function x(e) {
                var t = y[e];
                if (!t)
                    throw Error("missing serializer: " + e);
                return t
            }
            var w = function() {
                return {
                    emit: function(e) {
                        for (var t = [], n = 1; n < arguments.length; n++)
                            t[n - 1] = arguments[n];
                        for (var i = this.events[e] || [], r = 0, o = i.length; r < o; r++)
                            i[r].apply(i, t)
                    },
                    events: {},
                    on: function(e, t) {
                        var n, i = this;
                        return (null === (n = this.events[e]) || void 0 === n ? void 0 : n.push(t)) || (this.events[e] = [t]),
                        function() {
                            var n;
                            i.events[e] = null === (n = i.events[e]) || void 0 === n ? void 0 : n.filter(function(e) {
                                return t !== e
                            })
                        }
                    }
                }
            }
              , E = function() {
                function e() {
                    this.handlers = []
                }
                return e.prototype.register = function(e, t) {
                    return this.handlers.push(e),
                    this
                }
                ,
                e.prototype.invoke = function() {
                    for (var e = this, t = [], n = 0; n < arguments.length; n++)
                        t[n] = arguments[n];
                    this.handlers.forEach(function(n) {
                        return n.apply(e, t)
                    })
                }
                ,
                e.prototype.invokeAsync = function() {
                    for (var e = this, t = [], n = 0; n < arguments.length; n++)
                        t[n] = arguments[n];
                    return Promise.all(this.handlers.map(function(n) {
                        return n.apply(e, t)
                    }))
                }
                ,
                e.prototype.remove = function(e) {
                    var t = this.handlers.indexOf(e);
                    this.handlers[t] = this.handlers[this.handlers.length - 1],
                    this.handlers.pop()
                }
                ,
                e.prototype.clear = function() {
                    this.handlers = []
                }
                ,
                e
            }();
            function I() {
                var e = new E;
                function t(t) {
                    return e.register(t, null === this)
                }
                return t.once = function(t) {
                    var n = function() {
                        for (var i = [], r = 0; r < arguments.length; r++)
                            i[r] = arguments[r];
                        t.apply(this, i),
                        e.remove(n)
                    };
                    e.register(n)
                }
                ,
                t.remove = function(t) {
                    return e.remove(t)
                }
                ,
                t.invoke = function() {
                    for (var t = [], n = 0; n < arguments.length; n++)
                        t[n] = arguments[n];
                    return e.invoke.apply(e, t)
                }
                ,
                t.invokeAsync = function() {
                    for (var t = [], n = 0; n < arguments.length; n++)
                        t[n] = arguments[n];
                    return e.invokeAsync.apply(e, t)
                }
                ,
                t.clear = function() {
                    return e.clear()
                }
                ,
                t
            }
            "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : void 0 !== e_ || "undefined" != typeof self && self;
            var k = (P = {
                exports: {}
            },
            (R = function(e, t) {
                var n;
                (n = function(e) {
                    var t = function(e, n) {
                        return (t = Object.setPrototypeOf || ({
                            __proto__: []
                        })instanceof Array && function(e, t) {
                            e.__proto__ = t
                        }
                        || function(e, t) {
                            for (var n in t)
                                Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
                        }
                        )(e, n)
                    };
                    function n(e, n) {
                        if ("function" != typeof n && null !== n)
                            throw TypeError("Class extends value " + String(n) + " is not a constructor or null");
                        function i() {
                            this.constructor = e
                        }
                        t(e, n),
                        e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
                        new i)
                    }
                    function i(e, t, n, i) {
                        var r, o = arguments.length, s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                            s = Reflect.decorate(e, t, n, i);
                        else
                            for (var a = e.length - 1; a >= 0; a--)
                                (r = e[a]) && (s = (o < 3 ? r(s) : o > 3 ? r(t, n, s) : r(t, n)) || s);
                        return o > 3 && s && Object.defineProperty(t, n, s),
                        s
                    }
                    function r(e, t, n) {
                        if (n || 2 === arguments.length)
                            for (var i, r = 0, o = t.length; r < o; r++)
                                !i && r in t || (i || (i = Array.prototype.slice.call(t, 0, r)),
                                i[r] = t[r]);
                        return e.concat(i || Array.prototype.slice.call(t))
                    }
                    var o, s = 255, a = 213;
                    e.OPERATION = void 0,
                    (o = e.OPERATION || (e.OPERATION = {}))[o.ADD = 128] = "ADD",
                    o[o.REPLACE = 0] = "REPLACE",
                    o[o.DELETE = 64] = "DELETE",
                    o[o.DELETE_AND_ADD = 192] = "DELETE_AND_ADD",
                    o[o.TOUCH = 1] = "TOUCH",
                    o[o.CLEAR = 10] = "CLEAR";
                    var c = function() {
                        function t(e, t, n) {
                            this.changed = !1,
                            this.changes = new Map,
                            this.allChanges = new Set,
                            this.caches = {},
                            this.currentCustomOperation = 0,
                            this.ref = e,
                            this.setParent(t, n)
                        }
                        return t.prototype.setParent = function(e, t, n) {
                            var i = this;
                            if (this.indexes || (this.indexes = this.ref instanceof em ? this.ref._definition.indexes : {}),
                            this.parent = e,
                            this.parentIndex = n,
                            t) {
                                if (this.root = t,
                                this.ref instanceof em) {
                                    var r = this.ref._definition;
                                    for (var o in r.schema) {
                                        var s = this.ref[o];
                                        if (s && s.$changes) {
                                            var a = r.indexes[o];
                                            s.$changes.setParent(this.ref, t, a)
                                        }
                                    }
                                } else
                                    "object" == typeof this.ref && this.ref.forEach(function(e, t) {
                                        if (e instanceof em) {
                                            var n = e.$changes
                                              , r = i.ref.$changes.indexes[t];
                                            n.setParent(i.ref, i.root, r)
                                        }
                                    })
                            }
                        }
                        ,
                        t.prototype.operation = function(e) {
                            this.changes.set(--this.currentCustomOperation, e)
                        }
                        ,
                        t.prototype.change = function(t, n) {
                            void 0 === n && (n = e.OPERATION.ADD);
                            var i = "number" == typeof t ? t : this.indexes[t];
                            this.assertValidIndex(i, t);
                            var r = this.changes.get(i);
                            r && r.op !== e.OPERATION.DELETE && r.op !== e.OPERATION.TOUCH || this.changes.set(i, {
                                op: r && r.op === e.OPERATION.DELETE ? e.OPERATION.DELETE_AND_ADD : n,
                                index: i
                            }),
                            this.allChanges.add(i),
                            this.changed = !0,
                            this.touchParents()
                        }
                        ,
                        t.prototype.touch = function(t) {
                            var n = "number" == typeof t ? t : this.indexes[t];
                            this.assertValidIndex(n, t),
                            this.changes.has(n) || this.changes.set(n, {
                                op: e.OPERATION.TOUCH,
                                index: n
                            }),
                            this.allChanges.add(n),
                            this.touchParents()
                        }
                        ,
                        t.prototype.touchParents = function() {
                            this.parent && this.parent.$changes.touch(this.parentIndex)
                        }
                        ,
                        t.prototype.getType = function(e) {
                            var t;
                            return this.ref._definition ? (t = this.ref._definition).schema[t.fieldsByIndex[e]] : (0,
                            Object.values((t = this.parent._definition).schema[t.fieldsByIndex[this.parentIndex]])[0])
                        }
                        ,
                        t.prototype.getChildrenFilter = function() {
                            var e = this.parent._definition.childFilters;
                            return e && e[this.parentIndex]
                        }
                        ,
                        t.prototype.getValue = function(e) {
                            return this.ref.getByIndex(e)
                        }
                        ,
                        t.prototype.delete = function(t) {
                            var n = "number" == typeof t ? t : this.indexes[t];
                            if (void 0 !== n) {
                                var i = this.getValue(n);
                                this.changes.set(n, {
                                    op: e.OPERATION.DELETE,
                                    index: n
                                }),
                                this.allChanges.delete(n),
                                delete this.caches[n],
                                i && i.$changes && (i.$changes.parent = void 0),
                                this.changed = !0,
                                this.touchParents()
                            } else
                                console.warn("@colyseus/schema ".concat(this.ref.constructor.name, ": trying to delete non-existing index: ").concat(t, " (").concat(n, ")"))
                        }
                        ,
                        t.prototype.discard = function(t, n) {
                            var i = this;
                            void 0 === t && (t = !1),
                            void 0 === n && (n = !1),
                            this.ref instanceof em || this.changes.forEach(function(t) {
                                if (t.op === e.OPERATION.DELETE) {
                                    var n = i.ref.getIndex(t.index);
                                    delete i.indexes[n]
                                }
                            }),
                            this.changes.clear(),
                            this.changed = t,
                            n && this.allChanges.clear(),
                            this.currentCustomOperation = 0
                        }
                        ,
                        t.prototype.discardAll = function() {
                            var e = this;
                            this.changes.forEach(function(t) {
                                var n = e.getValue(t.index);
                                n && n.$changes && n.$changes.discardAll()
                            }),
                            this.discard()
                        }
                        ,
                        t.prototype.cache = function(e, t) {
                            this.caches[e] = t
                        }
                        ,
                        t.prototype.clone = function() {
                            return new t(this.ref,this.parent,this.root)
                        }
                        ,
                        t.prototype.ensureRefId = function() {
                            void 0 === this.refId && (this.refId = this.root.getNextUniqueId())
                        }
                        ,
                        t.prototype.assertValidIndex = function(e, t) {
                            if (void 0 === e)
                                throw Error('ChangeTree: missing index for field "'.concat(t, '"'))
                        }
                        ,
                        t
                    }();
                    function l(e, t, n, i) {
                        return e[t] || (e[t] = []),
                        e[t].push(n),
                        null == i || i.forEach(function(e, t) {
                            return n(e, t)
                        }),
                        function() {
                            return f(e[t], e[t].indexOf(n))
                        }
                    }
                    function u(t) {
                        var n = this
                          , i = "string" != typeof this.$changes.getType();
                        this.$items.forEach(function(r, o) {
                            t.push({
                                refId: n.$changes.refId,
                                op: e.OPERATION.DELETE,
                                field: o,
                                value: void 0,
                                previousValue: r
                            }),
                            i && n.$changes.root.removeRef(r.$changes.refId)
                        })
                    }
                    function f(e, t) {
                        if (-1 === t || t >= e.length)
                            return !1;
                        for (var n = e.length - 1, i = t; i < n; i++)
                            e[i] = e[i + 1];
                        return e.length = n,
                        !0
                    }
                    var d = function(e, t) {
                        var n = e.toString()
                          , i = t.toString();
                        return n < i ? -1 : n > i ? 1 : 0
                    }
                      , h = function() {
                        function t() {
                            for (var e = [], t = 0; t < arguments.length; t++)
                                e[t] = arguments[t];
                            this.$changes = new c(this),
                            this.$items = new Map,
                            this.$indexes = new Map,
                            this.$refId = 0,
                            this.push.apply(this, e)
                        }
                        return t.prototype.onAdd = function(t, n) {
                            return void 0 === n && (n = !0),
                            l(this.$callbacks || (this.$callbacks = []), e.OPERATION.ADD, t, n ? this.$items : void 0)
                        }
                        ,
                        t.prototype.onRemove = function(t) {
                            return l(this.$callbacks || (this.$callbacks = []), e.OPERATION.DELETE, t)
                        }
                        ,
                        t.prototype.onChange = function(t) {
                            return l(this.$callbacks || (this.$callbacks = []), e.OPERATION.REPLACE, t)
                        }
                        ,
                        t.is = function(e) {
                            return Array.isArray(e) || void 0 !== e.array
                        }
                        ,
                        Object.defineProperty(t.prototype, "length", {
                            get: function() {
                                return this.$items.size
                            },
                            set: function(e) {
                                0 === e ? this.clear() : this.splice(e, this.length - e)
                            },
                            enumerable: !1,
                            configurable: !0
                        }),
                        t.prototype.push = function() {
                            for (var e, t = this, n = [], i = 0; i < arguments.length; i++)
                                n[i] = arguments[i];
                            return n.forEach(function(n) {
                                e = t.$refId++,
                                t.setAt(e, n)
                            }),
                            e
                        }
                        ,
                        t.prototype.pop = function() {
                            var e = Array.from(this.$indexes.values()).pop();
                            if (void 0 !== e) {
                                this.$changes.delete(e),
                                this.$indexes.delete(e);
                                var t = this.$items.get(e);
                                return this.$items.delete(e),
                                t
                            }
                        }
                        ,
                        t.prototype.at = function(e) {
                            var t = Array.from(this.$items.keys())[e];
                            return this.$items.get(t)
                        }
                        ,
                        t.prototype.setAt = function(t, n) {
                            void 0 !== n.$changes && n.$changes.setParent(this, this.$changes.root, t);
                            var i, r, o = null !== (r = null === (i = this.$changes.indexes[t]) || void 0 === i ? void 0 : i.op) && void 0 !== r ? r : e.OPERATION.ADD;
                            this.$changes.indexes[t] = t,
                            this.$indexes.set(t, t),
                            this.$items.set(t, n),
                            this.$changes.change(t, o)
                        }
                        ,
                        t.prototype.deleteAt = function(e) {
                            var t = Array.from(this.$items.keys())[e];
                            return void 0 !== t && this.$deleteAt(t)
                        }
                        ,
                        t.prototype.$deleteAt = function(e) {
                            return this.$changes.delete(e),
                            this.$indexes.delete(e),
                            this.$items.delete(e)
                        }
                        ,
                        t.prototype.clear = function(t) {
                            this.$changes.discard(!0, !0),
                            this.$changes.indexes = {},
                            this.$indexes.clear(),
                            t && u.call(this, t),
                            this.$items.clear(),
                            this.$changes.operation({
                                index: 0,
                                op: e.OPERATION.CLEAR
                            }),
                            this.$changes.touchParents()
                        }
                        ,
                        t.prototype.concat = function() {
                            for (var e, n = [], i = 0; i < arguments.length; i++)
                                n[i] = arguments[i];
                            return new (t.bind.apply(t, r([void 0], (e = Array.from(this.$items.values())).concat.apply(e, n), !1)))
                        }
                        ,
                        t.prototype.join = function(e) {
                            return Array.from(this.$items.values()).join(e)
                        }
                        ,
                        t.prototype.reverse = function() {
                            var e = this
                              , t = Array.from(this.$items.keys());
                            return Array.from(this.$items.values()).reverse().forEach(function(n, i) {
                                e.setAt(t[i], n)
                            }),
                            this
                        }
                        ,
                        t.prototype.shift = function() {
                            var e = Array.from(this.$items.keys()).shift();
                            if (void 0 !== e) {
                                var t = this.$items.get(e);
                                return this.$deleteAt(e),
                                t
                            }
                        }
                        ,
                        t.prototype.slice = function(e, n) {
                            var i = new t;
                            return i.push.apply(i, Array.from(this.$items.values()).slice(e, n)),
                            i
                        }
                        ,
                        t.prototype.sort = function(e) {
                            var t = this;
                            void 0 === e && (e = d);
                            var n = Array.from(this.$items.keys());
                            return Array.from(this.$items.values()).sort(e).forEach(function(e, i) {
                                t.setAt(n[i], e)
                            }),
                            this
                        }
                        ,
                        t.prototype.splice = function(e, t) {
                            void 0 === t && (t = this.length - e);
                            for (var n = Array.from(this.$items.keys()), i = [], r = e; r < e + t; r++)
                                i.push(this.$items.get(n[r])),
                                this.$deleteAt(n[r]);
                            return i
                        }
                        ,
                        t.prototype.unshift = function() {
                            for (var e = this, t = [], n = 0; n < arguments.length; n++)
                                t[n] = arguments[n];
                            var i = this.length
                              , r = t.length
                              , o = Array.from(this.$items.values());
                            return t.forEach(function(t, n) {
                                e.setAt(n, t)
                            }),
                            o.forEach(function(t, n) {
                                e.setAt(r + n, t)
                            }),
                            i + r
                        }
                        ,
                        t.prototype.indexOf = function(e, t) {
                            return Array.from(this.$items.values()).indexOf(e, t)
                        }
                        ,
                        t.prototype.lastIndexOf = function(e, t) {
                            return void 0 === t && (t = this.length - 1),
                            Array.from(this.$items.values()).lastIndexOf(e, t)
                        }
                        ,
                        t.prototype.every = function(e, t) {
                            return Array.from(this.$items.values()).every(e, t)
                        }
                        ,
                        t.prototype.some = function(e, t) {
                            return Array.from(this.$items.values()).some(e, t)
                        }
                        ,
                        t.prototype.forEach = function(e, t) {
                            Array.from(this.$items.values()).forEach(e, t)
                        }
                        ,
                        t.prototype.map = function(e, t) {
                            return Array.from(this.$items.values()).map(e, t)
                        }
                        ,
                        t.prototype.filter = function(e, t) {
                            return Array.from(this.$items.values()).filter(e, t)
                        }
                        ,
                        t.prototype.reduce = function(e, t) {
                            return Array.prototype.reduce.apply(Array.from(this.$items.values()), arguments)
                        }
                        ,
                        t.prototype.reduceRight = function(e, t) {
                            return Array.prototype.reduceRight.apply(Array.from(this.$items.values()), arguments)
                        }
                        ,
                        t.prototype.find = function(e, t) {
                            return Array.from(this.$items.values()).find(e, t)
                        }
                        ,
                        t.prototype.findIndex = function(e, t) {
                            return Array.from(this.$items.values()).findIndex(e, t)
                        }
                        ,
                        t.prototype.fill = function(e, t, n) {
                            throw Error("ArraySchema#fill() not implemented")
                        }
                        ,
                        t.prototype.copyWithin = function(e, t, n) {
                            throw Error("ArraySchema#copyWithin() not implemented")
                        }
                        ,
                        t.prototype.toString = function() {
                            return this.$items.toString()
                        }
                        ,
                        t.prototype.toLocaleString = function() {
                            return this.$items.toLocaleString()
                        }
                        ,
                        t.prototype[Symbol.iterator] = function() {
                            return Array.from(this.$items.values())[Symbol.iterator]()
                        }
                        ,
                        t.prototype.entries = function() {
                            return this.$items.entries()
                        }
                        ,
                        t.prototype.keys = function() {
                            return this.$items.keys()
                        }
                        ,
                        t.prototype.values = function() {
                            return this.$items.values()
                        }
                        ,
                        t.prototype.includes = function(e, t) {
                            return Array.from(this.$items.values()).includes(e, t)
                        }
                        ,
                        t.prototype.flatMap = function(e, t) {
                            throw Error("ArraySchema#flatMap() is not supported.")
                        }
                        ,
                        t.prototype.flat = function(e) {
                            throw Error("ArraySchema#flat() is not supported.")
                        }
                        ,
                        t.prototype.findLast = function() {
                            var e = Array.from(this.$items.values());
                            return e.findLast.apply(e, arguments)
                        }
                        ,
                        t.prototype.findLastIndex = function() {
                            var e = Array.from(this.$items.values());
                            return e.findLastIndex.apply(e, arguments)
                        }
                        ,
                        t.prototype.setIndex = function(e, t) {
                            this.$indexes.set(e, t)
                        }
                        ,
                        t.prototype.getIndex = function(e) {
                            return this.$indexes.get(e)
                        }
                        ,
                        t.prototype.getByIndex = function(e) {
                            return this.$items.get(this.$indexes.get(e))
                        }
                        ,
                        t.prototype.deleteByIndex = function(e) {
                            var t = this.$indexes.get(e);
                            this.$items.delete(t),
                            this.$indexes.delete(e)
                        }
                        ,
                        t.prototype.toArray = function() {
                            return Array.from(this.$items.values())
                        }
                        ,
                        t.prototype.toJSON = function() {
                            return this.toArray().map(function(e) {
                                return "function" == typeof e.toJSON ? e.toJSON() : e
                            })
                        }
                        ,
                        t.prototype.clone = function(e) {
                            return e ? new (t.bind.apply(t, r([void 0], Array.from(this.$items.values()), !1))) : new (t.bind.apply(t, r([void 0], this.map(function(e) {
                                return e.$changes ? e.clone() : e
                            }), !1)))
                        }
                        ,
                        t
                    }()
                      , p = function() {
                        function t(e) {
                            var n = this;
                            if (this.$changes = new c(this),
                            this.$items = new Map,
                            this.$indexes = new Map,
                            this.$refId = 0,
                            e) {
                                if (e instanceof Map || e instanceof t)
                                    e.forEach(function(e, t) {
                                        return n.set(t, e)
                                    });
                                else
                                    for (var i in e)
                                        this.set(i, e[i])
                            }
                        }
                        return t.prototype.onAdd = function(t, n) {
                            return void 0 === n && (n = !0),
                            l(this.$callbacks || (this.$callbacks = []), e.OPERATION.ADD, t, n ? this.$items : void 0)
                        }
                        ,
                        t.prototype.onRemove = function(t) {
                            return l(this.$callbacks || (this.$callbacks = []), e.OPERATION.DELETE, t)
                        }
                        ,
                        t.prototype.onChange = function(t) {
                            return l(this.$callbacks || (this.$callbacks = []), e.OPERATION.REPLACE, t)
                        }
                        ,
                        t.is = function(e) {
                            return void 0 !== e.map
                        }
                        ,
                        t.prototype[Symbol.iterator] = function() {
                            return this.$items[Symbol.iterator]()
                        }
                        ,
                        Object.defineProperty(t.prototype, Symbol.toStringTag, {
                            get: function() {
                                return this.$items[Symbol.toStringTag]
                            },
                            enumerable: !1,
                            configurable: !0
                        }),
                        t.prototype.set = function(t, n) {
                            if (null == n)
                                throw Error("MapSchema#set('".concat(t, "', ").concat(n, "): trying to set ").concat(n, " value on '").concat(t, "'."));
                            var i = void 0 !== this.$changes.indexes[t]
                              , r = i ? this.$changes.indexes[t] : this.$refId++
                              , o = i ? e.OPERATION.REPLACE : e.OPERATION.ADD
                              , s = void 0 !== n.$changes;
                            return s && n.$changes.setParent(this, this.$changes.root, r),
                            i ? s && this.$items.get(t) !== n && (o = e.OPERATION.ADD) : (this.$changes.indexes[t] = r,
                            this.$indexes.set(r, t)),
                            this.$items.set(t, n),
                            this.$changes.change(t, o),
                            this
                        }
                        ,
                        t.prototype.get = function(e) {
                            return this.$items.get(e)
                        }
                        ,
                        t.prototype.delete = function(e) {
                            return this.$changes.delete(e),
                            this.$items.delete(e)
                        }
                        ,
                        t.prototype.clear = function(t) {
                            this.$changes.discard(!0, !0),
                            this.$changes.indexes = {},
                            this.$indexes.clear(),
                            t && u.call(this, t),
                            this.$items.clear(),
                            this.$changes.operation({
                                index: 0,
                                op: e.OPERATION.CLEAR
                            }),
                            this.$changes.touchParents()
                        }
                        ,
                        t.prototype.has = function(e) {
                            return this.$items.has(e)
                        }
                        ,
                        t.prototype.forEach = function(e) {
                            this.$items.forEach(e)
                        }
                        ,
                        t.prototype.entries = function() {
                            return this.$items.entries()
                        }
                        ,
                        t.prototype.keys = function() {
                            return this.$items.keys()
                        }
                        ,
                        t.prototype.values = function() {
                            return this.$items.values()
                        }
                        ,
                        Object.defineProperty(t.prototype, "size", {
                            get: function() {
                                return this.$items.size
                            },
                            enumerable: !1,
                            configurable: !0
                        }),
                        t.prototype.setIndex = function(e, t) {
                            this.$indexes.set(e, t)
                        }
                        ,
                        t.prototype.getIndex = function(e) {
                            return this.$indexes.get(e)
                        }
                        ,
                        t.prototype.getByIndex = function(e) {
                            return this.$items.get(this.$indexes.get(e))
                        }
                        ,
                        t.prototype.deleteByIndex = function(e) {
                            var t = this.$indexes.get(e);
                            this.$items.delete(t),
                            this.$indexes.delete(e)
                        }
                        ,
                        t.prototype.toJSON = function() {
                            var e = {};
                            return this.forEach(function(t, n) {
                                e[n] = "function" == typeof t.toJSON ? t.toJSON() : t
                            }),
                            e
                        }
                        ,
                        t.prototype.clone = function(e) {
                            var n;
                            return e ? n = Object.assign(new t, this) : (n = new t,
                            this.forEach(function(e, t) {
                                e.$changes ? n.set(t, e.clone()) : n.set(t, e)
                            })),
                            n
                        }
                        ,
                        t
                    }()
                      , g = {};
                    function $(e, t) {
                        g[e] = t
                    }
                    function m(e) {
                        return g[e]
                    }
                    var _ = function() {
                        function e() {
                            this.indexes = {},
                            this.fieldsByIndex = {},
                            this.deprecated = {},
                            this.descriptors = {}
                        }
                        return e.create = function(t) {
                            var n = new e;
                            return n.schema = Object.assign({}, t && t.schema || {}),
                            n.indexes = Object.assign({}, t && t.indexes || {}),
                            n.fieldsByIndex = Object.assign({}, t && t.fieldsByIndex || {}),
                            n.descriptors = Object.assign({}, t && t.descriptors || {}),
                            n.deprecated = Object.assign({}, t && t.deprecated || {}),
                            n
                        }
                        ,
                        e.prototype.addField = function(e, t) {
                            var n = this.getNextFieldIndex();
                            this.fieldsByIndex[n] = e,
                            this.indexes[e] = n,
                            this.schema[e] = Array.isArray(t) ? {
                                array: t[0]
                            } : t
                        }
                        ,
                        e.prototype.hasField = function(e) {
                            return void 0 !== this.indexes[e]
                        }
                        ,
                        e.prototype.addFilter = function(e, t) {
                            return this.filters || (this.filters = {},
                            this.indexesWithFilters = []),
                            this.filters[this.indexes[e]] = t,
                            this.indexesWithFilters.push(this.indexes[e]),
                            !0
                        }
                        ,
                        e.prototype.addChildrenFilter = function(e, t) {
                            var n, i = this.indexes[e];
                            if (g[n = Object.keys(this.schema[e])[0]])
                                return this.childFilters || (this.childFilters = {}),
                                this.childFilters[i] = t,
                                !0;
                            console.warn("@filterChildren: field '".concat(e, "' can't have children. Ignoring filter."))
                        }
                        ,
                        e.prototype.getChildrenFilter = function(e) {
                            return this.childFilters && this.childFilters[this.indexes[e]]
                        }
                        ,
                        e.prototype.getNextFieldIndex = function() {
                            return Object.keys(this.schema || {}).length
                        }
                        ,
                        e
                    }()
                      , v = function() {
                        function e() {
                            this.types = {},
                            this.schemas = new Map,
                            this.useFilters = !1
                        }
                        return e.prototype.has = function(e) {
                            return this.schemas.has(e)
                        }
                        ,
                        e.prototype.get = function(e) {
                            return this.types[e]
                        }
                        ,
                        e.prototype.add = function(e, t) {
                            void 0 === t && (t = this.schemas.size),
                            e._definition = _.create(e._definition),
                            e._typeid = t,
                            this.types[t] = e,
                            this.schemas.set(e, t)
                        }
                        ,
                        e.create = function(t) {
                            return void 0 === t && (t = {}),
                            function(n) {
                                return t.context || (t.context = new e),
                                b(n, t)
                            }
                        }
                        ,
                        e
                    }()
                      , y = new v;
                    function b(e, t) {
                        return void 0 === t && (t = {}),
                        function(n, i) {
                            var o = t.context || y
                              , s = n.constructor;
                            if (s._context = o,
                            !e)
                                throw Error("".concat(s.name, ': @type() reference provided for "').concat(i, "\" is undefined. Make sure you don't have any circular dependencies."));
                            o.has(s) || o.add(s);
                            var a = s._definition;
                            if (a.addField(i, e),
                            a.descriptors[i]) {
                                if (a.deprecated[i])
                                    return;
                                try {
                                    throw Error("@colyseus/schema: Duplicate '".concat(i, "' definition on '").concat(s.name, "'.\nCheck @type() annotation"))
                                } catch (c) {
                                    var l = c.stack.split("\n")[4].trim();
                                    throw Error("".concat(c.message, " ").concat(l))
                                }
                            }
                            var u = h.is(e)
                              , f = !u && p.is(e);
                            if ("string" != typeof e && !em.is(e)) {
                                var d = Object.values(e)[0];
                                "string" == typeof d || o.has(d) || o.add(d)
                            }
                            if (t.manual)
                                a.descriptors[i] = {
                                    enumerable: !0,
                                    configurable: !0,
                                    writable: !0
                                };
                            else {
                                var g = "_".concat(i);
                                a.descriptors[g] = {
                                    enumerable: !1,
                                    configurable: !1,
                                    writable: !0
                                },
                                a.descriptors[i] = {
                                    get: function() {
                                        return this[g]
                                    },
                                    set: function(e) {
                                        var t, n;
                                        e !== this[g] && (null != e ? (!u || e instanceof h || (e = new (h.bind.apply(h, r([void 0], e, !1)))),
                                        !f || e instanceof p || (e = new p(e)),
                                        void 0 === e.$proxy && (f ? e = ((t = e).$proxy = !0,
                                        t = new Proxy(t,{
                                            get: function(e, t) {
                                                return "symbol" != typeof t && void 0 === e[t] ? e.get(t) : e[t]
                                            },
                                            set: function(e, t, n) {
                                                return "symbol" != typeof t && -1 === t.indexOf("$") && "onAdd" !== t && "onRemove" !== t && "onChange" !== t ? e.set(t, n) : e[t] = n,
                                                !0
                                            },
                                            deleteProperty: function(e, t) {
                                                return e.delete(t),
                                                !0
                                            }
                                        })) : u && (e = ((n = e).$proxy = !0,
                                        n = new Proxy(n,{
                                            get: function(e, t) {
                                                return "symbol" == typeof t || isNaN(t) ? e[t] : e.at(t)
                                            },
                                            set: function(e, t, n) {
                                                if ("symbol" == typeof t || isNaN(t))
                                                    e[t] = n;
                                                else {
                                                    var i = parseInt(Array.from(e.$items.keys())[t] || t);
                                                    null == n ? e.deleteAt(i) : e.setAt(i, n)
                                                }
                                                return !0
                                            },
                                            deleteProperty: function(e, t) {
                                                return "number" == typeof t ? e.deleteAt(t) : delete e[t],
                                                !0
                                            }
                                        })))),
                                        this.$changes.change(i),
                                        e.$changes && e.$changes.setParent(this, this.$changes.root, this._definition.indexes[i])) : this[g] && this.$changes.delete(i),
                                        this[g] = e)
                                    },
                                    enumerable: !0,
                                    configurable: !0
                                }
                            }
                        }
                    }
                    function x(e, t, n) {
                        for (var i = 0, r = 0, o = n.length; r < o; r++)
                            (i = n.charCodeAt(r)) < 128 ? e[t++] = i : i < 2048 ? (e[t++] = 192 | i >> 6,
                            e[t++] = 128 | 63 & i) : i < 55296 || i >= 57344 ? (e[t++] = 224 | i >> 12,
                            e[t++] = 128 | i >> 6 & 63,
                            e[t++] = 128 | 63 & i) : (r++,
                            i = 65536 + ((1023 & i) << 10 | 1023 & n.charCodeAt(r)),
                            e[t++] = 240 | i >> 18,
                            e[t++] = 128 | i >> 12 & 63,
                            e[t++] = 128 | i >> 6 & 63,
                            e[t++] = 128 | 63 & i)
                    }
                    function w(e, t) {
                        e.push(255 & t)
                    }
                    function E(e, t) {
                        e.push(255 & t)
                    }
                    function I(e, t) {
                        e.push(255 & t),
                        e.push(t >> 8 & 255)
                    }
                    function k(e, t) {
                        e.push(255 & t),
                        e.push(t >> 8 & 255)
                    }
                    function A(e, t) {
                        e.push(255 & t),
                        e.push(t >> 8 & 255),
                        e.push(t >> 16 & 255),
                        e.push(t >> 24 & 255)
                    }
                    function O(e, t) {
                        e.push(255 & t),
                        e.push(255 & t >> 8),
                        e.push(255 & t >> 16),
                        e.push(255 & t >> 24)
                    }
                    function T(e, t) {
                        O(e, t >>> 0),
                        O(e, Math.floor(t / 4294967296))
                    }
                    function C(e, t) {
                        O(e, t >>> 0),
                        O(e, t / 4294967296 >> 0)
                    }
                    function R(e, t) {
                        M(e, t)
                    }
                    function P(e, t) {
                        L(e, t)
                    }
                    var S = new Int32Array(2)
                      , D = new Float32Array(S.buffer)
                      , N = new Float64Array(S.buffer);
                    function M(e, t) {
                        D[0] = t,
                        A(e, S[0])
                    }
                    function L(e, t) {
                        N[0] = t,
                        A(e, S[0]),
                        A(e, S[1])
                    }
                    function q(e, t) {
                        t || (t = "");
                        var n = function e(t) {
                            for (var n = 0, i = 0, r = 0, o = t.length; r < o; r++)
                                (n = t.charCodeAt(r)) < 128 ? i += 1 : n < 2048 ? i += 2 : n < 55296 || n >= 57344 ? i += 3 : (r++,
                                i += 4);
                            return i
                        }(t)
                          , i = 0;
                        if (n < 32)
                            e.push(160 | n),
                            i = 1;
                        else if (n < 256)
                            e.push(217),
                            E(e, n),
                            i = 2;
                        else if (n < 65536)
                            e.push(218),
                            k(e, n),
                            i = 3;
                        else {
                            if (!(n < 4294967296))
                                throw Error("String too long");
                            e.push(219),
                            O(e, n),
                            i = 5
                        }
                        return x(e, e.length, t),
                        i + n
                    }
                    function U(e, t) {
                        return isNaN(t) ? U(e, 0) : isFinite(t) ? t !== (0 | t) ? (e.push(203),
                        L(e, t),
                        9) : t >= 0 ? t < 128 ? (E(e, t),
                        1) : t < 256 ? (e.push(204),
                        E(e, t),
                        2) : t < 65536 ? (e.push(205),
                        k(e, t),
                        3) : t < 4294967296 ? (e.push(206),
                        O(e, t),
                        5) : (e.push(207),
                        C(e, t),
                        9) : t >= -32 ? (e.push(224 | t + 32),
                        1) : t >= -128 ? (e.push(208),
                        w(e, t),
                        2) : t >= -32768 ? (e.push(209),
                        I(e, t),
                        3) : t >= -2147483648 ? (e.push(210),
                        A(e, t),
                        5) : (e.push(211),
                        T(e, t),
                        9) : U(e, t > 0 ? Number.MAX_SAFE_INTEGER : -Number.MAX_SAFE_INTEGER)
                    }
                    var B = Object.freeze({
                        __proto__: null,
                        utf8Write: x,
                        int8: w,
                        uint8: E,
                        int16: I,
                        uint16: k,
                        int32: A,
                        uint32: O,
                        int64: T,
                        uint64: C,
                        float32: R,
                        float64: P,
                        writeFloat32: M,
                        writeFloat64: L,
                        boolean: function e(t, n) {
                            return E(t, n ? 1 : 0)
                        },
                        string: q,
                        number: U
                    });
                    function H(e, t) {
                        return z(e, t) << 24 >> 24
                    }
                    function z(e, t) {
                        return e[t.offset++]
                    }
                    function V(e, t) {
                        return F(e, t) << 16 >> 16
                    }
                    function F(e, t) {
                        return e[t.offset++] | e[t.offset++] << 8
                    }
                    function j(e, t) {
                        return e[t.offset++] | e[t.offset++] << 8 | e[t.offset++] << 16 | e[t.offset++] << 24
                    }
                    function G(e, t) {
                        return j(e, t) >>> 0
                    }
                    function W(e, t) {
                        return ee(e, t)
                    }
                    function J(e, t) {
                        return et(e, t)
                    }
                    function K(e, t) {
                        var n = G(e, t);
                        return 4294967296 * j(e, t) + n
                    }
                    function Q(e, t) {
                        var n = G(e, t);
                        return 4294967296 * G(e, t) + n
                    }
                    var Y = new Int32Array(2)
                      , X = new Float32Array(Y.buffer)
                      , Z = new Float64Array(Y.buffer);
                    function ee(e, t) {
                        return Y[0] = j(e, t),
                        X[0]
                    }
                    function et(e, t) {
                        return Y[0] = j(e, t),
                        Y[1] = j(e, t),
                        Z[0]
                    }
                    function en(e, t) {
                        var n, i = e[t.offset++];
                        i < 192 ? n = 31 & i : 217 === i ? n = z(e, t) : 218 === i ? n = F(e, t) : 219 === i && (n = G(e, t));
                        var r = function e(t, n, i) {
                            for (var r = "", o = 0, s = n, a = n + i; s < a; s++) {
                                var c = t[s];
                                0 != (128 & c) ? 192 != (224 & c) ? 224 != (240 & c) ? 240 != (248 & c) ? console.error("Invalid byte " + c.toString(16)) : (o = (7 & c) << 18 | (63 & t[++s]) << 12 | (63 & t[++s]) << 6 | (63 & t[++s]) << 0) >= 65536 ? (o -= 65536,
                                r += String.fromCharCode(55296 + (o >>> 10), 56320 + (1023 & o))) : r += String.fromCharCode(o) : r += String.fromCharCode((15 & c) << 12 | (63 & t[++s]) << 6 | (63 & t[++s]) << 0) : r += String.fromCharCode((31 & c) << 6 | 63 & t[++s]) : r += String.fromCharCode(c)
                            }
                            return r
                        }(e, t.offset, n);
                        return t.offset += n,
                        r
                    }
                    function ei(e, t) {
                        var n = e[t.offset++];
                        return n < 128 ? n : 202 === n ? ee(e, t) : 203 === n ? et(e, t) : 204 === n ? z(e, t) : 205 === n ? F(e, t) : 206 === n ? G(e, t) : 207 === n ? Q(e, t) : 208 === n ? H(e, t) : 209 === n ? V(e, t) : 210 === n ? j(e, t) : 211 === n ? K(e, t) : n > 223 ? -1 * (255 - n + 1) : void 0
                    }
                    function er(e, t) {
                        return e[t.offset - 1] === s && (e[t.offset] < 128 || e[t.offset] >= 202 && e[t.offset] <= 211)
                    }
                    var eo = Object.freeze({
                        __proto__: null,
                        int8: H,
                        uint8: z,
                        int16: V,
                        uint16: F,
                        int32: j,
                        uint32: G,
                        float32: W,
                        float64: J,
                        int64: K,
                        uint64: Q,
                        readFloat32: ee,
                        readFloat64: et,
                        boolean: function e(t, n) {
                            return z(t, n) > 0
                        },
                        string: en,
                        stringCheck: function e(t, n) {
                            var i = t[n.offset];
                            return i < 192 && i > 160 || 217 === i || 218 === i || 219 === i
                        },
                        number: ei,
                        numberCheck: function e(t, n) {
                            var i = t[n.offset];
                            return i < 128 || i >= 202 && i <= 211
                        },
                        arrayCheck: function e(t, n) {
                            return t[n.offset] < 160
                        },
                        switchStructureCheck: er
                    })
                      , es = function() {
                        function t(e) {
                            var t = this;
                            this.$changes = new c(this),
                            this.$items = new Map,
                            this.$indexes = new Map,
                            this.$refId = 0,
                            e && e.forEach(function(e) {
                                return t.add(e)
                            })
                        }
                        return t.prototype.onAdd = function(t, n) {
                            return void 0 === n && (n = !0),
                            l(this.$callbacks || (this.$callbacks = []), e.OPERATION.ADD, t, n ? this.$items : void 0)
                        }
                        ,
                        t.prototype.onRemove = function(t) {
                            return l(this.$callbacks || (this.$callbacks = []), e.OPERATION.DELETE, t)
                        }
                        ,
                        t.prototype.onChange = function(t) {
                            return l(this.$callbacks || (this.$callbacks = []), e.OPERATION.REPLACE, t)
                        }
                        ,
                        t.is = function(e) {
                            return void 0 !== e.collection
                        }
                        ,
                        t.prototype.add = function(e) {
                            var t = this.$refId++;
                            return void 0 !== e.$changes && e.$changes.setParent(this, this.$changes.root, t),
                            this.$changes.indexes[t] = t,
                            this.$indexes.set(t, t),
                            this.$items.set(t, e),
                            this.$changes.change(t),
                            t
                        }
                        ,
                        t.prototype.at = function(e) {
                            var t = Array.from(this.$items.keys())[e];
                            return this.$items.get(t)
                        }
                        ,
                        t.prototype.entries = function() {
                            return this.$items.entries()
                        }
                        ,
                        t.prototype.delete = function(e) {
                            for (var t, n, i = this.$items.entries(); (n = i.next()) && !n.done; )
                                if (e === n.value[1]) {
                                    t = n.value[0];
                                    break
                                }
                            return void 0 !== t && (this.$changes.delete(t),
                            this.$indexes.delete(t),
                            this.$items.delete(t))
                        }
                        ,
                        t.prototype.clear = function(t) {
                            this.$changes.discard(!0, !0),
                            this.$changes.indexes = {},
                            this.$indexes.clear(),
                            t && u.call(this, t),
                            this.$items.clear(),
                            this.$changes.operation({
                                index: 0,
                                op: e.OPERATION.CLEAR
                            }),
                            this.$changes.touchParents()
                        }
                        ,
                        t.prototype.has = function(e) {
                            return Array.from(this.$items.values()).some(function(t) {
                                return t === e
                            })
                        }
                        ,
                        t.prototype.forEach = function(e) {
                            var t = this;
                            this.$items.forEach(function(n, i, r) {
                                return e(n, i, t)
                            })
                        }
                        ,
                        t.prototype.values = function() {
                            return this.$items.values()
                        }
                        ,
                        Object.defineProperty(t.prototype, "size", {
                            get: function() {
                                return this.$items.size
                            },
                            enumerable: !1,
                            configurable: !0
                        }),
                        t.prototype.setIndex = function(e, t) {
                            this.$indexes.set(e, t)
                        }
                        ,
                        t.prototype.getIndex = function(e) {
                            return this.$indexes.get(e)
                        }
                        ,
                        t.prototype.getByIndex = function(e) {
                            return this.$items.get(this.$indexes.get(e))
                        }
                        ,
                        t.prototype.deleteByIndex = function(e) {
                            var t = this.$indexes.get(e);
                            this.$items.delete(t),
                            this.$indexes.delete(e)
                        }
                        ,
                        t.prototype.toArray = function() {
                            return Array.from(this.$items.values())
                        }
                        ,
                        t.prototype.toJSON = function() {
                            var e = [];
                            return this.forEach(function(t, n) {
                                e.push("function" == typeof t.toJSON ? t.toJSON() : t)
                            }),
                            e
                        }
                        ,
                        t.prototype.clone = function(e) {
                            var n;
                            return e ? n = Object.assign(new t, this) : (n = new t,
                            this.forEach(function(e) {
                                e.$changes ? n.add(e.clone()) : n.add(e)
                            })),
                            n
                        }
                        ,
                        t
                    }()
                      , ea = function() {
                        function t(e) {
                            var t = this;
                            this.$changes = new c(this),
                            this.$items = new Map,
                            this.$indexes = new Map,
                            this.$refId = 0,
                            e && e.forEach(function(e) {
                                return t.add(e)
                            })
                        }
                        return t.prototype.onAdd = function(t, n) {
                            return void 0 === n && (n = !0),
                            l(this.$callbacks || (this.$callbacks = []), e.OPERATION.ADD, t, n ? this.$items : void 0)
                        }
                        ,
                        t.prototype.onRemove = function(t) {
                            return l(this.$callbacks || (this.$callbacks = []), e.OPERATION.DELETE, t)
                        }
                        ,
                        t.prototype.onChange = function(t) {
                            return l(this.$callbacks || (this.$callbacks = []), e.OPERATION.REPLACE, t)
                        }
                        ,
                        t.is = function(e) {
                            return void 0 !== e.set
                        }
                        ,
                        t.prototype.add = function(t) {
                            if (this.has(t))
                                return !1;
                            var n, i, r = this.$refId++;
                            void 0 !== t.$changes && t.$changes.setParent(this, this.$changes.root, r);
                            var o = null !== (i = null === (n = this.$changes.indexes[r]) || void 0 === n ? void 0 : n.op) && void 0 !== i ? i : e.OPERATION.ADD;
                            return this.$changes.indexes[r] = r,
                            this.$indexes.set(r, r),
                            this.$items.set(r, t),
                            this.$changes.change(r, o),
                            r
                        }
                        ,
                        t.prototype.entries = function() {
                            return this.$items.entries()
                        }
                        ,
                        t.prototype.delete = function(e) {
                            for (var t, n, i = this.$items.entries(); (n = i.next()) && !n.done; )
                                if (e === n.value[1]) {
                                    t = n.value[0];
                                    break
                                }
                            return void 0 !== t && (this.$changes.delete(t),
                            this.$indexes.delete(t),
                            this.$items.delete(t))
                        }
                        ,
                        t.prototype.clear = function(t) {
                            this.$changes.discard(!0, !0),
                            this.$changes.indexes = {},
                            this.$indexes.clear(),
                            t && u.call(this, t),
                            this.$items.clear(),
                            this.$changes.operation({
                                index: 0,
                                op: e.OPERATION.CLEAR
                            }),
                            this.$changes.touchParents()
                        }
                        ,
                        t.prototype.has = function(e) {
                            for (var t, n = this.$items.values(), i = !1; (t = n.next()) && !t.done; )
                                if (e === t.value) {
                                    i = !0;
                                    break
                                }
                            return i
                        }
                        ,
                        t.prototype.forEach = function(e) {
                            var t = this;
                            this.$items.forEach(function(n, i, r) {
                                return e(n, i, t)
                            })
                        }
                        ,
                        t.prototype.values = function() {
                            return this.$items.values()
                        }
                        ,
                        Object.defineProperty(t.prototype, "size", {
                            get: function() {
                                return this.$items.size
                            },
                            enumerable: !1,
                            configurable: !0
                        }),
                        t.prototype.setIndex = function(e, t) {
                            this.$indexes.set(e, t)
                        }
                        ,
                        t.prototype.getIndex = function(e) {
                            return this.$indexes.get(e)
                        }
                        ,
                        t.prototype.getByIndex = function(e) {
                            return this.$items.get(this.$indexes.get(e))
                        }
                        ,
                        t.prototype.deleteByIndex = function(e) {
                            var t = this.$indexes.get(e);
                            this.$items.delete(t),
                            this.$indexes.delete(e)
                        }
                        ,
                        t.prototype.toArray = function() {
                            return Array.from(this.$items.values())
                        }
                        ,
                        t.prototype.toJSON = function() {
                            var e = [];
                            return this.forEach(function(t, n) {
                                e.push("function" == typeof t.toJSON ? t.toJSON() : t)
                            }),
                            e
                        }
                        ,
                        t.prototype.clone = function(e) {
                            var n;
                            return e ? n = Object.assign(new t, this) : (n = new t,
                            this.forEach(function(e) {
                                e.$changes ? n.add(e.clone()) : n.add(e)
                            })),
                            n
                        }
                        ,
                        t
                    }()
                      , ec = function() {
                        function e() {
                            this.refIds = new WeakSet,
                            this.containerIndexes = new WeakMap
                        }
                        return e.prototype.addRefId = function(e) {
                            this.refIds.has(e) || (this.refIds.add(e),
                            this.containerIndexes.set(e, new Set))
                        }
                        ,
                        e.get = function(t) {
                            return void 0 === t.$filterState && (t.$filterState = new e),
                            t.$filterState
                        }
                        ,
                        e
                    }()
                      , el = function() {
                        function e() {
                            this.refs = new Map,
                            this.refCounts = {},
                            this.deletedRefs = new Set,
                            this.nextUniqueId = 0
                        }
                        return e.prototype.getNextUniqueId = function() {
                            return this.nextUniqueId++
                        }
                        ,
                        e.prototype.addRef = function(e, t, n) {
                            void 0 === n && (n = !0),
                            this.refs.set(e, t),
                            n && (this.refCounts[e] = (this.refCounts[e] || 0) + 1)
                        }
                        ,
                        e.prototype.removeRef = function(e) {
                            this.refCounts[e] = this.refCounts[e] - 1,
                            this.deletedRefs.add(e)
                        }
                        ,
                        e.prototype.clearRefs = function() {
                            this.refs.clear(),
                            this.deletedRefs.clear(),
                            this.refCounts = {}
                        }
                        ,
                        e.prototype.garbageCollectDeletedRefs = function() {
                            var e = this;
                            this.deletedRefs.forEach(function(t) {
                                if (!(e.refCounts[t] > 0)) {
                                    var n = e.refs.get(t);
                                    if (n instanceof em)
                                        for (var i in n._definition.schema)
                                            "string" != typeof n._definition.schema[i] && n[i] && n[i].$changes && e.removeRef(n[i].$changes.refId);
                                    else {
                                        var r = n.$changes.parent._definition;
                                        "function" == typeof Object.values(r.schema[r.fieldsByIndex[n.$changes.parentIndex]])[0] && Array.from(n.values()).forEach(function(t) {
                                            return e.removeRef(t.$changes.refId)
                                        })
                                    }
                                    e.refs.delete(t),
                                    delete e.refCounts[t]
                                }
                            }),
                            this.deletedRefs.clear()
                        }
                        ,
                        e
                    }()
                      , eu = function(e) {
                        function t() {
                            return null !== e && e.apply(this, arguments) || this
                        }
                        return n(t, e),
                        t
                    }(Error);
                    function ef(e, t, n, i) {
                        if (!(e instanceof t))
                            throw new eu("a '".concat(t.name, "' was expected, but '").concat(e.constructor.name, "' was provided in ").concat(n.constructor.name, "#").concat(i))
                    }
                    function ed(e, t, n, i, r) {
                        !function e(t, n, i, r) {
                            var o, s = !1;
                            switch (n) {
                            case "number":
                            case "int8":
                            case "uint8":
                            case "int16":
                            case "uint16":
                            case "int32":
                            case "uint32":
                            case "int64":
                            case "uint64":
                            case "float32":
                            case "float64":
                                o = "number",
                                isNaN(t) && console.log('trying to encode "NaN" in '.concat(i.constructor.name, "#").concat(r));
                                break;
                            case "string":
                                o = "string",
                                s = !0;
                                break;
                            case "boolean":
                                return
                            }
                            if (typeof t !== o && (!s || s && null !== t)) {
                                var a = "'".concat(JSON.stringify(t), "'").concat(t && t.constructor && " (".concat(t.constructor.name, ")") || "");
                                throw new eu("a '".concat(o, "' was expected, but ").concat(a, " was provided in ").concat(i.constructor.name, "#").concat(r))
                            }
                        }(n, e, i, r);
                        var o = B[e];
                        if (!o)
                            throw new eu("a '".concat(e, "' was expected, but ").concat(n, " was provided in ").concat(i.constructor.name, "#").concat(r));
                        o(t, n)
                    }
                    function eh(e, t, n) {
                        return eo[e](t, n)
                    }
                    var ep, eg, e$, e9, em = function() {
                        function t() {
                            for (var e = [], t = 0; t < arguments.length; t++)
                                e[t] = arguments[t];
                            Object.defineProperties(this, {
                                $changes: {
                                    value: new c(this,void 0,new el),
                                    enumerable: !1,
                                    writable: !0
                                },
                                $callbacks: {
                                    value: void 0,
                                    enumerable: !1,
                                    writable: !0
                                }
                            });
                            var n = this._definition.descriptors;
                            n && Object.defineProperties(this, n),
                            e[0] && this.assign(e[0])
                        }
                        return t.onError = function(e) {
                            console.error(e)
                        }
                        ,
                        t.is = function(e) {
                            return e._definition && void 0 !== e._definition.schema
                        }
                        ,
                        t.prototype.onChange = function(t) {
                            return l(this.$callbacks || (this.$callbacks = []), e.OPERATION.REPLACE, t)
                        }
                        ,
                        t.prototype.onRemove = function(t) {
                            return l(this.$callbacks || (this.$callbacks = []), e.OPERATION.DELETE, t)
                        }
                        ,
                        t.prototype.assign = function(e) {
                            return Object.assign(this, e),
                            this
                        }
                        ,
                        Object.defineProperty(t.prototype, "_definition", {
                            get: function() {
                                return this.constructor._definition
                            },
                            enumerable: !1,
                            configurable: !0
                        }),
                        t.prototype.setDirty = function(e, t) {
                            this.$changes.change(e, t)
                        }
                        ,
                        t.prototype.listen = function(e, t, n) {
                            var i = this;
                            return void 0 === n && (n = !0),
                            this.$callbacks || (this.$callbacks = {}),
                            this.$callbacks[e] || (this.$callbacks[e] = []),
                            this.$callbacks[e].push(t),
                            n && void 0 !== this[e] && t(this[e], void 0),
                            function() {
                                return f(i.$callbacks[e], i.$callbacks[e].indexOf(t))
                            }
                        }
                        ,
                        t.prototype.decode = function(n, i, r) {
                            void 0 === i && (i = {
                                offset: 0
                            }),
                            void 0 === r && (r = this);
                            var o, a = [], c = this.$changes.root, l = n.length, u = 0;
                            for (c.refs.set(u, this); i.offset < l; ) {
                                var f = n[i.offset++];
                                if (f != s) {
                                    var d = r.$changes
                                      , $ = void 0 !== r._definition
                                      , m = $ ? f >> 6 << 6 : f;
                                    if (m !== e.OPERATION.CLEAR) {
                                        var _ = $ ? f % (m || 255) : ei(n, i)
                                          , v = $ ? r._definition.fieldsByIndex[_] : ""
                                          , y = d.getType(_)
                                          , b = void 0
                                          , x = void 0
                                          , w = void 0;
                                        if ($ ? x = r["_".concat(v)] : (x = r.getByIndex(_),
                                        (m & e.OPERATION.ADD) === e.OPERATION.ADD ? (w = r instanceof p ? en(n, i) : _,
                                        r.setIndex(_, w)) : w = r.getIndex(_)),
                                        (m & e.OPERATION.DELETE) === e.OPERATION.DELETE && (m !== e.OPERATION.DELETE_AND_ADD && r.deleteByIndex(_),
                                        x && x.$changes && c.removeRef(x.$changes.refId),
                                        b = null),
                                        void 0 !== v) {
                                            if (m === e.OPERATION.DELETE)
                                                ;
                                            else if (t.is(y)) {
                                                var E = ei(n, i);
                                                if (b = c.refs.get(E),
                                                m !== e.OPERATION.REPLACE) {
                                                    var I = this.getSchemaType(n, i, y);
                                                    b || ((b = this.createTypeInstance(I)).$changes.refId = E,
                                                    x && (b.$callbacks = x.$callbacks,
                                                    x.$changes.refId && E !== x.$changes.refId && c.removeRef(x.$changes.refId))),
                                                    c.addRef(E, b, b !== x)
                                                }
                                            } else if ("string" == typeof y)
                                                b = eh(y, n, i);
                                            else {
                                                var k, A = g[k = Object.keys(y)[0]], O = ei(n, i), T = c.refs.has(O) ? x || c.refs.get(O) : new A.constructor;
                                                if ((b = T.clone(!0)).$changes.refId = O,
                                                x && (b.$callbacks = x.$callbacks,
                                                x.$changes.refId && O !== x.$changes.refId)) {
                                                    c.removeRef(x.$changes.refId);
                                                    for (var C = x.entries(), R = void 0; (R = C.next()) && !R.done; ) {
                                                        var P = (o = R.value)[0]
                                                          , S = o[1];
                                                        a.push({
                                                            refId: O,
                                                            op: e.OPERATION.DELETE,
                                                            field: P,
                                                            value: void 0,
                                                            previousValue: S
                                                        })
                                                    }
                                                }
                                                c.addRef(O, b, T !== x)
                                            }
                                            if (null != b) {
                                                if (b.$changes && b.$changes.setParent(d.ref, d.root, _),
                                                r instanceof t)
                                                    r[v] = b;
                                                else if (r instanceof p)
                                                    P = w,
                                                    r.$items.set(P, b),
                                                    r.$changes.allChanges.add(_);
                                                else if (r instanceof h)
                                                    r.setAt(_, b);
                                                else if (r instanceof es) {
                                                    var D = r.add(b);
                                                    r.setIndex(_, D)
                                                } else
                                                    r instanceof ea && !1 !== (D = r.add(b)) && r.setIndex(_, D)
                                            }
                                            x !== b && a.push({
                                                refId: u,
                                                op: m,
                                                field: v,
                                                dynamicIndex: w,
                                                value: b,
                                                previousValue: x
                                            })
                                        } else {
                                            console.warn("@colyseus/schema: definition mismatch");
                                            for (var N = {
                                                offset: i.offset
                                            }; i.offset < l && (!er(n, i) || (N.offset = i.offset + 1,
                                            !c.refs.has(ei(n, N)))); )
                                                i.offset++
                                        }
                                    } else
                                        r.clear(a)
                                } else {
                                    u = ei(n, i);
                                    var M = c.refs.get(u);
                                    if (!M)
                                        throw Error('"refId" not found: '.concat(u));
                                    r = M
                                }
                            }
                            return this._triggerChanges(a),
                            c.garbageCollectDeletedRefs(),
                            a
                        }
                        ,
                        t.prototype.encode = function(n, i, r) {
                            void 0 === n && (n = !1),
                            void 0 === i && (i = []),
                            void 0 === r && (r = !1);
                            for (var o = this.$changes, a = new WeakSet, c = [o], l = 1, u = 0; u < l; u++) {
                                var f = c[u]
                                  , d = f.ref
                                  , h = d instanceof t;
                                f.ensureRefId(),
                                a.add(f),
                                f !== o && (f.changed || n) && (E(i, s),
                                U(i, f.refId));
                                for (var $ = n ? Array.from(f.allChanges) : Array.from(f.changes.values()), m = 0, _ = $.length; m < _; m++) {
                                    var v = n ? {
                                        op: e.OPERATION.ADD,
                                        index: $[m]
                                    } : $[m]
                                      , y = v.index
                                      , b = h ? d._definition.fieldsByIndex && d._definition.fieldsByIndex[y] : y
                                      , x = i.length;
                                    if (v.op !== e.OPERATION.TOUCH) {
                                        if (h)
                                            E(i, y | v.op);
                                        else {
                                            if (E(i, v.op),
                                            v.op === e.OPERATION.CLEAR)
                                                continue;
                                            U(i, y)
                                        }
                                    }
                                    if (h || (v.op & e.OPERATION.ADD) != e.OPERATION.ADD || d instanceof p && q(i, f.ref.$indexes.get(y)),
                                    v.op !== e.OPERATION.DELETE) {
                                        var w = f.getType(y)
                                          , I = f.getValue(y);
                                        if (I && I.$changes && !a.has(I.$changes) && (c.push(I.$changes),
                                        I.$changes.ensureRefId(),
                                        l++),
                                        v.op !== e.OPERATION.TOUCH) {
                                            if (t.is(w))
                                                ef(I, w, d, b),
                                                U(i, I.$changes.refId),
                                                (v.op & e.OPERATION.ADD) === e.OPERATION.ADD && this.tryEncodeTypeId(i, w, I.constructor);
                                            else if ("string" == typeof w)
                                                ed(w, i, I, d, b);
                                            else {
                                                var k, A = g[k = Object.keys(w)[0]];
                                                ef(d["_".concat(b)], A.constructor, d, b),
                                                U(i, I.$changes.refId)
                                            }
                                            r && f.cache(y, i.slice(x))
                                        }
                                    }
                                }
                                n || r || f.discard()
                            }
                            return i
                        }
                        ,
                        t.prototype.encodeAll = function(e) {
                            return this.encode(!0, [], e)
                        }
                        ,
                        t.prototype.applyFilters = function(n, i) {
                            var r, o;
                            void 0 === i && (i = !1);
                            for (var a = this, c = new Set, l = ec.get(n), u = [this.$changes], f = 1, d = [], h = function(h) {
                                var g = u[h];
                                if (c.has(g.refId))
                                    return "continue";
                                var $ = g.ref
                                  , m = $ instanceof t;
                                E(d, s),
                                U(d, g.refId);
                                var _ = l.refIds.has(g)
                                  , v = i || !_;
                                l.addRefId(g);
                                var y = l.containerIndexes.get(g)
                                  , b = v ? Array.from(g.allChanges) : Array.from(g.changes.values());
                                !i && m && $._definition.indexesWithFilters && $._definition.indexesWithFilters.forEach(function(t) {
                                    !y.has(t) && g.allChanges.has(t) && (v ? b.push(t) : b.push({
                                        op: e.OPERATION.ADD,
                                        index: t
                                    }))
                                });
                                for (var x = 0, w = b.length; x < w; x++) {
                                    var I = v ? {
                                        op: e.OPERATION.ADD,
                                        index: b[x]
                                    } : b[x];
                                    if (I.op !== e.OPERATION.CLEAR) {
                                        var k = I.index;
                                        if (I.op !== e.OPERATION.DELETE) {
                                            var A = g.getValue(k)
                                              , O = g.getType(k);
                                            if (m) {
                                                if ((T = $._definition.filters && $._definition.filters[k]) && !T.call($, n, A, a)) {
                                                    A && A.$changes && c.add(A.$changes.refId);
                                                    continue
                                                }
                                            } else {
                                                var T, C = g.parent;
                                                if ((T = g.getChildrenFilter()) && !T.call(C, n, $.$indexes.get(k), A, a)) {
                                                    A && A.$changes && c.add(A.$changes.refId);
                                                    continue
                                                }
                                            }
                                            if (A.$changes && (u.push(A.$changes),
                                            f++),
                                            I.op !== e.OPERATION.TOUCH) {
                                                if (I.op === e.OPERATION.ADD || m)
                                                    d.push.apply(d, null !== (r = g.caches[k]) && void 0 !== r ? r : []),
                                                    y.add(k);
                                                else if (y.has(k))
                                                    d.push.apply(d, null !== (o = g.caches[k]) && void 0 !== o ? o : []);
                                                else {
                                                    if (y.add(k),
                                                    E(d, e.OPERATION.ADD),
                                                    U(d, k),
                                                    $ instanceof p) {
                                                        var R = g.ref.$indexes.get(k);
                                                        q(d, R)
                                                    }
                                                    A.$changes ? U(d, A.$changes.refId) : B[O](d, A)
                                                }
                                            } else
                                                A.$changes && !m && (E(d, e.OPERATION.ADD),
                                                U(d, k),
                                                $ instanceof p && q(d, R = g.ref.$indexes.get(k)),
                                                U(d, A.$changes.refId))
                                        } else
                                            m ? E(d, I.op | k) : (E(d, I.op),
                                            U(d, k))
                                    } else
                                        E(d, I.op)
                                }
                            }, g = 0; g < f; g++)
                                h(g);
                            return d
                        }
                        ,
                        t.prototype.clone = function() {
                            var e, t = new this.constructor, n = this._definition.schema;
                            for (var i in n)
                                "object" == typeof this[i] && "function" == typeof (null === (e = this[i]) || void 0 === e ? void 0 : e.clone) ? t[i] = this[i].clone() : t[i] = this[i];
                            return t
                        }
                        ,
                        t.prototype.toJSON = function() {
                            var e = this._definition.schema
                              , t = this._definition.deprecated
                              , n = {};
                            for (var i in e)
                                t[i] || null === this[i] || void 0 === this[i] || (n[i] = "function" == typeof this[i].toJSON ? this[i].toJSON() : this["_".concat(i)]);
                            return n
                        }
                        ,
                        t.prototype.discardAllChanges = function() {
                            this.$changes.discardAll()
                        }
                        ,
                        t.prototype.getByIndex = function(e) {
                            return this[this._definition.fieldsByIndex[e]]
                        }
                        ,
                        t.prototype.deleteByIndex = function(e) {
                            this[this._definition.fieldsByIndex[e]] = void 0
                        }
                        ,
                        t.prototype.tryEncodeTypeId = function(e, t, n) {
                            t._typeid !== n._typeid && (E(e, a),
                            U(e, n._typeid))
                        }
                        ,
                        t.prototype.getSchemaType = function(e, t, n) {
                            var i;
                            return e[t.offset] === a && (t.offset++,
                            i = this.constructor._context.get(ei(e, t))),
                            i || n
                        }
                        ,
                        t.prototype.createTypeInstance = function(e) {
                            var t = new e;
                            return t.$changes.root = this.$changes.root,
                            t
                        }
                        ,
                        t.prototype._triggerChanges = function(n) {
                            for (var i, r, o, s, a, c, l, u, f, d = new Set, h = this.$changes.root.refs, p = function(p) {
                                var g = n[p]
                                  , $ = g.refId
                                  , m = h.get($)
                                  , _ = m.$callbacks;
                                if ((g.op & e.OPERATION.DELETE) === e.OPERATION.DELETE && g.previousValue instanceof t && (null === (r = null === (i = g.previousValue.$callbacks) || void 0 === i ? void 0 : i[e.OPERATION.DELETE]) || void 0 === r || r.forEach(function(e) {
                                    return e()
                                })),
                                !_)
                                    return "continue";
                                if (m instanceof t) {
                                    if (!d.has($))
                                        try {
                                            null === (o = null == _ ? void 0 : _[e.OPERATION.REPLACE]) || void 0 === o || o.forEach(function(e) {
                                                return e(n)
                                            })
                                        } catch (v) {
                                            t.onError(v)
                                        }
                                    try {
                                        _.hasOwnProperty(g.field) && (null === (s = _[g.field]) || void 0 === s || s.forEach(function(e) {
                                            return e(g.value, g.previousValue)
                                        }))
                                    } catch (y) {
                                        t.onError(y)
                                    }
                                } else
                                    g.op === e.OPERATION.ADD && void 0 === g.previousValue ? null === (a = _[e.OPERATION.ADD]) || void 0 === a || a.forEach(function(e) {
                                        var t;
                                        return e(g.value, null !== (t = g.dynamicIndex) && void 0 !== t ? t : g.field)
                                    }) : g.op === e.OPERATION.DELETE ? void 0 !== g.previousValue && (null === (c = _[e.OPERATION.DELETE]) || void 0 === c || c.forEach(function(e) {
                                        var t;
                                        return e(g.previousValue, null !== (t = g.dynamicIndex) && void 0 !== t ? t : g.field)
                                    })) : g.op === e.OPERATION.DELETE_AND_ADD && (void 0 !== g.previousValue && (null === (l = _[e.OPERATION.DELETE]) || void 0 === l || l.forEach(function(e) {
                                        var t;
                                        return e(g.previousValue, null !== (t = g.dynamicIndex) && void 0 !== t ? t : g.field)
                                    })),
                                    null === (u = _[e.OPERATION.ADD]) || void 0 === u || u.forEach(function(e) {
                                        var t;
                                        return e(g.value, null !== (t = g.dynamicIndex) && void 0 !== t ? t : g.field)
                                    })),
                                    g.value !== g.previousValue && (null === (f = _[e.OPERATION.REPLACE]) || void 0 === f || f.forEach(function(e) {
                                        var t;
                                        return e(g.value, null !== (t = g.dynamicIndex) && void 0 !== t ? t : g.field)
                                    }));
                                d.add($)
                            }, g = 0; g < n.length; g++)
                                p(g)
                        }
                        ,
                        t._definition = _.create(),
                        t
                    }(), e_ = {
                        context: new v
                    }, ev = function(e) {
                        function t() {
                            return null !== e && e.apply(this, arguments) || this
                        }
                        return n(t, e),
                        i([b("string", e_)], t.prototype, "name", void 0),
                        i([b("string", e_)], t.prototype, "type", void 0),
                        i([b("number", e_)], t.prototype, "referencedType", void 0),
                        t
                    }(em), ey = function(e) {
                        function t() {
                            var t = null !== e && e.apply(this, arguments) || this;
                            return t.fields = new h,
                            t
                        }
                        return n(t, e),
                        i([b("number", e_)], t.prototype, "id", void 0),
                        i([b([ev], e_)], t.prototype, "fields", void 0),
                        t
                    }(em), e0 = function(e) {
                        function t() {
                            var t = null !== e && e.apply(this, arguments) || this;
                            return t.types = new h,
                            t
                        }
                        return n(t, e),
                        t.encode = function(e) {
                            var n = e.constructor
                              , i = new t;
                            i.rootType = n._typeid;
                            var r = function(e, t) {
                                for (var n in t) {
                                    var r = new ev;
                                    r.name = n;
                                    var o = void 0;
                                    if ("string" == typeof t[n])
                                        o = t[n];
                                    else {
                                        var s = t[n]
                                          , a = void 0;
                                        em.is(s) ? (o = "ref",
                                        a = t[n]) : "string" == typeof s[o = Object.keys(s)[0]] ? o += ":" + s[o] : a = s[o],
                                        r.referencedType = a ? a._typeid : -1
                                    }
                                    r.type = o,
                                    e.fields.push(r)
                                }
                                i.types.push(e)
                            }
                              , o = n._context.types;
                            for (var s in o) {
                                var a = new ey;
                                a.id = Number(s),
                                r(a, o[s]._definition.schema)
                            }
                            return i.encodeAll()
                        }
                        ,
                        t.decode = function(e, i) {
                            var r = new v
                              , o = new t;
                            o.decode(e, i);
                            var s = o.types.reduce(function(e, t) {
                                var i = function(e) {
                                    function t() {
                                        return null !== e && e.apply(this, arguments) || this
                                    }
                                    return n(t, e),
                                    t
                                }(em)
                                  , o = t.id;
                                return e[o] = i,
                                r.add(i, o),
                                e
                            }, {});
                            o.types.forEach(function(e) {
                                var t = s[e.id];
                                e.fields.forEach(function(e) {
                                    var n;
                                    if (void 0 !== e.referencedType) {
                                        var i = e.type
                                          , o = s[e.referencedType];
                                        if (!o) {
                                            var a = e.type.split(":");
                                            i = a[0],
                                            o = a[1]
                                        }
                                        "ref" === i ? b(o, {
                                            context: r
                                        })(t.prototype, e.name) : b(((n = {})[i] = o,
                                        n), {
                                            context: r
                                        })(t.prototype, e.name)
                                    } else
                                        b(e.type, {
                                            context: r
                                        })(t.prototype, e.name)
                                })
                            });
                            var a = s[o.rootType]
                              , c = new a;
                            for (var l in a._definition.schema) {
                                var u, f = a._definition.schema[l];
                                "string" != typeof f && (c[l] = "function" == typeof f ? new f : new g[u = Object.keys(f)[0]].constructor)
                            }
                            return c
                        }
                        ,
                        i([b([ey], e_)], t.prototype, "types", void 0),
                        i([b("number", e_)], t.prototype, "rootType", void 0),
                        t
                    }(em);
                    ep = {
                        constructor: p
                    },
                    g.map = ep,
                    eg = {
                        constructor: h
                    },
                    g.array = eg,
                    e$ = {
                        constructor: ea
                    },
                    g.set = e$,
                    e9 = {
                        constructor: es
                    },
                    g.collection = e9,
                    e.ArraySchema = h,
                    e.CollectionSchema = es,
                    e.Context = v,
                    e.MapSchema = p,
                    e.Reflection = e0,
                    e.ReflectionField = ev,
                    e.ReflectionType = ey,
                    e.Schema = em,
                    e.SchemaDefinition = _,
                    e.SetSchema = ea,
                    e.decode = eo,
                    e.defineTypes = function e(t, n, i) {
                        for (var r in void 0 === i && (i = {}),
                        i.context || (i.context = t._context || i.context || y),
                        n)
                            b(n[r], i)(t.prototype, r);
                        return t
                    }
                    ,
                    e.deprecated = function e(t) {
                        return void 0 === t && (t = !0),
                        function(e, n) {
                            var i = e.constructor._definition;
                            i.deprecated[n] = !0,
                            t && (i.descriptors[n] = {
                                get: function() {
                                    throw Error("".concat(n, " is deprecated."))
                                },
                                set: function(e) {},
                                enumerable: !1,
                                configurable: !0
                            })
                        }
                    }
                    ,
                    e.dumpChanges = function e(t) {
                        for (var n = [t.$changes], i = {}, r = i, o = 0; o < 1; o++)
                            !function(e) {
                                var t = n[e];
                                t.changes.forEach(function(e) {
                                    var n = t.ref
                                      , i = e.index;
                                    r[n._definition ? n._definition.fieldsByIndex[i] : n.$indexes.get(i)] = t.getValue(i)
                                })
                            }(o);
                        return i
                    }
                    ,
                    e.encode = B,
                    e.filter = function e(t) {
                        return function(e, n) {
                            var i = e.constructor;
                            i._definition.addFilter(n, t) && (i._context.useFilters = !0)
                        }
                    }
                    ,
                    e.filterChildren = function e(t) {
                        return function(e, n) {
                            var i = e.constructor;
                            i._definition.addChildrenFilter(n, t) && (i._context.useFilters = !0)
                        }
                    }
                    ,
                    e.hasFilter = function e(t) {
                        return t._context && t._context.useFilters
                    }
                    ,
                    e.registerType = $,
                    e.type = b,
                    Object.defineProperty(e, "__esModule", {
                        value: !0
                    })
                }
                )(t)
            }
            )(P, P.exports),
            P.exports)
              , A = function() {
                function t(e, t) {
                    var n = this;
                    this.onStateChange = I(),
                    this.onError = I(),
                    this.onLeave = I(),
                    this.onJoin = I(),
                    this.hasJoined = !1,
                    this.onMessageHandlers = w(),
                    this.roomId = null,
                    this.name = e,
                    t && (this.serializer = new (x("schema")),
                    this.rootSchema = t,
                    this.serializer.state = new t),
                    this.onError(function(e, t) {
                        var n;
                        return null === (n = console.warn) || void 0 === n ? void 0 : n.call(console, "colyseus.js - onError => (".concat(e, ") ").concat(t))
                    }),
                    this.onLeave(function() {
                        return n.removeAllListeners()
                    })
                }
                return Object.defineProperty(t.prototype, "id", {
                    get: function() {
                        return this.roomId
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.connect = function(e, n, r) {
                    void 0 === r && (r = this);
                    var o = new m;
                    r.connection = o,
                    o.events.onmessage = t.prototype.onMessageCallback.bind(r),
                    o.events.onclose = function(e) {
                        var t;
                        if (!r.hasJoined)
                            return null === (t = console.warn) || void 0 === t || t.call(console, "Room connection was closed unexpectedly (".concat(e.code, "): ").concat(e.reason)),
                            void r.onError.invoke(e.code, e.reason);
                        e.code === i.DEVMODE_RESTART && n ? n() : (r.onLeave.invoke(e.code),
                        r.destroy())
                    }
                    ,
                    o.events.onerror = function(e) {
                        var t;
                        null === (t = console.warn) || void 0 === t || t.call(console, "Room, onError (".concat(e.code, "): ").concat(e.reason)),
                        r.onError.invoke(e.code, e.reason)
                    }
                    ,
                    o.connect(e)
                }
                ,
                t.prototype.leave = function(t) {
                    var n = this;
                    return void 0 === t && (t = !0),
                    new Promise(function(r) {
                        n.onLeave(function(e) {
                            return r(e)
                        }),
                        n.connection ? t ? n.connection.send([e.Protocol.LEAVE_ROOM]) : n.connection.close() : n.onLeave.invoke(i.CONSENTED)
                    }
                    )
                }
                ,
                t.prototype.onMessage = function(e, t) {
                    return this.onMessageHandlers.on(this.getMessageHandlerKey(e), t)
                }
                ,
                t.prototype.send = function(t, n) {
                    var i, r = [e.Protocol.ROOM_DATA];
                    if ("string" == typeof t ? k.encode.string(r, t) : k.encode.number(r, t),
                    void 0 !== n) {
                        var o = function e(t) {
                            var n = []
                              , i = []
                              , r = function e(t, n, i) {
                                var r = typeof i
                                  , o = 0
                                  , s = 0
                                  , a = 0
                                  , c = 0
                                  , l = 0
                                  , u = 0;
                                if ("string" === r) {
                                    if ((l = function e(t) {
                                        for (var n = 0, i = 0, r = 0, o = t.length; r < o; r++)
                                            (n = t.charCodeAt(r)) < 128 ? i += 1 : n < 2048 ? i += 2 : n < 55296 || n >= 57344 ? i += 3 : (r++,
                                            i += 4);
                                        return i
                                    }(i)) < 32)
                                        t.push(160 | l),
                                        u = 1;
                                    else if (l < 256)
                                        t.push(217, l),
                                        u = 2;
                                    else if (l < 65536)
                                        t.push(218, l >> 8, l),
                                        u = 3;
                                    else {
                                        if (!(l < 4294967296))
                                            throw Error("String too long");
                                        t.push(219, l >> 24, l >> 16, l >> 8, l),
                                        u = 5
                                    }
                                    return n.push({
                                        _str: i,
                                        _length: l,
                                        _offset: t.length
                                    }),
                                    u + l
                                }
                                if ("number" === r)
                                    return Math.floor(i) === i && isFinite(i) ? i >= 0 ? i < 128 ? (t.push(i),
                                    1) : i < 256 ? (t.push(204, i),
                                    2) : i < 65536 ? (t.push(205, i >> 8, i),
                                    3) : i < 4294967296 ? (t.push(206, i >> 24, i >> 16, i >> 8, i),
                                    5) : (a = i / 4294967296 >> 0,
                                    c = i >>> 0,
                                    t.push(207, a >> 24, a >> 16, a >> 8, a, c >> 24, c >> 16, c >> 8, c),
                                    9) : i >= -32 ? (t.push(i),
                                    1) : i >= -128 ? (t.push(208, i),
                                    2) : i >= -32768 ? (t.push(209, i >> 8, i),
                                    3) : i >= -2147483648 ? (t.push(210, i >> 24, i >> 16, i >> 8, i),
                                    5) : (a = Math.floor(i / 4294967296),
                                    c = i >>> 0,
                                    t.push(211, a >> 24, a >> 16, a >> 8, a, c >> 24, c >> 16, c >> 8, c),
                                    9) : (t.push(203),
                                    n.push({
                                        _float: i,
                                        _length: 8,
                                        _offset: t.length
                                    }),
                                    9);
                                if ("object" === r) {
                                    if (null === i)
                                        return t.push(192),
                                        1;
                                    if (Array.isArray(i)) {
                                        if ((l = i.length) < 16)
                                            t.push(144 | l),
                                            u = 1;
                                        else if (l < 65536)
                                            t.push(220, l >> 8, l),
                                            u = 3;
                                        else {
                                            if (!(l < 4294967296))
                                                throw Error("Array too large");
                                            t.push(221, l >> 24, l >> 16, l >> 8, l),
                                            u = 5
                                        }
                                        for (o = 0; o < l; o++)
                                            u += e(t, n, i[o]);
                                        return u
                                    }
                                    if (i instanceof Date) {
                                        var f = i.getTime()
                                          , d = Math.floor(f / 1e3)
                                          , h = 1e6 * (f - 1e3 * d);
                                        return d >= 0 && h >= 0 && d <= 17179869183 ? 0 === h && d <= 4294967295 ? (t.push(214, 255, d >> 24, d >> 16, d >> 8, d),
                                        6) : (a = d / 4294967296,
                                        c = 4294967295 & d,
                                        t.push(215, 255, h >> 22, h >> 14, h >> 6, a, c >> 24, c >> 16, c >> 8, c),
                                        10) : (a = Math.floor(d / 4294967296),
                                        c = d >>> 0,
                                        t.push(199, 12, 255, h >> 24, h >> 16, h >> 8, h, a >> 24, a >> 16, a >> 8, a, c >> 24, c >> 16, c >> 8, c),
                                        15)
                                    }
                                    if (i instanceof ArrayBuffer) {
                                        if ((l = i.byteLength) < 256)
                                            t.push(196, l),
                                            u = 2;
                                        else if (l < 65536)
                                            t.push(197, l >> 8, l),
                                            u = 3;
                                        else {
                                            if (!(l < 4294967296))
                                                throw Error("Buffer too large");
                                            t.push(198, l >> 24, l >> 16, l >> 8, l),
                                            u = 5
                                        }
                                        return n.push({
                                            _bin: i,
                                            _length: l,
                                            _offset: t.length
                                        }),
                                        u + l
                                    }
                                    if ("function" == typeof i.toJSON)
                                        return e(t, n, i.toJSON());
                                    var p = []
                                      , g = ""
                                      , $ = Object.keys(i);
                                    for (o = 0,
                                    s = $.length; o < s; o++)
                                        void 0 !== i[g = $[o]] && "function" != typeof i[g] && p.push(g);
                                    if ((l = p.length) < 16)
                                        t.push(128 | l),
                                        u = 1;
                                    else if (l < 65536)
                                        t.push(222, l >> 8, l),
                                        u = 3;
                                    else {
                                        if (!(l < 4294967296))
                                            throw Error("Object too large");
                                        t.push(223, l >> 24, l >> 16, l >> 8, l),
                                        u = 5
                                    }
                                    for (o = 0; o < l; o++)
                                        u += e(t, n, g = p[o]),
                                        u += e(t, n, i[g]);
                                    return u
                                }
                                if ("boolean" === r)
                                    return t.push(i ? 195 : 194),
                                    1;
                                if ("undefined" === r)
                                    return t.push(192),
                                    1;
                                if ("function" == typeof i.toJSON)
                                    return e(t, n, i.toJSON());
                                throw Error("Could not encode")
                            }(n, i, t)
                              , o = new ArrayBuffer(r)
                              , s = new DataView(o)
                              , a = 0
                              , c = 0
                              , l = -1;
                            i.length > 0 && (l = i[0]._offset);
                            for (var u, d = 0, h = 0, p = 0, g = n.length; p < g; p++)
                                if (s.setUint8(c + p, n[p]),
                                p + 1 === l) {
                                    if (d = (u = i[a])._length,
                                    h = c + l,
                                    u._bin)
                                        for (var $ = new Uint8Array(u._bin), m = 0; m < d; m++)
                                            s.setUint8(h + m, $[m]);
                                    else
                                        u._str ? f(s, h, u._str) : void 0 !== u._float && s.setFloat64(h, u._float);
                                    c += d,
                                    i[++a] && (l = i[a]._offset)
                                }
                            return o
                        }(n);
                        (i = new Uint8Array(r.length + o.byteLength)).set(new Uint8Array(r), 0),
                        i.set(new Uint8Array(o), r.length)
                    } else
                        i = new Uint8Array(r);
                    this.connection.send(i.buffer)
                }
                ,
                t.prototype.sendBytes = function(t, n) {
                    var i, r = [e.Protocol.ROOM_DATA_BYTES];
                    "string" == typeof t ? k.encode.string(r, t) : k.encode.number(r, t),
                    (i = new Uint8Array(r.length + (n.byteLength || n.length))).set(new Uint8Array(r), 0),
                    i.set(new Uint8Array(n), r.length),
                    this.connection.send(i.buffer)
                }
                ,
                Object.defineProperty(t.prototype, "state", {
                    get: function() {
                        return this.serializer.getState()
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.removeAllListeners = function() {
                    this.onJoin.clear(),
                    this.onStateChange.clear(),
                    this.onError.clear(),
                    this.onLeave.clear(),
                    this.onMessageHandlers.events = {}
                }
                ,
                t.prototype.onMessageCallback = function(t) {
                    var n = Array.from(new Uint8Array(t.data))
                      , i = n[0];
                    if (i === e.Protocol.JOIN_ROOM) {
                        var r = 1
                          , o = _(n, r);
                        if (r += v(o),
                        this.serializerId = _(n, r),
                        r += v(this.serializerId),
                        !this.serializer) {
                            var s = x(this.serializerId);
                            this.serializer = new s
                        }
                        n.length > r && this.serializer.handshake && this.serializer.handshake(n, {
                            offset: r
                        }),
                        this.reconnectionToken = "".concat(this.roomId, ":").concat(o),
                        this.hasJoined = !0,
                        this.onJoin.invoke(),
                        this.connection.send([e.Protocol.JOIN_ROOM])
                    } else if (i === e.Protocol.ERROR) {
                        var a = {
                            offset: 1
                        }
                          , c = k.decode.number(n, a)
                          , l = k.decode.string(n, a);
                        this.onError.invoke(c, l)
                    } else if (i === e.Protocol.LEAVE_ROOM)
                        this.leave();
                    else if (i === e.Protocol.ROOM_DATA_SCHEMA) {
                        var f = {
                            offset: 1
                        };
                        (l = new (h = this.serializer.getState().constructor._context.get(k.decode.number(n, f)))).decode(n, f),
                        this.dispatchMessage(h, l)
                    } else if (i === e.Protocol.ROOM_STATE)
                        n.shift(),
                        this.setState(n);
                    else if (i === e.Protocol.ROOM_STATE_PATCH)
                        n.shift(),
                        this.patch(n);
                    else if (i === e.Protocol.ROOM_DATA) {
                        var d = {
                            offset: 1
                        }
                          , h = k.decode.stringCheck(n, d) ? k.decode.string(n, d) : k.decode.number(n, d);
                        l = n.length > d.offset ? function e(t, n) {
                            void 0 === n && (n = 0);
                            var i = new u(t,n)
                              , r = i._parse();
                            if (i._offset !== t.byteLength)
                                throw Error(t.byteLength - i._offset + " trailing bytes");
                            return r
                        }(t.data, d.offset) : void 0,
                        this.dispatchMessage(h, l)
                    } else if (i === e.Protocol.ROOM_DATA_BYTES) {
                        var p = {
                            offset: 1
                        };
                        h = k.decode.stringCheck(n, p) ? k.decode.string(n, p) : k.decode.number(n, p),
                        this.dispatchMessage(h, new Uint8Array(n.slice(p.offset)))
                    }
                }
                ,
                t.prototype.setState = function(e) {
                    this.serializer.setState(e),
                    this.onStateChange.invoke(this.serializer.getState())
                }
                ,
                t.prototype.patch = function(e) {
                    this.serializer.patch(e),
                    this.onStateChange.invoke(this.serializer.getState())
                }
                ,
                t.prototype.dispatchMessage = function(e, t) {
                    var n, i = this.getMessageHandlerKey(e);
                    this.onMessageHandlers.events[i] ? this.onMessageHandlers.emit(i, t) : this.onMessageHandlers.events["*"] ? this.onMessageHandlers.emit("*", e, t) : null === (n = console.warn) || void 0 === n || n.call(console, "colyseus.js: onMessage() not registered for type '".concat(e, "'."))
                }
                ,
                t.prototype.destroy = function() {
                    this.serializer && this.serializer.teardown()
                }
                ,
                t.prototype.getMessageHandlerKey = function(e) {
                    switch (typeof e) {
                    case "function":
                        return "$".concat(e._typeid);
                    case "string":
                        return e;
                    case "number":
                        return "i".concat(e);
                    default:
                        throw Error("invalid message type.")
                    }
                }
                ,
                t
            }();
            function O(e, t) {
                t.statusMessage = e.statusText,
                t.statusCode = e.status,
                t.data = e.body
            }
            function T(e, t, n) {
                var i, r, o = (n = n || {}).body;
                return n.method = e,
                n.headers = n.headers || {},
                o instanceof FormData || o && "object" == typeof o && (n.headers["content-type"] = "application/json",
                n.body = JSON.stringify(o)),
                n.withCredentials && (n.credentials = "include"),
                n.timeout && (r = new AbortController,
                n.signal = r.signal,
                i = setTimeout(r.abort, n.timeout)),
                new Promise( (e, s) => {
                    fetch(t, n).then( (t, r) => {
                        clearTimeout(i),
                        O(t, t),
                        r = t.status >= 400 ? s : e,
                        (o = t.headers.get("content-type")) && ~o.indexOf("application/json") ? t.text().then(e => {
                            try {
                                t.data = JSON.parse(e, n.reviver),
                                r(t)
                            } catch (i) {
                                i.headers = t.headers,
                                O(t, i),
                                s(i)
                            }
                        }
                        ) : r(t)
                    }
                    ).catch(e => {
                        e.timeout = r && r.signal.aborted,
                        s(e)
                    }
                    )
                }
                )
            }
            var C, R, P, S, D, N, M, L, q, U, B = T.bind(T, "GET"), H = T.bind(T, "POST"), z = T.bind(T, "PATCH"), V = T.bind(T, "DELETE"), F = T.bind(T, "PUT"), j = {
                del: V,
                get: B,
                patch: z,
                post: H,
                put: F,
                send: T
            }, G = (S = {
                __proto__: null,
                default: j,
                del: V,
                get: B,
                patch: z,
                post: H,
                put: F,
                send: T
            },
            (D = [j]).forEach(function(e) {
                e && "string" != typeof e && !Array.isArray(e) && Object.keys(e).forEach(function(t) {
                    if ("default" !== t && !(t in S)) {
                        var n = Object.getOwnPropertyDescriptor(e, t);
                        Object.defineProperty(S, t, n.get ? n : {
                            enumerable: !0,
                            get: function() {
                                return e[t]
                            }
                        })
                    }
                })
            }),
            Object.freeze(S)), W = function() {
                function e(e) {
                    this.client = e
                }
                return e.prototype.get = function(e, t) {
                    return void 0 === t && (t = {}),
                    this.request("get", e, t)
                }
                ,
                e.prototype.post = function(e, t) {
                    return void 0 === t && (t = {}),
                    this.request("post", e, t)
                }
                ,
                e.prototype.del = function(e, t) {
                    return void 0 === t && (t = {}),
                    this.request("del", e, t)
                }
                ,
                e.prototype.put = function(e, t) {
                    return void 0 === t && (t = {}),
                    this.request("put", e, t)
                }
                ,
                e.prototype.request = function(e, t, n) {
                    return void 0 === n && (n = {}),
                    G[e](this.client.getHttpEndpoint(t), this.getOptions(n)).catch(function(e) {
                        var t;
                        throw new l(e.statusCode || -1,(null === (t = e.data) || void 0 === t ? void 0 : t.error) || e.statusMessage || e.message || "offline")
                    })
                }
                ,
                e.prototype.getOptions = function(e) {
                    return this.authToken && (e.headers || (e.headers = {}),
                    e.headers.Authorization = "Bearer ".concat(this.authToken),
                    e.withCredentials = !0),
                    e
                }
                ,
                e
            }();
            function J() {
                return N || (N = "undefined" != typeof cc && cc.sys && cc.sys.localStorage ? cc.sys.localStorage : "undefined" != typeof window && window.localStorage ? window.localStorage : {
                    cache: {},
                    setItem: function(e, t) {
                        this.cache[e] = t
                    },
                    getItem: function(e) {
                        this.cache[e]
                    },
                    removeItem: function(e) {
                        delete this.cache[e]
                    }
                }),
                N
            }
            var K, Q = function() {
                function e(e) {
                    var t, n, i, r = this;
                    this.http = e,
                    this.settings = {
                        path: "/auth",
                        key: "colyseus-auth-token"
                    },
                    M.set(this, !1),
                    L.set(this, void 0),
                    q.set(this, void 0),
                    U.set(this, w()),
                    t = this.settings.key,
                    n = function(e) {
                        return r.token = e
                    }
                    ,
                    i = J().getItem(t),
                    "undefined" != typeof Promise && i instanceof Promise ? i.then(function(e) {
                        return n(e)
                    }) : n(i)
                }
                return Object.defineProperty(e.prototype, "token", {
                    get: function() {
                        return this.http.authToken
                    },
                    set: function(e) {
                        this.http.authToken = e
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype.onChange = function(e) {
                    var t = this
                      , n = a(this, U, "f").on("change", e);
                    return a(this, M, "f") || c(this, L, new Promise(function(e, n) {
                        t.getUserData().then(function(e) {
                            t.emitChange(r(r({}, e), {
                                token: t.token
                            }))
                        }).catch(function(e) {
                            t.emitChange({
                                user: null,
                                token: void 0
                            })
                        }).finally(function() {
                            e()
                        })
                    }
                    ), "f"),
                    c(this, M, !0, "f"),
                    n
                }
                ,
                e.prototype.getUserData = function() {
                    return o(this, void 0, void 0, function() {
                        return s(this, function(e) {
                            switch (e.label) {
                            case 0:
                                return this.token ? [4, this.http.get("".concat(this.settings.path, "/userdata"))] : [3, 2];
                            case 1:
                                return [2, e.sent().data];
                            case 2:
                                throw Error("missing auth.token")
                            }
                        })
                    })
                }
                ,
                e.prototype.registerWithEmailAndPassword = function(e, t, n) {
                    return o(this, void 0, void 0, function() {
                        var i;
                        return s(this, function(r) {
                            switch (r.label) {
                            case 0:
                                return [4, this.http.post("".concat(this.settings.path, "/register"), {
                                    body: {
                                        email: e,
                                        password: t,
                                        options: n
                                    }
                                }), ];
                            case 1:
                                return i = r.sent().data,
                                this.emitChange(i),
                                [2, i]
                            }
                        })
                    })
                }
                ,
                e.prototype.signInWithEmailAndPassword = function(e, t) {
                    return o(this, void 0, void 0, function() {
                        var n;
                        return s(this, function(i) {
                            switch (i.label) {
                            case 0:
                                return [4, this.http.post("".concat(this.settings.path, "/login"), {
                                    body: {
                                        email: e,
                                        password: t
                                    }
                                }), ];
                            case 1:
                                return n = i.sent().data,
                                this.emitChange(n),
                                [2, n]
                            }
                        })
                    })
                }
                ,
                e.prototype.signInAnonymously = function(e) {
                    return o(this, void 0, void 0, function() {
                        var t;
                        return s(this, function(n) {
                            switch (n.label) {
                            case 0:
                                return [4, this.http.post("".concat(this.settings.path, "/anonymous"), {
                                    body: {
                                        options: e
                                    }
                                }), ];
                            case 1:
                                return t = n.sent().data,
                                this.emitChange(t),
                                [2, t]
                            }
                        })
                    })
                }
                ,
                e.prototype.sendPasswordResetEmail = function(e) {
                    return o(this, void 0, void 0, function() {
                        return s(this, function(t) {
                            switch (t.label) {
                            case 0:
                                return [4, this.http.post("".concat(this.settings.path, "/forgot-password"), {
                                    body: {
                                        email: e
                                    }
                                }), ];
                            case 1:
                                return [2, t.sent().data]
                            }
                        })
                    })
                }
                ,
                e.prototype.signInWithProvider = function(e, t) {
                    return void 0 === t && (t = {}),
                    o(this, void 0, void 0, function() {
                        var n = this;
                        return s(this, function(i) {
                            return [2, new Promise(function(i, r) {
                                var o = t.width || 480
                                  , s = t.height || 768
                                  , l = n.token ? "?token=".concat(n.token) : ""
                                  , u = "Login with ".concat(e[0].toUpperCase() + e.substring(1))
                                  , f = n.http.client.getHttpEndpoint("".concat(t.prefix || "".concat(n.settings.path, "/provider"), "/").concat(e).concat(l))
                                  , d = screen.width / 2 - o / 2
                                  , h = screen.height / 2 - s / 2;
                                c(n, q, window.open(f, u, "toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=" + o + ", height=" + s + ", top=" + h + ", left=" + d), "f");
                                var p = function(e) {
                                    void 0 === e.data.user && void 0 === e.data.token || (clearInterval(g),
                                    a(n, q, "f").close(),
                                    c(n, q, void 0, "f"),
                                    window.removeEventListener("message", p),
                                    void 0 !== e.data.error ? r(e.data.error) : (i(e.data),
                                    n.emitChange(e.data)))
                                }
                                  , g = setInterval(function() {
                                    a(n, q, "f") && !a(n, q, "f").closed || (c(n, q, void 0, "f"),
                                    r("cancelled"),
                                    window.removeEventListener("message", p))
                                }, 200);
                                window.addEventListener("message", p)
                            }
                            ), ]
                        })
                    })
                }
                ,
                e.prototype.signOut = function() {
                    return o(this, void 0, void 0, function() {
                        return s(this, function(e) {
                            return this.emitChange({
                                user: null,
                                token: null
                            }),
                            [2]
                        })
                    })
                }
                ,
                e.prototype.emitChange = function(e) {
                    var t, n, i;
                    void 0 !== e.token && (this.token = e.token,
                    null === e.token ? (t = this.settings.key,
                    J().removeItem(t)) : (n = this.settings.key,
                    i = e.token,
                    J().setItem(n, i))),
                    a(this, U, "f").emit("change", e)
                }
                ,
                e
            }();
            M = new WeakMap,
            L = new WeakMap,
            q = new WeakMap,
            U = new WeakMap;
            var Y, X, Z = function(e) {
                function t(n, i) {
                    var r = e.call(this, n) || this;
                    return r.code = i,
                    Object.setPrototypeOf(r, t.prototype),
                    r
                }
                return n(t, e),
                t
            }(Error), ee = "undefined" != typeof window && void 0 !== (null === (K = null == window ? void 0 : window.location) || void 0 === K ? void 0 : K.hostname) ? "".concat(window.location.protocol.replace("http", "ws"), "//").concat(window.location.hostname).concat(window.location.port && ":".concat(window.location.port)) : "ws://127.0.0.1:2567", et = function() {
                function e(e) {
                    if (void 0 === e && (e = ee),
                    "string" == typeof e) {
                        var t = new URL(e)
                          , n = "https:" === t.protocol || "wss:" === t.protocol
                          , i = Number(t.port || (n ? 443 : 80));
                        this.settings = {
                            hostname: t.hostname,
                            pathname: t.pathname,
                            port: i,
                            secure: n
                        }
                    } else
                        void 0 === e.port && (e.port = e.secure ? 443 : 80),
                        void 0 === e.pathname && (e.pathname = ""),
                        this.settings = e;
                    this.settings.pathname.endsWith("/") && (this.settings.pathname = this.settings.pathname.slice(0, -1)),
                    this.http = new W(this),
                    this.auth = new Q(this.http)
                }
                return e.prototype.joinOrCreate = function(e, t, n) {
                    return void 0 === t && (t = {}),
                    o(this, void 0, void 0, function() {
                        return s(this, function(i) {
                            switch (i.label) {
                            case 0:
                                return [4, this.createMatchMakeRequest("joinOrCreate", e, t, n)];
                            case 1:
                                return [2, i.sent()]
                            }
                        })
                    })
                }
                ,
                e.prototype.create = function(e, t, n) {
                    return void 0 === t && (t = {}),
                    o(this, void 0, void 0, function() {
                        return s(this, function(i) {
                            switch (i.label) {
                            case 0:
                                return [4, this.createMatchMakeRequest("create", e, t, n)];
                            case 1:
                                return [2, i.sent()]
                            }
                        })
                    })
                }
                ,
                e.prototype.join = function(e, t, n) {
                    return void 0 === t && (t = {}),
                    o(this, void 0, void 0, function() {
                        return s(this, function(i) {
                            switch (i.label) {
                            case 0:
                                return [4, this.createMatchMakeRequest("join", e, t, n)];
                            case 1:
                                return [2, i.sent()]
                            }
                        })
                    })
                }
                ,
                e.prototype.joinById = function(e, t, n) {
                    return void 0 === t && (t = {}),
                    o(this, void 0, void 0, function() {
                        return s(this, function(i) {
                            switch (i.label) {
                            case 0:
                                return [4, this.createMatchMakeRequest("joinById", e, t, n)];
                            case 1:
                                return [2, i.sent()]
                            }
                        })
                    })
                }
                ,
                e.prototype.reconnect = function(e, t) {
                    return o(this, void 0, void 0, function() {
                        var n, i, r;
                        return s(this, function(o) {
                            switch (o.label) {
                            case 0:
                                if ("string" == typeof e && "string" == typeof t)
                                    throw Error("DEPRECATED: .reconnect() now only accepts 'reconnectionToken' as argument.\nYou can get this token from previously connected `room.reconnectionToken`");
                                if (i = (n = e.split(":"))[0],
                                r = n[1],
                                !i || !r)
                                    throw Error("Invalid reconnection token format.\nThe format should be roomId:reconnectionToken");
                                return [4, this.createMatchMakeRequest("reconnect", i, {
                                    reconnectionToken: r
                                }, t), ];
                            case 1:
                                return [2, o.sent()]
                            }
                        })
                    })
                }
                ,
                e.prototype.getAvailableRooms = function(e) {
                    return void 0 === e && (e = ""),
                    o(this, void 0, void 0, function() {
                        return s(this, function(t) {
                            switch (t.label) {
                            case 0:
                                return [4, this.http.get("matchmake/".concat(e), {
                                    headers: {
                                        Accept: "application/json"
                                    }
                                }), ];
                            case 1:
                                return [2, t.sent().data]
                            }
                        })
                    })
                }
                ,
                e.prototype.consumeSeatReservation = function(e, t, n) {
                    return o(this, void 0, void 0, function() {
                        var i, r, a, c = this;
                        return s(this, function(u) {
                            return (i = this.createRoom(e.room.name, t)).roomId = e.room.roomId,
                            i.sessionId = e.sessionId,
                            r = {
                                sessionId: i.sessionId
                            },
                            e.reconnectionToken && (r.reconnectionToken = e.reconnectionToken),
                            a = n || i,
                            i.connect(this.buildEndpoint(e.room, r), e.devMode && function() {
                                return o(c, void 0, void 0, function() {
                                    var n, r, c, l = this;
                                    return s(this, function(u) {
                                        return console.info("[Colyseus devMode]: ".concat(String.fromCodePoint(128260), " Re-establishing connection with room id '").concat(i.roomId, "'...")),
                                        n = 0,
                                        r = 8,
                                        c = function() {
                                            return o(l, void 0, void 0, function() {
                                                return s(this, function(o) {
                                                    switch (o.label) {
                                                    case 0:
                                                        n++,
                                                        o.label = 1;
                                                    case 1:
                                                        return o.trys.push([1, 3, , 4]),
                                                        [4, this.consumeSeatReservation(e, t, a)];
                                                    case 2:
                                                        return o.sent(),
                                                        console.info("[Colyseus devMode]: ".concat(String.fromCodePoint(9989), " Successfully re-established connection with room '").concat(i.roomId, "'")),
                                                        [3, 4];
                                                    case 3:
                                                        return o.sent(),
                                                        n < r ? (console.info("[Colyseus devMode]: ".concat(String.fromCodePoint(128260), " retrying... (").concat(n, " out of ").concat(r, ")")),
                                                        setTimeout(c, 2e3)) : console.info("[Colyseus devMode]: ".concat(String.fromCodePoint(10060), " Failed to reconnect. Is your server running? Please check server logs.")),
                                                        [3, 4];
                                                    case 4:
                                                        return [2]
                                                    }
                                                })
                                            })
                                        }
                                        ,
                                        setTimeout(c, 2e3),
                                        [2]
                                    })
                                })
                            }
                            , a),
                            [2, new Promise(function(e, t) {
                                var n = function(e, n) {
                                    return t(new l(e,n))
                                };
                                a.onError.once(n),
                                a.onJoin.once(function() {
                                    a.onError.remove(n),
                                    e(a)
                                })
                            }
                            ), ]
                        })
                    })
                }
                ,
                e.prototype.createMatchMakeRequest = function(e, t, n, i, r) {
                    return void 0 === n && (n = {}),
                    o(this, void 0, void 0, function() {
                        var o;
                        return s(this, function(s) {
                            switch (s.label) {
                            case 0:
                                return [4, this.http.post("matchmake/".concat(e, "/").concat(t), {
                                    headers: {
                                        Accept: "application/json",
                                        "Content-Type": "application/json"
                                    },
                                    body: JSON.stringify(n)
                                }), ];
                            case 1:
                                if ((o = s.sent().data).error)
                                    throw new Z(o.error,o.code);
                                return "reconnect" === e && (o.reconnectionToken = n.reconnectionToken),
                                [4, this.consumeSeatReservation(o, i, r)];
                            case 2:
                                return [2, s.sent()]
                            }
                        })
                    })
                }
                ,
                e.prototype.createRoom = function(e, t) {
                    return new A(e,t)
                }
                ,
                e.prototype.buildEndpoint = function(e, t) {
                    void 0 === t && (t = {});
                    var n = [];
                    for (var i in t)
                        t.hasOwnProperty(i) && n.push("".concat(i, "=").concat(t[i]));
                    var r = this.settings.secure ? "wss://" : "ws://";
                    return e.publicAddress ? r += "".concat(e.publicAddress) : r += "".concat(this.settings.hostname).concat(this.getEndpointPort()).concat(this.settings.pathname),
                    "".concat(r, "/").concat(e.processId, "/").concat(e.roomId, "?").concat(n.join("&"))
                }
                ,
                e.prototype.getHttpEndpoint = function(e) {
                    void 0 === e && (e = "");
                    var t = e.startsWith("/") ? e : "/".concat(e);
                    return "".concat(this.settings.secure ? "https" : "http", "://").concat(this.settings.hostname).concat(this.getEndpointPort()).concat(this.settings.pathname).concat(t)
                }
                ,
                e.prototype.getEndpointPort = function() {
                    return 80 !== this.settings.port && 443 !== this.settings.port ? ":".concat(this.settings.port) : ""
                }
                ,
                e
            }(), en = function() {
                function e() {}
                return e.prototype.setState = function(e) {
                    return this.state.decode(e)
                }
                ,
                e.prototype.getState = function() {
                    return this.state
                }
                ,
                e.prototype.patch = function(e) {
                    return this.state.decode(e)
                }
                ,
                e.prototype.teardown = function() {
                    var e, t;
                    null === (t = null === (e = this.state) || void 0 === e ? void 0 : e.$changes) || void 0 === t || t.root.clearRefs()
                }
                ,
                e.prototype.handshake = function(e, t) {
                    this.state ? new k.Reflection().decode(e, t) : this.state = k.Reflection.decode(e, t)
                }
                ,
                e
            }(), ei = function() {
                function e() {}
                return e.prototype.setState = function(e) {}
                ,
                e.prototype.getState = function() {
                    return null
                }
                ,
                e.prototype.patch = function(e) {}
                ,
                e.prototype.teardown = function() {}
                ,
                e.prototype.handshake = function(e) {}
                ,
                e
            }();
            Y = en,
            y.schema = Y,
            X = ei,
            y.none = X,
            e.Auth = Q,
            e.Client = et,
            e.Room = A,
            e.SchemaSerializer = en,
            e.registerSerializer = b,
            Object.defineProperty(e, "__esModule", {
                value: !0
            })
        }(eL.exports);
        var e5, eq, eU = eL.exports, eB = {
            exports: {}
        };
        !function(e) {
            var t = function(e, n) {
                return (t = Object.setPrototypeOf || ({
                    __proto__: []
                })instanceof Array && function(e, t) {
                    e.__proto__ = t
                }
                || function(e, t) {
                    for (var n in t)
                        Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
                }
                )(e, n)
            };
            function n(e, n) {
                if ("function" != typeof n && null !== n)
                    throw TypeError("Class extends value " + String(n) + " is not a constructor or null");
                function i() {
                    this.constructor = e
                }
                t(e, n),
                e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
                new i)
            }
            function i(e, t, n, i) {
                var r, o = arguments.length, s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, n, i);
                else
                    for (var a = e.length - 1; a >= 0; a--)
                        (r = e[a]) && (s = (o < 3 ? r(s) : o > 3 ? r(t, n, s) : r(t, n)) || s);
                return o > 3 && s && Object.defineProperty(t, n, s),
                s
            }
            function r(e, t, n) {
                if (n || 2 === arguments.length)
                    for (var i, r = 0, o = t.length; r < o; r++)
                        !i && r in t || (i || (i = Array.prototype.slice.call(t, 0, r)),
                        i[r] = t[r]);
                return e.concat(i || Array.prototype.slice.call(t))
            }
            "function" == typeof SuppressedError && SuppressedError,
            e.OPERATION = void 0,
            (ef = e.OPERATION || (e.OPERATION = {}))[ef.ADD = 128] = "ADD",
            ef[ef.REPLACE = 0] = "REPLACE",
            ef[ef.DELETE = 64] = "DELETE",
            ef[ef.DELETE_AND_ADD = 192] = "DELETE_AND_ADD",
            ef[ef.TOUCH = 1] = "TOUCH",
            ef[ef.CLEAR = 10] = "CLEAR";
            var o = function() {
                function t(e, t, n) {
                    this.changed = !1,
                    this.changes = new Map,
                    this.allChanges = new Set,
                    this.caches = {},
                    this.currentCustomOperation = 0,
                    this.ref = e,
                    this.setParent(t, n)
                }
                return t.prototype.setParent = function(e, t, n) {
                    var i = this;
                    if (this.indexes || (this.indexes = this.ref instanceof e$ ? this.ref._definition.indexes : {}),
                    this.parent = e,
                    this.parentIndex = n,
                    t) {
                        if (this.root = t,
                        this.ref instanceof e$) {
                            var r = this.ref._definition;
                            for (var o in r.schema) {
                                var s = this.ref[o];
                                if (s && s.$changes) {
                                    var a = r.indexes[o];
                                    s.$changes.setParent(this.ref, t, a)
                                }
                            }
                        } else
                            "object" == typeof this.ref && this.ref.forEach(function(e, t) {
                                if (e instanceof e$) {
                                    var n = e.$changes
                                      , r = i.ref.$changes.indexes[t];
                                    n.setParent(i.ref, i.root, r)
                                }
                            })
                    }
                }
                ,
                t.prototype.operation = function(e) {
                    this.changes.set(--this.currentCustomOperation, e)
                }
                ,
                t.prototype.change = function(t, n) {
                    void 0 === n && (n = e.OPERATION.ADD);
                    var i = "number" == typeof t ? t : this.indexes[t];
                    this.assertValidIndex(i, t);
                    var r = this.changes.get(i);
                    r && r.op !== e.OPERATION.DELETE && r.op !== e.OPERATION.TOUCH || this.changes.set(i, {
                        op: r && r.op === e.OPERATION.DELETE ? e.OPERATION.DELETE_AND_ADD : n,
                        index: i
                    }),
                    this.allChanges.add(i),
                    this.changed = !0,
                    this.touchParents()
                }
                ,
                t.prototype.touch = function(t) {
                    var n = "number" == typeof t ? t : this.indexes[t];
                    this.assertValidIndex(n, t),
                    this.changes.has(n) || this.changes.set(n, {
                        op: e.OPERATION.TOUCH,
                        index: n
                    }),
                    this.allChanges.add(n),
                    this.touchParents()
                }
                ,
                t.prototype.touchParents = function() {
                    this.parent && this.parent.$changes.touch(this.parentIndex)
                }
                ,
                t.prototype.getType = function(e) {
                    var t;
                    return this.ref._definition ? (t = this.ref._definition).schema[t.fieldsByIndex[e]] : (0,
                    Object.values((t = this.parent._definition).schema[t.fieldsByIndex[this.parentIndex]])[0])
                }
                ,
                t.prototype.getChildrenFilter = function() {
                    var e = this.parent._definition.childFilters;
                    return e && e[this.parentIndex]
                }
                ,
                t.prototype.getValue = function(e) {
                    return this.ref.getByIndex(e)
                }
                ,
                t.prototype.delete = function(t) {
                    var n = "number" == typeof t ? t : this.indexes[t];
                    if (void 0 !== n) {
                        var i = this.getValue(n);
                        this.changes.set(n, {
                            op: e.OPERATION.DELETE,
                            index: n
                        }),
                        this.allChanges.delete(n),
                        delete this.caches[n],
                        i && i.$changes && (i.$changes.parent = void 0),
                        this.changed = !0,
                        this.touchParents()
                    } else
                        console.warn("@colyseus/schema ".concat(this.ref.constructor.name, ": trying to delete non-existing index: ").concat(t, " (").concat(n, ")"))
                }
                ,
                t.prototype.discard = function(t, n) {
                    var i = this;
                    void 0 === t && (t = !1),
                    void 0 === n && (n = !1),
                    this.ref instanceof e$ || this.changes.forEach(function(t) {
                        if (t.op === e.OPERATION.DELETE) {
                            var n = i.ref.getIndex(t.index);
                            delete i.indexes[n]
                        }
                    }),
                    this.changes.clear(),
                    this.changed = t,
                    n && this.allChanges.clear(),
                    this.currentCustomOperation = 0
                }
                ,
                t.prototype.discardAll = function() {
                    var e = this;
                    this.changes.forEach(function(t) {
                        var n = e.getValue(t.index);
                        n && n.$changes && n.$changes.discardAll()
                    }),
                    this.discard()
                }
                ,
                t.prototype.cache = function(e, t) {
                    this.caches[e] = t
                }
                ,
                t.prototype.clone = function() {
                    return new t(this.ref,this.parent,this.root)
                }
                ,
                t.prototype.ensureRefId = function() {
                    void 0 === this.refId && (this.refId = this.root.getNextUniqueId())
                }
                ,
                t.prototype.assertValidIndex = function(e, t) {
                    if (void 0 === e)
                        throw Error('ChangeTree: missing index for field "'.concat(t, '"'))
                }
                ,
                t
            }();
            function s(e, t, n, i) {
                return e[t] || (e[t] = []),
                e[t].push(n),
                null == i || i.forEach(function(e, t) {
                    return n(e, t)
                }),
                function() {
                    return c(e[t], e[t].indexOf(n))
                }
            }
            function a(t) {
                var n = this
                  , i = "string" != typeof this.$changes.getType();
                this.$items.forEach(function(r, o) {
                    t.push({
                        refId: n.$changes.refId,
                        op: e.OPERATION.DELETE,
                        field: o,
                        value: void 0,
                        previousValue: r
                    }),
                    i && n.$changes.root.removeRef(r.$changes.refId)
                })
            }
            function c(e, t) {
                if (-1 === t || t >= e.length)
                    return !1;
                for (var n = e.length - 1, i = t; i < n; i++)
                    e[i] = e[i + 1];
                return e.length = n,
                !0
            }
            var l = function(e, t) {
                var n = e.toString()
                  , i = t.toString();
                return n < i ? -1 : n > i ? 1 : 0
            }
              , u = function() {
                function t() {
                    for (var e = [], t = 0; t < arguments.length; t++)
                        e[t] = arguments[t];
                    this.$changes = new o(this),
                    this.$items = new Map,
                    this.$indexes = new Map,
                    this.$refId = 0,
                    this.push.apply(this, e)
                }
                return t.prototype.onAdd = function(t, n) {
                    return void 0 === n && (n = !0),
                    s(this.$callbacks || (this.$callbacks = {}), e.OPERATION.ADD, t, n ? this.$items : void 0)
                }
                ,
                t.prototype.onRemove = function(t) {
                    return s(this.$callbacks || (this.$callbacks = {}), e.OPERATION.DELETE, t)
                }
                ,
                t.prototype.onChange = function(t) {
                    return s(this.$callbacks || (this.$callbacks = {}), e.OPERATION.REPLACE, t)
                }
                ,
                t.is = function(e) {
                    return Array.isArray(e) || void 0 !== e.array
                }
                ,
                Object.defineProperty(t.prototype, "length", {
                    get: function() {
                        return this.$items.size
                    },
                    set: function(e) {
                        0 === e ? this.clear() : this.splice(e, this.length - e)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.push = function() {
                    for (var e, t = this, n = [], i = 0; i < arguments.length; i++)
                        n[i] = arguments[i];
                    return n.forEach(function(n) {
                        e = t.$refId++,
                        t.setAt(e, n)
                    }),
                    e
                }
                ,
                t.prototype.pop = function() {
                    var e = Array.from(this.$indexes.values()).pop();
                    if (void 0 !== e) {
                        this.$changes.delete(e),
                        this.$indexes.delete(e);
                        var t = this.$items.get(e);
                        return this.$items.delete(e),
                        t
                    }
                }
                ,
                t.prototype.at = function(e) {
                    var t = Array.from(this.$items.keys())[e];
                    return this.$items.get(t)
                }
                ,
                t.prototype.setAt = function(t, n) {
                    var i, r;
                    if (null != n) {
                        if (this.$items.get(t) !== n) {
                            void 0 !== n.$changes && n.$changes.setParent(this, this.$changes.root, t);
                            var o = null !== (r = null === (i = this.$changes.indexes[t]) || void 0 === i ? void 0 : i.op) && void 0 !== r ? r : e.OPERATION.ADD;
                            this.$changes.indexes[t] = t,
                            this.$indexes.set(t, t),
                            this.$items.set(t, n),
                            this.$changes.change(t, o)
                        }
                    } else
                        console.error("ArraySchema items cannot be null nor undefined; Use `deleteAt(index)` instead.")
                }
                ,
                t.prototype.deleteAt = function(e) {
                    var t = Array.from(this.$items.keys())[e];
                    return void 0 !== t && this.$deleteAt(t)
                }
                ,
                t.prototype.$deleteAt = function(e) {
                    return this.$changes.delete(e),
                    this.$indexes.delete(e),
                    this.$items.delete(e)
                }
                ,
                t.prototype.clear = function(t) {
                    this.$changes.discard(!0, !0),
                    this.$changes.indexes = {},
                    this.$indexes.clear(),
                    t && a.call(this, t),
                    this.$items.clear(),
                    this.$changes.operation({
                        index: 0,
                        op: e.OPERATION.CLEAR
                    }),
                    this.$changes.touchParents()
                }
                ,
                t.prototype.concat = function() {
                    for (var e, n = [], i = 0; i < arguments.length; i++)
                        n[i] = arguments[i];
                    return new (t.bind.apply(t, r([void 0], (e = Array.from(this.$items.values())).concat.apply(e, n), !1)))
                }
                ,
                t.prototype.join = function(e) {
                    return Array.from(this.$items.values()).join(e)
                }
                ,
                t.prototype.reverse = function() {
                    var e = this
                      , t = Array.from(this.$items.keys());
                    return Array.from(this.$items.values()).reverse().forEach(function(n, i) {
                        e.setAt(t[i], n)
                    }),
                    this
                }
                ,
                t.prototype.shift = function() {
                    var e = Array.from(this.$items.keys()).shift();
                    if (void 0 !== e) {
                        var t = this.$items.get(e);
                        return this.$deleteAt(e),
                        t
                    }
                }
                ,
                t.prototype.slice = function(e, n) {
                    var i = new t;
                    return i.push.apply(i, Array.from(this.$items.values()).slice(e, n)),
                    i
                }
                ,
                t.prototype.sort = function(e) {
                    var t = this;
                    void 0 === e && (e = l);
                    var n = Array.from(this.$items.keys());
                    return Array.from(this.$items.values()).sort(e).forEach(function(e, i) {
                        t.setAt(n[i], e)
                    }),
                    this
                }
                ,
                t.prototype.splice = function(e, t) {
                    void 0 === t && (t = this.length - e);
                    for (var n = [], i = 2; i < arguments.length; i++)
                        n[i - 2] = arguments[i];
                    for (var r = Array.from(this.$items.keys()), o = [], s = e; s < e + t; s++)
                        o.push(this.$items.get(r[s])),
                        this.$deleteAt(r[s]);
                    for (s = 0; s < n.length; s++)
                        this.setAt(e + s, n[s]);
                    return o
                }
                ,
                t.prototype.unshift = function() {
                    for (var e = this, t = [], n = 0; n < arguments.length; n++)
                        t[n] = arguments[n];
                    var i = this.length
                      , r = t.length
                      , o = Array.from(this.$items.values());
                    return t.forEach(function(t, n) {
                        e.setAt(n, t)
                    }),
                    o.forEach(function(t, n) {
                        e.setAt(r + n, t)
                    }),
                    i + r
                }
                ,
                t.prototype.indexOf = function(e, t) {
                    return Array.from(this.$items.values()).indexOf(e, t)
                }
                ,
                t.prototype.lastIndexOf = function(e, t) {
                    return void 0 === t && (t = this.length - 1),
                    Array.from(this.$items.values()).lastIndexOf(e, t)
                }
                ,
                t.prototype.every = function(e, t) {
                    return Array.from(this.$items.values()).every(e, t)
                }
                ,
                t.prototype.some = function(e, t) {
                    return Array.from(this.$items.values()).some(e, t)
                }
                ,
                t.prototype.forEach = function(e, t) {
                    Array.from(this.$items.values()).forEach(e, t)
                }
                ,
                t.prototype.map = function(e, t) {
                    return Array.from(this.$items.values()).map(e, t)
                }
                ,
                t.prototype.filter = function(e, t) {
                    return Array.from(this.$items.values()).filter(e, t)
                }
                ,
                t.prototype.reduce = function(e, t) {
                    return Array.prototype.reduce.apply(Array.from(this.$items.values()), arguments)
                }
                ,
                t.prototype.reduceRight = function(e, t) {
                    return Array.prototype.reduceRight.apply(Array.from(this.$items.values()), arguments)
                }
                ,
                t.prototype.find = function(e, t) {
                    return Array.from(this.$items.values()).find(e, t)
                }
                ,
                t.prototype.findIndex = function(e, t) {
                    return Array.from(this.$items.values()).findIndex(e, t)
                }
                ,
                t.prototype.fill = function(e, t, n) {
                    throw Error("ArraySchema#fill() not implemented")
                }
                ,
                t.prototype.copyWithin = function(e, t, n) {
                    throw Error("ArraySchema#copyWithin() not implemented")
                }
                ,
                t.prototype.toString = function() {
                    return this.$items.toString()
                }
                ,
                t.prototype.toLocaleString = function() {
                    return this.$items.toLocaleString()
                }
                ,
                t.prototype[Symbol.iterator] = function() {
                    return Array.from(this.$items.values())[Symbol.iterator]()
                }
                ,
                Object.defineProperty(t, Symbol.species, {
                    get: function() {
                        return t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.entries = function() {
                    return this.$items.entries()
                }
                ,
                t.prototype.keys = function() {
                    return this.$items.keys()
                }
                ,
                t.prototype.values = function() {
                    return this.$items.values()
                }
                ,
                t.prototype.includes = function(e, t) {
                    return Array.from(this.$items.values()).includes(e, t)
                }
                ,
                t.prototype.flatMap = function(e, t) {
                    throw Error("ArraySchema#flatMap() is not supported.")
                }
                ,
                t.prototype.flat = function(e) {
                    throw Error("ArraySchema#flat() is not supported.")
                }
                ,
                t.prototype.findLast = function() {
                    var e = Array.from(this.$items.values());
                    return e.findLast.apply(e, arguments)
                }
                ,
                t.prototype.findLastIndex = function() {
                    var e = Array.from(this.$items.values());
                    return e.findLastIndex.apply(e, arguments)
                }
                ,
                t.prototype.with = function(e, n) {
                    var i = Array.from(this.$items.values());
                    return i[e] = n,
                    new (t.bind.apply(t, r([void 0], i, !1)))
                }
                ,
                t.prototype.toReversed = function() {
                    return Array.from(this.$items.values()).reverse()
                }
                ,
                t.prototype.toSorted = function(e) {
                    return Array.from(this.$items.values()).sort(e)
                }
                ,
                t.prototype.toSpliced = function(e, t) {
                    var n = Array.from(this.$items.values());
                    return n.toSpliced.apply(n, arguments)
                }
                ,
                t.prototype.setIndex = function(e, t) {
                    this.$indexes.set(e, t)
                }
                ,
                t.prototype.getIndex = function(e) {
                    return this.$indexes.get(e)
                }
                ,
                t.prototype.getByIndex = function(e) {
                    return this.$items.get(this.$indexes.get(e))
                }
                ,
                t.prototype.deleteByIndex = function(e) {
                    var t = this.$indexes.get(e);
                    this.$items.delete(t),
                    this.$indexes.delete(e)
                }
                ,
                t.prototype.toArray = function() {
                    return Array.from(this.$items.values())
                }
                ,
                t.prototype.toJSON = function() {
                    return this.toArray().map(function(e) {
                        return "function" == typeof e.toJSON ? e.toJSON() : e
                    })
                }
                ,
                t.prototype.clone = function(e) {
                    return e ? new (t.bind.apply(t, r([void 0], Array.from(this.$items.values()), !1))) : new (t.bind.apply(t, r([void 0], this.map(function(e) {
                        return e.$changes ? e.clone() : e
                    }), !1)))
                }
                ,
                t
            }()
              , f = function() {
                function t(e) {
                    var n = this;
                    if (this.$changes = new o(this),
                    this.$items = new Map,
                    this.$indexes = new Map,
                    this.$refId = 0,
                    e) {
                        if (e instanceof Map || e instanceof t)
                            e.forEach(function(e, t) {
                                return n.set(t, e)
                            });
                        else
                            for (var i in e)
                                this.set(i, e[i])
                    }
                }
                return t.prototype.onAdd = function(t, n) {
                    return void 0 === n && (n = !0),
                    s(this.$callbacks || (this.$callbacks = {}), e.OPERATION.ADD, t, n ? this.$items : void 0)
                }
                ,
                t.prototype.onRemove = function(t) {
                    return s(this.$callbacks || (this.$callbacks = {}), e.OPERATION.DELETE, t)
                }
                ,
                t.prototype.onChange = function(t) {
                    return s(this.$callbacks || (this.$callbacks = {}), e.OPERATION.REPLACE, t)
                }
                ,
                t.is = function(e) {
                    return void 0 !== e.map
                }
                ,
                t.prototype[Symbol.iterator] = function() {
                    return this.$items[Symbol.iterator]()
                }
                ,
                Object.defineProperty(t.prototype, Symbol.toStringTag, {
                    get: function() {
                        return this.$items[Symbol.toStringTag]
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t, Symbol.species, {
                    get: function() {
                        return t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.set = function(t, n) {
                    if (null == n)
                        throw Error("MapSchema#set('".concat(t, "', ").concat(n, "): trying to set ").concat(n, " value on '").concat(t, "'."));
                    t = t.toString();
                    var i = void 0 !== this.$changes.indexes[t]
                      , r = i ? this.$changes.indexes[t] : this.$refId++
                      , o = i ? e.OPERATION.REPLACE : e.OPERATION.ADD
                      , s = void 0 !== n.$changes;
                    if (s && n.$changes.setParent(this, this.$changes.root, r),
                    i) {
                        if (!s && this.$items.get(t) === n)
                            return;
                        s && this.$items.get(t) !== n && (o = e.OPERATION.ADD)
                    } else
                        this.$changes.indexes[t] = r,
                        this.$indexes.set(r, t);
                    return this.$items.set(t, n),
                    this.$changes.change(t, o),
                    this
                }
                ,
                t.prototype.get = function(e) {
                    return this.$items.get(e)
                }
                ,
                t.prototype.delete = function(e) {
                    return this.$changes.delete(e.toString()),
                    this.$items.delete(e)
                }
                ,
                t.prototype.clear = function(t) {
                    this.$changes.discard(!0, !0),
                    this.$changes.indexes = {},
                    this.$indexes.clear(),
                    t && a.call(this, t),
                    this.$items.clear(),
                    this.$changes.operation({
                        index: 0,
                        op: e.OPERATION.CLEAR
                    }),
                    this.$changes.touchParents()
                }
                ,
                t.prototype.has = function(e) {
                    return this.$items.has(e)
                }
                ,
                t.prototype.forEach = function(e) {
                    this.$items.forEach(e)
                }
                ,
                t.prototype.entries = function() {
                    return this.$items.entries()
                }
                ,
                t.prototype.keys = function() {
                    return this.$items.keys()
                }
                ,
                t.prototype.values = function() {
                    return this.$items.values()
                }
                ,
                Object.defineProperty(t.prototype, "size", {
                    get: function() {
                        return this.$items.size
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.setIndex = function(e, t) {
                    this.$indexes.set(e, t)
                }
                ,
                t.prototype.getIndex = function(e) {
                    return this.$indexes.get(e)
                }
                ,
                t.prototype.getByIndex = function(e) {
                    return this.$items.get(this.$indexes.get(e))
                }
                ,
                t.prototype.deleteByIndex = function(e) {
                    var t = this.$indexes.get(e);
                    this.$items.delete(t),
                    this.$indexes.delete(e)
                }
                ,
                t.prototype.toJSON = function() {
                    var e = {};
                    return this.forEach(function(t, n) {
                        e[n] = "function" == typeof t.toJSON ? t.toJSON() : t
                    }),
                    e
                }
                ,
                t.prototype.clone = function(e) {
                    var n;
                    return e ? n = Object.assign(new t, this) : (n = new t,
                    this.forEach(function(e, t) {
                        e.$changes ? n.set(t, e.clone()) : n.set(t, e)
                    })),
                    n
                }
                ,
                t
            }()
              , d = {};
            function h(e, t) {
                d[e] = t
            }
            function p(e) {
                return d[e]
            }
            var g = function() {
                function e() {
                    this.indexes = {},
                    this.fieldsByIndex = {},
                    this.deprecated = {},
                    this.descriptors = {}
                }
                return e.create = function(t) {
                    var n = new e;
                    return n.schema = Object.assign({}, t && t.schema || {}),
                    n.indexes = Object.assign({}, t && t.indexes || {}),
                    n.fieldsByIndex = Object.assign({}, t && t.fieldsByIndex || {}),
                    n.descriptors = Object.assign({}, t && t.descriptors || {}),
                    n.deprecated = Object.assign({}, t && t.deprecated || {}),
                    n
                }
                ,
                e.prototype.addField = function(e, t) {
                    var n = this.getNextFieldIndex();
                    this.fieldsByIndex[n] = e,
                    this.indexes[e] = n,
                    this.schema[e] = Array.isArray(t) ? {
                        array: t[0]
                    } : t
                }
                ,
                e.prototype.hasField = function(e) {
                    return void 0 !== this.indexes[e]
                }
                ,
                e.prototype.addFilter = function(e, t) {
                    return this.filters || (this.filters = {},
                    this.indexesWithFilters = []),
                    this.filters[this.indexes[e]] = t,
                    this.indexesWithFilters.push(this.indexes[e]),
                    !0
                }
                ,
                e.prototype.addChildrenFilter = function(e, t) {
                    var n, i = this.indexes[e];
                    if (d[n = Object.keys(this.schema[e])[0]])
                        return this.childFilters || (this.childFilters = {}),
                        this.childFilters[i] = t,
                        !0;
                    console.warn("@filterChildren: field '".concat(e, "' can't have children. Ignoring filter."))
                }
                ,
                e.prototype.getChildrenFilter = function(e) {
                    return this.childFilters && this.childFilters[this.indexes[e]]
                }
                ,
                e.prototype.getNextFieldIndex = function() {
                    return Object.keys(this.schema || {}).length
                }
                ,
                e
            }()
              , $ = function() {
                function e() {
                    this.types = {},
                    this.schemas = new Map,
                    this.useFilters = !1
                }
                return e.prototype.has = function(e) {
                    return this.schemas.has(e)
                }
                ,
                e.prototype.get = function(e) {
                    return this.types[e]
                }
                ,
                e.prototype.add = function(e, t) {
                    void 0 === t && (t = this.schemas.size),
                    e._definition = g.create(e._definition),
                    e._typeid = t,
                    this.types[t] = e,
                    this.schemas.set(e, t)
                }
                ,
                e.create = function(t) {
                    return void 0 === t && (t = {}),
                    function(n) {
                        return t.context || (t.context = new e),
                        _(n, t)
                    }
                }
                ,
                e
            }()
              , m = new $;
            function _(e, t) {
                return void 0 === t && (t = {}),
                function(n, i) {
                    var o = t.context || m
                      , s = n.constructor;
                    if (s._context = o,
                    !e)
                        throw Error("".concat(s.name, ': @type() reference provided for "').concat(i, "\" is undefined. Make sure you don't have any circular dependencies."));
                    o.has(s) || o.add(s);
                    var a = s._definition;
                    if (a.addField(i, e),
                    a.descriptors[i]) {
                        if (a.deprecated[i])
                            return;
                        try {
                            throw Error("@colyseus/schema: Duplicate '".concat(i, "' definition on '").concat(s.name, "'.\nCheck @type() annotation"))
                        } catch (c) {
                            var l = c.stack.split("\n")[4].trim();
                            throw Error("".concat(c.message, " ").concat(l))
                        }
                    }
                    var d = u.is(e)
                      , h = !d && f.is(e);
                    if ("string" != typeof e && !e$.is(e)) {
                        var p = Object.values(e)[0];
                        "string" == typeof p || o.has(p) || o.add(p)
                    }
                    if (t.manual)
                        a.descriptors[i] = {
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        };
                    else {
                        var g = "_".concat(i);
                        a.descriptors[g] = {
                            enumerable: !1,
                            configurable: !1,
                            writable: !0
                        },
                        a.descriptors[i] = {
                            get: function() {
                                return this[g]
                            },
                            set: function(e) {
                                var t, n;
                                e !== this[g] && (null != e ? (!d || e instanceof u || (e = new (u.bind.apply(u, r([void 0], e, !1)))),
                                !h || e instanceof f || (e = new f(e)),
                                void 0 === e.$proxy && (h ? e = ((t = e).$proxy = !0,
                                t = new Proxy(t,{
                                    get: function(e, t) {
                                        return "symbol" != typeof t && void 0 === e[t] ? e.get(t) : e[t]
                                    },
                                    set: function(e, t, n) {
                                        return "symbol" != typeof t && -1 === t.indexOf("$") && "onAdd" !== t && "onRemove" !== t && "onChange" !== t ? e.set(t, n) : e[t] = n,
                                        !0
                                    },
                                    deleteProperty: function(e, t) {
                                        return e.delete(t),
                                        !0
                                    }
                                })) : d && (e = ((n = e).$proxy = !0,
                                n = new Proxy(n,{
                                    get: function(e, t) {
                                        return "symbol" == typeof t || isNaN(t) ? e[t] : e.at(t)
                                    },
                                    set: function(e, t, n) {
                                        if ("symbol" == typeof t || isNaN(t))
                                            e[t] = n;
                                        else {
                                            var i = parseInt(Array.from(e.$items.keys())[t] || t);
                                            null == n ? e.deleteAt(i) : e.setAt(i, n)
                                        }
                                        return !0
                                    },
                                    deleteProperty: function(e, t) {
                                        return "number" == typeof t ? e.deleteAt(t) : delete e[t],
                                        !0
                                    },
                                    has: function(e, t) {
                                        return "symbol" == typeof t || isNaN(Number(t)) ? Reflect.has(e, t) : e.$items.has(Number(t))
                                    }
                                })))),
                                this.$changes.change(i),
                                e.$changes && e.$changes.setParent(this, this.$changes.root, this._definition.indexes[i])) : this[g] && this.$changes.delete(i),
                                this[g] = e)
                            },
                            enumerable: !0,
                            configurable: !0
                        }
                    }
                }
            }
            function v(e, t, n) {
                for (var i = 0, r = 0, o = n.length; r < o; r++)
                    (i = n.charCodeAt(r)) < 128 ? e[t++] = i : i < 2048 ? (e[t++] = 192 | i >> 6,
                    e[t++] = 128 | 63 & i) : i < 55296 || i >= 57344 ? (e[t++] = 224 | i >> 12,
                    e[t++] = 128 | i >> 6 & 63,
                    e[t++] = 128 | 63 & i) : (r++,
                    i = 65536 + ((1023 & i) << 10 | 1023 & n.charCodeAt(r)),
                    e[t++] = 240 | i >> 18,
                    e[t++] = 128 | i >> 12 & 63,
                    e[t++] = 128 | i >> 6 & 63,
                    e[t++] = 128 | 63 & i)
            }
            function y(e, t) {
                e.push(255 & t)
            }
            function b(e, t) {
                e.push(255 & t)
            }
            function x(e, t) {
                e.push(255 & t),
                e.push(t >> 8 & 255)
            }
            function w(e, t) {
                e.push(255 & t),
                e.push(t >> 8 & 255)
            }
            function E(e, t) {
                e.push(255 & t),
                e.push(t >> 8 & 255),
                e.push(t >> 16 & 255),
                e.push(t >> 24 & 255)
            }
            function I(e, t) {
                e.push(255 & t),
                e.push(255 & t >> 8),
                e.push(255 & t >> 16),
                e.push(255 & t >> 24)
            }
            function k(e, t) {
                I(e, t >>> 0),
                I(e, Math.floor(t / 4294967296))
            }
            function A(e, t) {
                I(e, t >>> 0),
                I(e, t / 4294967296 >> 0)
            }
            function O(e, t) {
                S(e, t)
            }
            function T(e, t) {
                D(e, t)
            }
            var C = new Int32Array(2)
              , R = new Float32Array(C.buffer)
              , P = new Float64Array(C.buffer);
            function S(e, t) {
                R[0] = t,
                E(e, C[0])
            }
            function D(e, t) {
                P[0] = t,
                E(e, C[0]),
                E(e, C[1])
            }
            function N(e, t) {
                t || (t = "");
                var n = function e(t) {
                    for (var n = 0, i = 0, r = 0, o = t.length; r < o; r++)
                        (n = t.charCodeAt(r)) < 128 ? i += 1 : n < 2048 ? i += 2 : n < 55296 || n >= 57344 ? i += 3 : (r++,
                        i += 4);
                    return i
                }(t)
                  , i = 0;
                if (n < 32)
                    e.push(160 | n),
                    i = 1;
                else if (n < 256)
                    e.push(217),
                    b(e, n),
                    i = 2;
                else if (n < 65536)
                    e.push(218),
                    w(e, n),
                    i = 3;
                else {
                    if (!(n < 4294967296))
                        throw Error("String too long");
                    e.push(219),
                    I(e, n),
                    i = 5
                }
                return v(e, e.length, t),
                i + n
            }
            function M(e, t) {
                return isNaN(t) ? M(e, 0) : isFinite(t) ? t !== (0 | t) ? (e.push(203),
                D(e, t),
                9) : t >= 0 ? t < 128 ? (b(e, t),
                1) : t < 256 ? (e.push(204),
                b(e, t),
                2) : t < 65536 ? (e.push(205),
                w(e, t),
                3) : t < 4294967296 ? (e.push(206),
                I(e, t),
                5) : (e.push(207),
                A(e, t),
                9) : t >= -32 ? (e.push(224 | t + 32),
                1) : t >= -128 ? (e.push(208),
                y(e, t),
                2) : t >= -32768 ? (e.push(209),
                x(e, t),
                3) : t >= -2147483648 ? (e.push(210),
                E(e, t),
                5) : (e.push(211),
                k(e, t),
                9) : M(e, t > 0 ? Number.MAX_SAFE_INTEGER : -Number.MAX_SAFE_INTEGER)
            }
            var L = Object.freeze({
                __proto__: null,
                utf8Write: v,
                int8: y,
                uint8: b,
                int16: x,
                uint16: w,
                int32: E,
                uint32: I,
                int64: k,
                uint64: A,
                float32: O,
                float64: T,
                writeFloat32: S,
                writeFloat64: D,
                boolean: function e(t, n) {
                    return b(t, n ? 1 : 0)
                },
                string: N,
                number: M
            });
            function q(e, t) {
                return U(e, t) << 24 >> 24
            }
            function U(e, t) {
                return e[t.offset++]
            }
            function B(e, t) {
                return H(e, t) << 16 >> 16
            }
            function H(e, t) {
                return e[t.offset++] | e[t.offset++] << 8
            }
            function z(e, t) {
                return e[t.offset++] | e[t.offset++] << 8 | e[t.offset++] << 16 | e[t.offset++] << 24
            }
            function V(e, t) {
                return z(e, t) >>> 0
            }
            function F(e, t) {
                return Y(e, t)
            }
            function j(e, t) {
                return X(e, t)
            }
            function G(e, t) {
                var n = V(e, t);
                return 4294967296 * z(e, t) + n
            }
            function W(e, t) {
                var n = V(e, t);
                return 4294967296 * V(e, t) + n
            }
            var J = new Int32Array(2)
              , K = new Float32Array(J.buffer)
              , Q = new Float64Array(J.buffer);
            function Y(e, t) {
                return J[0] = z(e, t),
                K[0]
            }
            function X(e, t) {
                return J[0] = z(e, t),
                J[1] = z(e, t),
                Q[0]
            }
            function Z(e, t) {
                var n, i = e[t.offset++];
                i < 192 ? n = 31 & i : 217 === i ? n = U(e, t) : 218 === i ? n = H(e, t) : 219 === i && (n = V(e, t));
                var r = function e(t, n, i) {
                    for (var r = "", o = 0, s = n, a = n + i; s < a; s++) {
                        var c = t[s];
                        0 != (128 & c) ? 192 != (224 & c) ? 224 != (240 & c) ? 240 != (248 & c) ? console.error("Invalid byte " + c.toString(16)) : (o = (7 & c) << 18 | (63 & t[++s]) << 12 | (63 & t[++s]) << 6 | (63 & t[++s]) << 0) >= 65536 ? (o -= 65536,
                        r += String.fromCharCode(55296 + (o >>> 10), 56320 + (1023 & o))) : r += String.fromCharCode(o) : r += String.fromCharCode((15 & c) << 12 | (63 & t[++s]) << 6 | (63 & t[++s]) << 0) : r += String.fromCharCode((31 & c) << 6 | 63 & t[++s]) : r += String.fromCharCode(c)
                    }
                    return r
                }(e, t.offset, n);
                return t.offset += n,
                r
            }
            function ee(e, t) {
                var n = e[t.offset++];
                return n < 128 ? n : 202 === n ? Y(e, t) : 203 === n ? X(e, t) : 204 === n ? U(e, t) : 205 === n ? H(e, t) : 206 === n ? V(e, t) : 207 === n ? W(e, t) : 208 === n ? q(e, t) : 209 === n ? B(e, t) : 210 === n ? z(e, t) : 211 === n ? G(e, t) : n > 223 ? -1 * (255 - n + 1) : void 0
            }
            function et(e, t) {
                return 255 === e[t.offset - 1] && (e[t.offset] < 128 || e[t.offset] >= 202 && e[t.offset] <= 211)
            }
            var en = Object.freeze({
                __proto__: null,
                int8: q,
                uint8: U,
                int16: B,
                uint16: H,
                int32: z,
                uint32: V,
                float32: F,
                float64: j,
                int64: G,
                uint64: W,
                readFloat32: Y,
                readFloat64: X,
                boolean: function e(t, n) {
                    return U(t, n) > 0
                },
                string: Z,
                stringCheck: function e(t, n) {
                    var i = t[n.offset];
                    return i < 192 && i > 160 || 217 === i || 218 === i || 219 === i
                },
                number: ee,
                numberCheck: function e(t, n) {
                    var i = t[n.offset];
                    return i < 128 || i >= 202 && i <= 211
                },
                arrayCheck: function e(t, n) {
                    return t[n.offset] < 160
                },
                switchStructureCheck: et
            })
              , ei = function() {
                function t(e) {
                    var t = this;
                    this.$changes = new o(this),
                    this.$items = new Map,
                    this.$indexes = new Map,
                    this.$refId = 0,
                    e && e.forEach(function(e) {
                        return t.add(e)
                    })
                }
                return t.prototype.onAdd = function(t, n) {
                    return void 0 === n && (n = !0),
                    s(this.$callbacks || (this.$callbacks = []), e.OPERATION.ADD, t, n ? this.$items : void 0)
                }
                ,
                t.prototype.onRemove = function(t) {
                    return s(this.$callbacks || (this.$callbacks = []), e.OPERATION.DELETE, t)
                }
                ,
                t.prototype.onChange = function(t) {
                    return s(this.$callbacks || (this.$callbacks = []), e.OPERATION.REPLACE, t)
                }
                ,
                t.is = function(e) {
                    return void 0 !== e.collection
                }
                ,
                t.prototype.add = function(e) {
                    var t = this.$refId++;
                    return void 0 !== e.$changes && e.$changes.setParent(this, this.$changes.root, t),
                    this.$changes.indexes[t] = t,
                    this.$indexes.set(t, t),
                    this.$items.set(t, e),
                    this.$changes.change(t),
                    t
                }
                ,
                t.prototype.at = function(e) {
                    var t = Array.from(this.$items.keys())[e];
                    return this.$items.get(t)
                }
                ,
                t.prototype.entries = function() {
                    return this.$items.entries()
                }
                ,
                t.prototype.delete = function(e) {
                    for (var t, n, i = this.$items.entries(); (n = i.next()) && !n.done; )
                        if (e === n.value[1]) {
                            t = n.value[0];
                            break
                        }
                    return void 0 !== t && (this.$changes.delete(t),
                    this.$indexes.delete(t),
                    this.$items.delete(t))
                }
                ,
                t.prototype.clear = function(t) {
                    this.$changes.discard(!0, !0),
                    this.$changes.indexes = {},
                    this.$indexes.clear(),
                    t && a.call(this, t),
                    this.$items.clear(),
                    this.$changes.operation({
                        index: 0,
                        op: e.OPERATION.CLEAR
                    }),
                    this.$changes.touchParents()
                }
                ,
                t.prototype.has = function(e) {
                    return Array.from(this.$items.values()).some(function(t) {
                        return t === e
                    })
                }
                ,
                t.prototype.forEach = function(e) {
                    var t = this;
                    this.$items.forEach(function(n, i, r) {
                        return e(n, i, t)
                    })
                }
                ,
                t.prototype.values = function() {
                    return this.$items.values()
                }
                ,
                Object.defineProperty(t.prototype, "size", {
                    get: function() {
                        return this.$items.size
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.setIndex = function(e, t) {
                    this.$indexes.set(e, t)
                }
                ,
                t.prototype.getIndex = function(e) {
                    return this.$indexes.get(e)
                }
                ,
                t.prototype.getByIndex = function(e) {
                    return this.$items.get(this.$indexes.get(e))
                }
                ,
                t.prototype.deleteByIndex = function(e) {
                    var t = this.$indexes.get(e);
                    this.$items.delete(t),
                    this.$indexes.delete(e)
                }
                ,
                t.prototype.toArray = function() {
                    return Array.from(this.$items.values())
                }
                ,
                t.prototype.toJSON = function() {
                    var e = [];
                    return this.forEach(function(t, n) {
                        e.push("function" == typeof t.toJSON ? t.toJSON() : t)
                    }),
                    e
                }
                ,
                t.prototype.clone = function(e) {
                    var n;
                    return e ? n = Object.assign(new t, this) : (n = new t,
                    this.forEach(function(e) {
                        e.$changes ? n.add(e.clone()) : n.add(e)
                    })),
                    n
                }
                ,
                t
            }()
              , er = function() {
                function t(e) {
                    var t = this;
                    this.$changes = new o(this),
                    this.$items = new Map,
                    this.$indexes = new Map,
                    this.$refId = 0,
                    e && e.forEach(function(e) {
                        return t.add(e)
                    })
                }
                return t.prototype.onAdd = function(t, n) {
                    return void 0 === n && (n = !0),
                    s(this.$callbacks || (this.$callbacks = []), e.OPERATION.ADD, t, n ? this.$items : void 0)
                }
                ,
                t.prototype.onRemove = function(t) {
                    return s(this.$callbacks || (this.$callbacks = []), e.OPERATION.DELETE, t)
                }
                ,
                t.prototype.onChange = function(t) {
                    return s(this.$callbacks || (this.$callbacks = []), e.OPERATION.REPLACE, t)
                }
                ,
                t.is = function(e) {
                    return void 0 !== e.set
                }
                ,
                t.prototype.add = function(t) {
                    if (this.has(t))
                        return !1;
                    var n, i, r = this.$refId++;
                    void 0 !== t.$changes && t.$changes.setParent(this, this.$changes.root, r);
                    var o = null !== (i = null === (n = this.$changes.indexes[r]) || void 0 === n ? void 0 : n.op) && void 0 !== i ? i : e.OPERATION.ADD;
                    return this.$changes.indexes[r] = r,
                    this.$indexes.set(r, r),
                    this.$items.set(r, t),
                    this.$changes.change(r, o),
                    r
                }
                ,
                t.prototype.entries = function() {
                    return this.$items.entries()
                }
                ,
                t.prototype.delete = function(e) {
                    for (var t, n, i = this.$items.entries(); (n = i.next()) && !n.done; )
                        if (e === n.value[1]) {
                            t = n.value[0];
                            break
                        }
                    return void 0 !== t && (this.$changes.delete(t),
                    this.$indexes.delete(t),
                    this.$items.delete(t))
                }
                ,
                t.prototype.clear = function(t) {
                    this.$changes.discard(!0, !0),
                    this.$changes.indexes = {},
                    this.$indexes.clear(),
                    t && a.call(this, t),
                    this.$items.clear(),
                    this.$changes.operation({
                        index: 0,
                        op: e.OPERATION.CLEAR
                    }),
                    this.$changes.touchParents()
                }
                ,
                t.prototype.has = function(e) {
                    for (var t, n = this.$items.values(), i = !1; (t = n.next()) && !t.done; )
                        if (e === t.value) {
                            i = !0;
                            break
                        }
                    return i
                }
                ,
                t.prototype.forEach = function(e) {
                    var t = this;
                    this.$items.forEach(function(n, i, r) {
                        return e(n, i, t)
                    })
                }
                ,
                t.prototype.values = function() {
                    return this.$items.values()
                }
                ,
                Object.defineProperty(t.prototype, "size", {
                    get: function() {
                        return this.$items.size
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.setIndex = function(e, t) {
                    this.$indexes.set(e, t)
                }
                ,
                t.prototype.getIndex = function(e) {
                    return this.$indexes.get(e)
                }
                ,
                t.prototype.getByIndex = function(e) {
                    return this.$items.get(this.$indexes.get(e))
                }
                ,
                t.prototype.deleteByIndex = function(e) {
                    var t = this.$indexes.get(e);
                    this.$items.delete(t),
                    this.$indexes.delete(e)
                }
                ,
                t.prototype.toArray = function() {
                    return Array.from(this.$items.values())
                }
                ,
                t.prototype.toJSON = function() {
                    var e = [];
                    return this.forEach(function(t, n) {
                        e.push("function" == typeof t.toJSON ? t.toJSON() : t)
                    }),
                    e
                }
                ,
                t.prototype.clone = function(e) {
                    var n;
                    return e ? n = Object.assign(new t, this) : (n = new t,
                    this.forEach(function(e) {
                        e.$changes ? n.add(e.clone()) : n.add(e)
                    })),
                    n
                }
                ,
                t
            }()
              , eo = function() {
                function e() {
                    this.refIds = new WeakSet,
                    this.containerIndexes = new WeakMap
                }
                return e.prototype.addRefId = function(e) {
                    this.refIds.has(e) || (this.refIds.add(e),
                    this.containerIndexes.set(e, new Set))
                }
                ,
                e.get = function(t) {
                    return void 0 === t.$filterState && (t.$filterState = new e),
                    t.$filterState
                }
                ,
                e
            }()
              , es = function() {
                function e() {
                    this.refs = new Map,
                    this.refCounts = {},
                    this.deletedRefs = new Set,
                    this.nextUniqueId = 0
                }
                return e.prototype.getNextUniqueId = function() {
                    return this.nextUniqueId++
                }
                ,
                e.prototype.addRef = function(e, t, n) {
                    void 0 === n && (n = !0),
                    this.refs.set(e, t),
                    n && (this.refCounts[e] = (this.refCounts[e] || 0) + 1)
                }
                ,
                e.prototype.removeRef = function(e) {
                    var t = this.refCounts[e];
                    void 0 !== t ? 0 !== t ? (this.refCounts[e] = t - 1,
                    this.deletedRefs.add(e)) : console.warn("trying to remove reference ".concat(e, " with 0 refCount")) : console.warn("trying to remove reference ".concat(e, " that doesn't exist"))
                }
                ,
                e.prototype.clearRefs = function() {
                    this.refs.clear(),
                    this.deletedRefs.clear(),
                    this.refCounts = {}
                }
                ,
                e.prototype.garbageCollectDeletedRefs = function() {
                    var e = this;
                    this.deletedRefs.forEach(function(t) {
                        if (!(e.refCounts[t] > 0)) {
                            var n = e.refs.get(t);
                            if (n instanceof e$)
                                for (var i in n._definition.schema)
                                    "string" != typeof n._definition.schema[i] && n[i] && n[i].$changes && e.removeRef(n[i].$changes.refId);
                            else {
                                var r = n.$changes.parent._definition;
                                "function" == typeof Object.values(r.schema[r.fieldsByIndex[n.$changes.parentIndex]])[0] && Array.from(n.values()).forEach(function(t) {
                                    return e.removeRef(t.$changes.refId)
                                })
                            }
                            e.refs.delete(t),
                            delete e.refCounts[t]
                        }
                    }),
                    this.deletedRefs.clear()
                }
                ,
                e
            }()
              , ea = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e),
                t
            }(Error);
            function ec(e, t, n, i) {
                if (!(e instanceof t))
                    throw new ea("a '".concat(t.name, "' was expected, but '").concat(e.constructor.name, "' was provided in ").concat(n.constructor.name, "#").concat(i))
            }
            function el(e, t, n, i, r) {
                !function e(t, n, i, r) {
                    var o, s = !1;
                    switch (n) {
                    case "number":
                    case "int8":
                    case "uint8":
                    case "int16":
                    case "uint16":
                    case "int32":
                    case "uint32":
                    case "int64":
                    case "uint64":
                    case "float32":
                    case "float64":
                        o = "number",
                        isNaN(t) && console.log('trying to encode "NaN" in '.concat(i.constructor.name, "#").concat(r));
                        break;
                    case "string":
                        o = "string",
                        s = !0;
                        break;
                    case "boolean":
                        return
                    }
                    if (typeof t !== o && (!s || s && null !== t)) {
                        var a = "'".concat(JSON.stringify(t), "'").concat(t && t.constructor && " (".concat(t.constructor.name, ")") || "");
                        throw new ea("a '".concat(o, "' was expected, but ").concat(a, " was provided in ").concat(i.constructor.name, "#").concat(r))
                    }
                }(n, e, i, r);
                var o = L[e];
                if (!o)
                    throw new ea("a '".concat(e, "' was expected, but ").concat(n, " was provided in ").concat(i.constructor.name, "#").concat(r));
                o(t, n)
            }
            function eu(e, t, n) {
                return en[e](t, n)
            }
            var ef, ed, eh, ep, eg, e$ = function() {
                function t() {
                    for (var e = [], t = 0; t < arguments.length; t++)
                        e[t] = arguments[t];
                    Object.defineProperties(this, {
                        $changes: {
                            value: new o(this,void 0,new es),
                            enumerable: !1,
                            writable: !0
                        },
                        $callbacks: {
                            value: void 0,
                            enumerable: !1,
                            writable: !0
                        }
                    });
                    var n = this._definition.descriptors;
                    n && Object.defineProperties(this, n),
                    e[0] && this.assign(e[0])
                }
                return t.onError = function(e) {
                    console.error(e)
                }
                ,
                t.is = function(e) {
                    return e._definition && void 0 !== e._definition.schema
                }
                ,
                t.prototype.onChange = function(t) {
                    return s(this.$callbacks || (this.$callbacks = {}), e.OPERATION.REPLACE, t)
                }
                ,
                t.prototype.onRemove = function(t) {
                    return s(this.$callbacks || (this.$callbacks = {}), e.OPERATION.DELETE, t)
                }
                ,
                t.prototype.assign = function(e) {
                    return Object.assign(this, e),
                    this
                }
                ,
                Object.defineProperty(t.prototype, "_definition", {
                    get: function() {
                        return this.constructor._definition
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.setDirty = function(e, t) {
                    this.$changes.change(e, t)
                }
                ,
                t.prototype.listen = function(e, t, n) {
                    var i = this;
                    return void 0 === n && (n = !0),
                    this.$callbacks || (this.$callbacks = {}),
                    this.$callbacks[e] || (this.$callbacks[e] = []),
                    this.$callbacks[e].push(t),
                    n && void 0 !== this[e] && t(this[e], void 0),
                    function() {
                        return c(i.$callbacks[e], i.$callbacks[e].indexOf(t))
                    }
                }
                ,
                t.prototype.decode = function(n, i, r) {
                    void 0 === i && (i = {
                        offset: 0
                    }),
                    void 0 === r && (r = this);
                    var o = []
                      , s = this.$changes.root
                      , a = n.length
                      , c = 0;
                    for (s.refs.set(c, this); i.offset < a; ) {
                        var l = n[i.offset++];
                        if (255 != l) {
                            var h = r.$changes
                              , p = void 0 !== r._definition
                              , g = p ? l >> 6 << 6 : l;
                            if (g !== e.OPERATION.CLEAR) {
                                var $ = p ? l % (g || 255) : ee(n, i)
                                  , m = p ? r._definition.fieldsByIndex[$] : ""
                                  , _ = h.getType($)
                                  , v = void 0
                                  , y = void 0
                                  , b = void 0;
                                if (p ? y = r["_".concat(m)] : (y = r.getByIndex($),
                                (g & e.OPERATION.ADD) === e.OPERATION.ADD ? (b = r instanceof f ? Z(n, i) : $,
                                r.setIndex($, b)) : b = r.getIndex($)),
                                (g & e.OPERATION.DELETE) === e.OPERATION.DELETE && (g !== e.OPERATION.DELETE_AND_ADD && r.deleteByIndex($),
                                y && y.$changes && s.removeRef(y.$changes.refId),
                                v = null),
                                void 0 !== m) {
                                    if (g === e.OPERATION.DELETE)
                                        ;
                                    else if (t.is(_)) {
                                        var x = ee(n, i);
                                        if (v = s.refs.get(x),
                                        g !== e.OPERATION.REPLACE) {
                                            var w = this.getSchemaType(n, i, _);
                                            v || ((v = this.createTypeInstance(w)).$changes.refId = x,
                                            y && (v.$callbacks = y.$callbacks,
                                            y.$changes.refId && x !== y.$changes.refId && s.removeRef(y.$changes.refId))),
                                            s.addRef(x, v, v !== y)
                                        }
                                    } else if ("string" == typeof _)
                                        v = eu(_, n, i);
                                    else {
                                        var E, I = d[E = Object.keys(_)[0]], k = ee(n, i), A = s.refs.has(k) ? y || s.refs.get(k) : new I.constructor;
                                        if ((v = A.clone(!0)).$changes.refId = k,
                                        y && (v.$callbacks = y.$callbacks,
                                        y.$changes.refId && k !== y.$changes.refId)) {
                                            s.removeRef(y.$changes.refId);
                                            for (var O = y.entries(), T = void 0; (T = O.next()) && !T.done; ) {
                                                var C = T.value
                                                  , R = C[0]
                                                  , P = C[1];
                                                o.push({
                                                    refId: k,
                                                    op: e.OPERATION.DELETE,
                                                    field: R,
                                                    value: void 0,
                                                    previousValue: P
                                                })
                                            }
                                        }
                                        s.addRef(k, v, A !== y)
                                    }
                                    if (null != v) {
                                        if (v.$changes && v.$changes.setParent(h.ref, h.root, $),
                                        r instanceof t)
                                            r[m] = v;
                                        else if (r instanceof f)
                                            R = b,
                                            r.$items.set(R, v),
                                            r.$changes.allChanges.add($);
                                        else if (r instanceof u)
                                            r.setAt($, v);
                                        else if (r instanceof ei) {
                                            var S = r.add(v);
                                            r.setIndex($, S)
                                        } else
                                            r instanceof er && !1 !== (S = r.add(v)) && r.setIndex($, S)
                                    }
                                    y !== v && o.push({
                                        refId: c,
                                        op: g,
                                        field: m,
                                        dynamicIndex: b,
                                        value: v,
                                        previousValue: y
                                    })
                                } else {
                                    console.warn("@colyseus/schema: definition mismatch");
                                    for (var D = {
                                        offset: i.offset
                                    }; i.offset < a && (!et(n, i) || (D.offset = i.offset + 1,
                                    !s.refs.has(ee(n, D)))); )
                                        i.offset++
                                }
                            } else
                                r.clear(o)
                        } else {
                            c = ee(n, i);
                            var N = s.refs.get(c);
                            if (!N)
                                throw Error('"refId" not found: '.concat(c));
                            r = N
                        }
                    }
                    return this._triggerChanges(o),
                    s.garbageCollectDeletedRefs(),
                    o
                }
                ,
                t.prototype.encode = function(n, i, r) {
                    void 0 === n && (n = !1),
                    void 0 === i && (i = []),
                    void 0 === r && (r = !1);
                    for (var o = this.$changes, s = new WeakSet, a = [o], c = 1, l = 0; l < c; l++) {
                        var u = a[l]
                          , h = u.ref
                          , p = h instanceof t;
                        u.ensureRefId(),
                        s.add(u),
                        u !== o && (u.changed || n) && (b(i, 255),
                        M(i, u.refId));
                        for (var g = n ? Array.from(u.allChanges) : Array.from(u.changes.values()), $ = 0, m = g.length; $ < m; $++) {
                            var _ = n ? {
                                op: e.OPERATION.ADD,
                                index: g[$]
                            } : g[$]
                              , v = _.index
                              , y = p ? h._definition.fieldsByIndex && h._definition.fieldsByIndex[v] : v
                              , x = i.length;
                            if (_.op !== e.OPERATION.TOUCH) {
                                if (p)
                                    b(i, v | _.op);
                                else {
                                    if (b(i, _.op),
                                    _.op === e.OPERATION.CLEAR)
                                        continue;
                                    M(i, v)
                                }
                            }
                            if (p || (_.op & e.OPERATION.ADD) != e.OPERATION.ADD || h instanceof f && N(i, u.ref.$indexes.get(v)),
                            _.op !== e.OPERATION.DELETE) {
                                var w = u.getType(v)
                                  , E = u.getValue(v);
                                if (E && E.$changes && !s.has(E.$changes) && (a.push(E.$changes),
                                E.$changes.ensureRefId(),
                                c++),
                                _.op !== e.OPERATION.TOUCH) {
                                    if (t.is(w))
                                        ec(E, w, h, y),
                                        M(i, E.$changes.refId),
                                        (_.op & e.OPERATION.ADD) === e.OPERATION.ADD && this.tryEncodeTypeId(i, w, E.constructor);
                                    else if ("string" == typeof w)
                                        el(w, i, E, h, y);
                                    else {
                                        var I, k = d[I = Object.keys(w)[0]];
                                        ec(h["_".concat(y)], k.constructor, h, y),
                                        M(i, E.$changes.refId)
                                    }
                                    r && u.cache(v, i.slice(x))
                                }
                            }
                        }
                        n || r || u.discard()
                    }
                    return i
                }
                ,
                t.prototype.encodeAll = function(e) {
                    return this.encode(!0, [], e)
                }
                ,
                t.prototype.applyFilters = function(n, i) {
                    var r, o;
                    void 0 === i && (i = !1);
                    for (var s = this, a = new Set, c = eo.get(n), l = [this.$changes], u = 1, d = [], h = 0; h < u; h++)
                        (function(h) {
                            var p = l[h];
                            if (a.has(p.refId))
                                return "continue";
                            var g = p.ref
                              , $ = g instanceof t;
                            b(d, 255),
                            M(d, p.refId);
                            var m = c.refIds.has(p)
                              , _ = i || !m;
                            c.addRefId(p);
                            var v = c.containerIndexes.get(p)
                              , y = _ ? Array.from(p.allChanges) : Array.from(p.changes.values());
                            !i && $ && g._definition.indexesWithFilters && g._definition.indexesWithFilters.forEach(function(t) {
                                !v.has(t) && p.allChanges.has(t) && (_ ? y.push(t) : y.push({
                                    op: e.OPERATION.ADD,
                                    index: t
                                }))
                            });
                            for (var x = 0, w = y.length; x < w; x++) {
                                var E = _ ? {
                                    op: e.OPERATION.ADD,
                                    index: y[x]
                                } : y[x];
                                if (E.op !== e.OPERATION.CLEAR) {
                                    var I = E.index;
                                    if (E.op !== e.OPERATION.DELETE) {
                                        var k = p.getValue(I)
                                          , A = p.getType(I);
                                        if ($) {
                                            if ((O = g._definition.filters && g._definition.filters[I]) && !O.call(g, n, k, s)) {
                                                k && k.$changes && a.add(k.$changes.refId);
                                                continue
                                            }
                                        } else {
                                            var O, T = p.parent;
                                            if ((O = p.getChildrenFilter()) && !O.call(T, n, g.$indexes.get(I), k, s)) {
                                                k && k.$changes && a.add(k.$changes.refId);
                                                continue
                                            }
                                        }
                                        if (k.$changes && (l.push(k.$changes),
                                        u++),
                                        E.op !== e.OPERATION.TOUCH) {
                                            if (E.op === e.OPERATION.ADD || $)
                                                d.push.apply(d, null !== (r = p.caches[I]) && void 0 !== r ? r : []),
                                                v.add(I);
                                            else if (v.has(I))
                                                d.push.apply(d, null !== (o = p.caches[I]) && void 0 !== o ? o : []);
                                            else {
                                                if (v.add(I),
                                                b(d, e.OPERATION.ADD),
                                                M(d, I),
                                                g instanceof f) {
                                                    var C = p.ref.$indexes.get(I);
                                                    N(d, C)
                                                }
                                                k.$changes ? M(d, k.$changes.refId) : L[A](d, k)
                                            }
                                        } else
                                            k.$changes && !$ && (b(d, e.OPERATION.ADD),
                                            M(d, I),
                                            g instanceof f && N(d, C = p.ref.$indexes.get(I)),
                                            M(d, k.$changes.refId))
                                    } else
                                        $ ? b(d, E.op | I) : (b(d, E.op),
                                        M(d, I))
                                } else
                                    b(d, E.op)
                            }
                        }
                        )(h);
                    return d
                }
                ,
                t.prototype.clone = function() {
                    var e, t = new this.constructor, n = this._definition.schema;
                    for (var i in n)
                        "object" == typeof this[i] && "function" == typeof (null === (e = this[i]) || void 0 === e ? void 0 : e.clone) ? t[i] = this[i].clone() : t[i] = this[i];
                    return t
                }
                ,
                t.prototype.toJSON = function() {
                    var e = this._definition.schema
                      , t = this._definition.deprecated
                      , n = {};
                    for (var i in e)
                        t[i] || null === this[i] || void 0 === this[i] || (n[i] = "function" == typeof this[i].toJSON ? this[i].toJSON() : this["_".concat(i)]);
                    return n
                }
                ,
                t.prototype.discardAllChanges = function() {
                    this.$changes.discardAll()
                }
                ,
                t.prototype.getByIndex = function(e) {
                    return this[this._definition.fieldsByIndex[e]]
                }
                ,
                t.prototype.deleteByIndex = function(e) {
                    this[this._definition.fieldsByIndex[e]] = void 0
                }
                ,
                t.prototype.tryEncodeTypeId = function(e, t, n) {
                    t._typeid !== n._typeid && (b(e, 213),
                    M(e, n._typeid))
                }
                ,
                t.prototype.getSchemaType = function(e, t, n) {
                    var i;
                    return 213 === e[t.offset] && (t.offset++,
                    i = this.constructor._context.get(ee(e, t))),
                    i || n
                }
                ,
                t.prototype.createTypeInstance = function(e) {
                    var t = new e;
                    return t.$changes.root = this.$changes.root,
                    t
                }
                ,
                t.prototype._triggerChanges = function(n) {
                    for (var i, r, o, s, a, c, l, u, f, d = new Set, h = this.$changes.root.refs, p = 0; p < n.length; p++)
                        (function(p) {
                            var g = n[p]
                              , $ = g.refId
                              , m = h.get($)
                              , _ = m.$callbacks;
                            if ((g.op & e.OPERATION.DELETE) === e.OPERATION.DELETE && g.previousValue instanceof t && (null === (r = null === (i = g.previousValue.$callbacks) || void 0 === i ? void 0 : i[e.OPERATION.DELETE]) || void 0 === r || r.forEach(function(e) {
                                return e()
                            })),
                            !_)
                                return "continue";
                            if (m instanceof t) {
                                if (!d.has($))
                                    try {
                                        null === (o = null == _ ? void 0 : _[e.OPERATION.REPLACE]) || void 0 === o || o.forEach(function(e) {
                                            return e()
                                        })
                                    } catch (v) {
                                        t.onError(v)
                                    }
                                try {
                                    _.hasOwnProperty(g.field) && (null === (s = _[g.field]) || void 0 === s || s.forEach(function(e) {
                                        return e(g.value, g.previousValue)
                                    }))
                                } catch (y) {
                                    t.onError(y)
                                }
                            } else
                                g.op === e.OPERATION.ADD && void 0 === g.previousValue ? null === (a = _[e.OPERATION.ADD]) || void 0 === a || a.forEach(function(e) {
                                    var t;
                                    return e(g.value, null !== (t = g.dynamicIndex) && void 0 !== t ? t : g.field)
                                }) : g.op === e.OPERATION.DELETE ? void 0 !== g.previousValue && (null === (c = _[e.OPERATION.DELETE]) || void 0 === c || c.forEach(function(e) {
                                    var t;
                                    return e(g.previousValue, null !== (t = g.dynamicIndex) && void 0 !== t ? t : g.field)
                                })) : g.op === e.OPERATION.DELETE_AND_ADD && (void 0 !== g.previousValue && (null === (l = _[e.OPERATION.DELETE]) || void 0 === l || l.forEach(function(e) {
                                    var t;
                                    return e(g.previousValue, null !== (t = g.dynamicIndex) && void 0 !== t ? t : g.field)
                                })),
                                null === (u = _[e.OPERATION.ADD]) || void 0 === u || u.forEach(function(e) {
                                    var t;
                                    return e(g.value, null !== (t = g.dynamicIndex) && void 0 !== t ? t : g.field)
                                })),
                                g.value !== g.previousValue && (null === (f = _[e.OPERATION.REPLACE]) || void 0 === f || f.forEach(function(e) {
                                    var t;
                                    return e(g.value, null !== (t = g.dynamicIndex) && void 0 !== t ? t : g.field)
                                }));
                            d.add($)
                        }
                        )(p)
                }
                ,
                t._definition = g.create(),
                t
            }(), e9 = {
                context: new $
            }, em = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e),
                i([_("string", e9)], t.prototype, "name", void 0),
                i([_("string", e9)], t.prototype, "type", void 0),
                i([_("number", e9)], t.prototype, "referencedType", void 0),
                t
            }(e$), e_ = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.fields = new u,
                    t
                }
                return n(t, e),
                i([_("number", e9)], t.prototype, "id", void 0),
                i([_([em], e9)], t.prototype, "fields", void 0),
                t
            }(e$), ev = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.types = new u,
                    t
                }
                return n(t, e),
                t.encode = function(e) {
                    var n, i = e.constructor, r = new t;
                    r.rootType = i._typeid;
                    var o = null === (n = i._context) || void 0 === n ? void 0 : n.types;
                    for (var s in o) {
                        var a = new e_;
                        a.id = Number(s),
                        function(e, t) {
                            for (var n in t) {
                                var i = new em;
                                i.name = n;
                                var o = void 0;
                                if ("string" == typeof t[n])
                                    o = t[n];
                                else {
                                    var s = t[n]
                                      , a = void 0;
                                    e$.is(s) ? (o = "ref",
                                    a = t[n]) : "string" == typeof s[o = Object.keys(s)[0]] ? o += ":" + s[o] : a = s[o],
                                    i.referencedType = a ? a._typeid : -1
                                }
                                i.type = o,
                                e.fields.push(i)
                            }
                            r.types.push(e)
                        }(a, o[s]._definition.schema)
                    }
                    return r.encodeAll()
                }
                ,
                t.decode = function(e, i) {
                    var r = new $
                      , o = new t;
                    o.decode(e, i);
                    var s = o.types.reduce(function(e, t) {
                        var i = function(e) {
                            function t() {
                                return null !== e && e.apply(this, arguments) || this
                            }
                            return n(t, e),
                            t
                        }(e$)
                          , o = t.id;
                        return e[o] = i,
                        r.add(i, o),
                        e
                    }, {});
                    o.types.forEach(function(e) {
                        var t = s[e.id];
                        e.fields.forEach(function(e) {
                            var n;
                            if (void 0 !== e.referencedType) {
                                var i = e.type
                                  , o = s[e.referencedType];
                                if (!o) {
                                    var a = e.type.split(":");
                                    i = a[0],
                                    o = a[1]
                                }
                                "ref" === i ? _(o, {
                                    context: r
                                })(t.prototype, e.name) : _(((n = {})[i] = o,
                                n), {
                                    context: r
                                })(t.prototype, e.name)
                            } else
                                _(e.type, {
                                    context: r
                                })(t.prototype, e.name)
                        })
                    });
                    var a = s[o.rootType]
                      , c = new a;
                    for (var l in a._definition.schema) {
                        var u, f = a._definition.schema[l];
                        "string" != typeof f && (c[l] = "function" == typeof f ? new f : new d[u = Object.keys(f)[0]].constructor)
                    }
                    return c
                }
                ,
                i([_([e_], e9)], t.prototype, "types", void 0),
                i([_("number", e9)], t.prototype, "rootType", void 0),
                t
            }(e$);
            ed = {
                constructor: f
            },
            d.map = ed,
            eh = {
                constructor: u
            },
            d.array = eh,
            ep = {
                constructor: er
            },
            d.set = ep,
            eg = {
                constructor: ei
            },
            d.collection = eg,
            e.ArraySchema = u,
            e.CollectionSchema = ei,
            e.Context = $,
            e.MapSchema = f,
            e.Reflection = ev,
            e.ReflectionField = em,
            e.ReflectionType = e_,
            e.Schema = e$,
            e.SchemaDefinition = g,
            e.SetSchema = er,
            e.decode = en,
            e.defineTypes = function e(t, n, i) {
                for (var r in void 0 === i && (i = {}),
                i.context || (i.context = t._context || i.context || m),
                n)
                    _(n[r], i)(t.prototype, r);
                return t
            }
            ,
            e.deprecated = function e(t) {
                return void 0 === t && (t = !0),
                function(e, n) {
                    var i = e.constructor._definition;
                    i.deprecated[n] = !0,
                    t && (i.descriptors[n] = {
                        get: function() {
                            throw Error("".concat(n, " is deprecated."))
                        },
                        set: function(e) {},
                        enumerable: !1,
                        configurable: !0
                    })
                }
            }
            ,
            e.dumpChanges = function e(t) {
                for (var n = [t.$changes], i = {}, r = i, o = 0; o < 1; o++)
                    !function(e) {
                        var t = n[e];
                        t.changes.forEach(function(e) {
                            var n = t.ref
                              , i = e.index;
                            r[n._definition ? n._definition.fieldsByIndex[i] : n.$indexes.get(i)] = t.getValue(i)
                        })
                    }(o);
                return i
            }
            ,
            e.encode = L,
            e.filter = function e(t) {
                return function(e, n) {
                    var i = e.constructor;
                    i._definition.addFilter(n, t) && (i._context.useFilters = !0)
                }
            }
            ,
            e.filterChildren = function e(t) {
                return function(e, n) {
                    var i = e.constructor;
                    i._definition.addChildrenFilter(n, t) && (i._context.useFilters = !0)
                }
            }
            ,
            e.hasFilter = function e(t) {
                return t._context && t._context.useFilters
            }
            ,
            e.registerType = h,
            e.type = _,
            Object.defineProperty(e, "__esModule", {
                value: !0
            })
        }(eq = eB.exports);
        var eH, ez, eV, eF = eB.exports, ej = {};
        Object.defineProperty(eH = ej, "__esModule", {
            value: !0
        }),
        eH.utf8Length = eH.utf8Read = eH.ErrorCode = eH.Protocol = void 0,
        (eV = eH.Protocol || (eH.Protocol = {}))[eV.HANDSHAKE = 9] = "HANDSHAKE",
        eV[eV.JOIN_ROOM = 10] = "JOIN_ROOM",
        eV[eV.ERROR = 11] = "ERROR",
        eV[eV.LEAVE_ROOM = 12] = "LEAVE_ROOM",
        eV[eV.ROOM_DATA = 13] = "ROOM_DATA",
        eV[eV.ROOM_STATE = 14] = "ROOM_STATE",
        eV[eV.ROOM_STATE_PATCH = 15] = "ROOM_STATE_PATCH",
        eV[eV.ROOM_DATA_SCHEMA = 16] = "ROOM_DATA_SCHEMA",
        eV[eV.ROOM_DATA_BYTES = 17] = "ROOM_DATA_BYTES",
        (ez = eH.ErrorCode || (eH.ErrorCode = {}))[ez.MATCHMAKE_NO_HANDLER = 4210] = "MATCHMAKE_NO_HANDLER",
        ez[ez.MATCHMAKE_INVALID_CRITERIA = 4211] = "MATCHMAKE_INVALID_CRITERIA",
        ez[ez.MATCHMAKE_INVALID_ROOM_ID = 4212] = "MATCHMAKE_INVALID_ROOM_ID",
        ez[ez.MATCHMAKE_UNHANDLED = 4213] = "MATCHMAKE_UNHANDLED",
        ez[ez.MATCHMAKE_EXPIRED = 4214] = "MATCHMAKE_EXPIRED",
        ez[ez.AUTH_FAILED = 4215] = "AUTH_FAILED",
        ez[ez.APPLICATION_ERROR = 4216] = "APPLICATION_ERROR",
        eH.utf8Read = function(e, t) {
            let n = e[t++];
            for (var i = "", r = 0, o = t, s = t + n; o < s; o++) {
                var a = e[o];
                if (0 != (128 & a)) {
                    if (192 != (224 & a)) {
                        if (224 != (240 & a)) {
                            if (240 != (248 & a))
                                throw Error("Invalid byte " + a.toString(16));
                            (r = (7 & a) << 18 | (63 & e[++o]) << 12 | (63 & e[++o]) << 6 | (63 & e[++o]) << 0) >= 65536 ? (r -= 65536,
                            i += String.fromCharCode(55296 + (r >>> 10), 56320 + (1023 & r))) : i += String.fromCharCode(r)
                        } else
                            i += String.fromCharCode((15 & a) << 12 | (63 & e[++o]) << 6 | (63 & e[++o]) << 0)
                    } else
                        i += String.fromCharCode((31 & a) << 6 | 63 & e[++o])
                } else
                    i += String.fromCharCode(a)
            }
            return i
        }
        ,
        eH.utf8Length = function(e="") {
            let t = 0
              , n = 0;
            for (let i = 0, r = e.length; i < r; i++)
                (t = e.charCodeAt(i)) < 128 ? n += 1 : t < 2048 ? n += 2 : t < 55296 || t >= 57344 ? n += 3 : (i++,
                n += 4);
            return n + 1
        }
        ;
        class eG extends EventTarget {
            state;
            setState(e) {
                this.state.decode(e),
                this.dispatchEvent(new CustomEvent("patch",{
                    detail: null
                })),
                this.dispatchEvent(new Event("load"))
            }
            getState() {
                return this.state
            }
            patch(e) {
                let t = this.state.decode(e);
                for (let n of t)
                    if ("gameTime" != n.field) {
                        this.dispatchEvent(new CustomEvent("patch",{
                            detail: t
                        }));
                        break
                    }
            }
            teardown() {
                this.state?.$changes?.root.clearRefs()
            }
            handshake(e, t) {
                this.state ? new eF.Reflection().decode(e, t) : this.state = eF.Reflection.decode(e, t),
                this.dispatchEvent(new CustomEvent("patch",{
                    detail: null
                }))
            }
        }
        let eW = new eG;
        class eJ extends EventTarget {
            socket = null;
            transportType = ex("unknown");
            blueboatRoomId = null;
            setup() {
                let e = this;
                class t extends WebSocket {
                    constructor(t, n) {
                        super(t, n),
                        e.socket || e.registerSocket(this)
                    }
                    send(t) {
                        e.onSend(t),
                        super.send(t)
                    }
                }
                let n = XMLHttpRequest.prototype.send;
                XMLHttpRequest.prototype.send = function() {
                    this.addEventListener("load", () => {
                        if (!this.responseURL.endsWith("/matchmaker/join"))
                            return;
                        let t = JSON.parse(this.responseText);
                        e.blueboatRoomId = t.roomId,
                        console.log("Got Blueboat Room Id: " + e.blueboatRoomId)
                    }
                    ),
                    n.apply(this, arguments)
                }
                ,
                eC().WebSocket = t
            }
            registerSocket(e) {
                this.socket = e,
                "Phaser"in eC() ? (this.transportType.set("colyseus"),
                this.addEventListener("colyseusMessage", e => {
                    if ("DEVICES_STATES_CHANGES" != e.detail.type)
                        return;
                    let t = function(e) {
                        let t = [];
                        for (let n of e.changes) {
                            let i = {}
                              , r = n[1].map(t => e.values[t]);
                            for (let o = 0; o < r.length; o++)
                                i[r[o]] = n[2][o];
                            t.push({
                                id: n[0],
                                data: i
                            })
                        }
                        return t
                    }(e.detail.message);
                    this.dispatchEvent(new CustomEvent("deviceChanges",{
                        detail: t
                    }))
                }
                )) : this.transportType.set("blueboat"),
                e.addEventListener("message", e => {
                    let t;
                    if ("colyseus" == a(this.transportType)) {
                        if (!(t = function(e) {
                            let t = Array.from(new Uint8Array(e.data))
                              , n = t[0];
                            if (n === eU.Protocol.JOIN_ROOM) {
                                let i = 1
                                  , r = ej.utf8Read(t, i);
                                i += ej.utf8Length(r);
                                let o = ej.utf8Read(t, i);
                                i += ej.utf8Length(o),
                                console.log(r, o, i),
                                t.length > i && eW.handshake(t, {
                                    offset: i
                                })
                            } else if (n === eU.Protocol.ROOM_DATA_SCHEMA)
                                ;
                            else if (n === eU.Protocol.ROOM_STATE)
                                t.shift(),
                                eW.setState(t);
                            else if (n === eU.Protocol.ROOM_STATE_PATCH)
                                t.shift(),
                                eW.patch(t);
                            else {
                                if (n === eU.Protocol.ROOM_DATA) {
                                    let s = {
                                        offset: 1
                                    };
                                    return {
                                        type: eF.decode.stringCheck(t, s) ? eF.decode.string(t, s) : eF.decode.number(t, s),
                                        message: t.length > s.offset ? eS(e.data, s.offset) : void 0
                                    }
                                }
                                if (n === eU.Protocol.ROOM_DATA_BYTES) {
                                    let a = {
                                        offset: 1
                                    };
                                    return {
                                        type: eF.decode.stringCheck(t, a) ? eF.decode.string(t, a) : eF.decode.number(t, a),
                                        message: new Uint8Array(t.slice(a.offset))
                                    }
                                }
                            }
                            return null
                        }(e)))
                            return;
                        this.dispatchEvent(new CustomEvent("colyseusMessage",{
                            detail: t
                        }))
                    } else {
                        if (!(t = eP.decode(e.data)))
                            return;
                        this.dispatchEvent(new CustomEvent("blueboatMessage",{
                            detail: t
                        }))
                    }
                }
                )
            }
            onSend(e) {
                if ("blueboat" == a(this.transportType) && !this.blueboatRoomId) {
                    let t = eP.decode(e);
                    t.roomId && (this.blueboatRoomId = t.roomId),
                    t.room && (this.blueboatRoomId = t.room),
                    this.blueboatRoomId && console.log("Got Blueboat Room Id: " + this.blueboatRoomId)
                }
            }
            sendMessage(e, t) {
                if (!this.socket || !this.blueboatRoomId && "blueboat" == a(this.transportType))
                    return;
                let n;
                if ("colyseus" == a(this.transportType)) {
                    let i = [eU.Protocol.ROOM_DATA]
                      , r = eM(e)
                      , o = eM(t);
                    (n = new Uint8Array(r.byteLength + o.byteLength + i.length)).set(i),
                    n.set(new Uint8Array(r), i.length),
                    n.set(new Uint8Array(o), i.length + r.byteLength)
                } else
                    n = eP.encode(e, t, this.blueboatRoomId);
                this.socket.send(n)
            }
        }
        let eK = new eJ
          , eQ = ex(!0)
          , eY = ex(!1);
        eC().storesLoaded = eY;
        let eX = ex(null);
        eK.addEventListener("colyseusMessage", e => {
            "AUTH_ID" === e.detail.type && (eX.set(e.detail.message),
            console.log("[GC] Got player id: " + e.detail.message))
        }
        );
        let eZ = ex(!1);
        eK.addEventListener("colyseusMessage", e => {
            if ("DEVICES_STATES_CHANGES" === e.detail.type) {
                let t = setInterval( () => {
                    let n = eC()?.stores?.phaser?.scene?.worldManager?.devices?.allDevices;
                    n && n.length >= e.detail.message.changes.length && (clearInterval(t),
                    eZ.set(!0))
                }
                , 100)
            }
        }
        );
        let {window: te} = y;
        class tt extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    let r, {$$slots: o={}, $$scope: s} = n, {name: l} = n, u = e2[l], f = u?.x ?? 50, d = u?.y ?? 50, h = u?.width ?? 200, p = u?.height ?? 200, g = h, y = p, b = function e(t, n={}) {
                        let i = ex(t), {stiffness: r=.15, damping: o=.8, precision: s=.01} = n, a, c, l, u = t, f = t, d = 1, h = 0, p = !1;
                        function g(e, n={}) {
                            var r;
                            f = e;
                            let o = l = {};
                            if (null == t || n.hard || y.stiffness >= 1 && y.damping >= 1)
                                return p = !0,
                                a = $(),
                                u = e,
                                i.set(t = f),
                                Promise.resolve();
                            if (n.soft) {
                                let s = !0 === n.soft ? .5 : +n.soft;
                                h = 1 / (60 * s),
                                d = 0
                            }
                            let g;
                            return c || (a = $(),
                            p = !1,
                            c = (r = e => {
                                if (p)
                                    return p = !1,
                                    c = null,
                                    !1;
                                d = Math.min(d + h, 1);
                                let n = {
                                    inv_mass: d,
                                    opts: y,
                                    settled: !0,
                                    dt: 60 * (e - a) / 1e3
                                }
                                  , r = function e(t, n, i, r) {
                                    if ("number" == typeof i || ew(i)) {
                                        let o = r - i
                                          , s = (i - n) / (t.dt || 1 / 60)
                                          , a = (s + (t.opts.stiffness * o - t.opts.damping * s) * t.inv_mass) * t.dt;
                                        return Math.abs(a) < t.opts.precision && Math.abs(o) < t.opts.precision ? r : (t.settled = !1,
                                        ew(i) ? new Date(i.getTime() + a) : i + a)
                                    }
                                    if (Array.isArray(i))
                                        return i.map( (o, s) => e(t, n[s], i[s], r[s]));
                                    if ("object" == typeof i) {
                                        let c = {};
                                        for (let l in i)
                                            c[l] = e(t, n[l], i[l], r[l]);
                                        return c
                                    }
                                    throw Error(`Cannot spring ${typeof i} values`)
                                }(n, u, t, f);
                                return a = e,
                                u = t,
                                i.set(t = r),
                                n.settled && (c = null),
                                !n.settled
                            }
                            ,
                            0 === _.size && m(v),
                            {
                                promise: new Promise(e => {
                                    _.add(g = {
                                        c: r,
                                        f: e
                                    })
                                }
                                ),
                                abort() {
                                    _.delete(g)
                                }
                            })),
                            new Promise(e => {
                                c.promise.then( () => {
                                    o === l && e()
                                }
                                )
                            }
                            )
                        }
                        let y = {
                            set: g,
                            update: (e, n) => g(e(f, t), n),
                            subscribe: i.subscribe,
                            stiffness: r,
                            damping: o,
                            precision: s
                        };
                        return y
                    }(I(f, d), {
                        stiffness: .1,
                        damping: .5
                    });
                    c(t, b, e => i(3, r = e));
                    let x = a(b)
                      , w = x.x
                      , E = x.y;
                    function I(e, t) {
                        return e < 0 && (e = 0),
                        t < 0 && (t = 0),
                        e + g > window.innerWidth && (e = window.innerWidth - g),
                        t + y > window.innerHeight && (t = window.innerHeight - y),
                        {
                            x: e,
                            y: t
                        }
                    }
                    let k, A = !1;
                    eQ.subscribe(e => {
                        if (e)
                            b.set(I(w, E)),
                            A = !1;
                        else {
                            A = !0;
                            let t = a(b)
                              , n = t.x + g / 2
                              , i = t.y + y / 2
                              , r = n < window.innerWidth / 2 ? -g : window.innerWidth
                              , o = i < window.innerHeight / 2 ? -y : window.innerHeight;
                            Math.abs(r - t.x) < Math.abs(o - t.y) ? b.set({
                                x: r,
                                y: t.y
                            }) : b.set({
                                x: t.x,
                                y: o
                            })
                        }
                    }
                    );
                    let O, T, C, R = u?.minimized ?? !1, P = "waiting", S = e0(function() {
                        var e, t;
                        if (A)
                            return;
                        let n = a(b);
                        e = l,
                        t = {
                            x: n.x,
                            y: n.y,
                            width: g,
                            height: y,
                            minimized: R
                        },
                        e2[e] = t,
                        e3("menuTransforms", JSON.stringify(e2))
                    }, 100);
                    b.subscribe( () => S());
                    let D = new ResizeObserver(e => {
                        P = "waiting";
                        let t = e[0];
                        R || (y = t.contentRect.height),
                        g = t.contentRect.width,
                        S()
                    }
                    );
                    return V( () => {
                        D.observe(k),
                        i(1, k.style.height = `${Math.max(p, 21)}px`, k),
                        i(1, k.style.width = `${Math.max(h, 150)}px`, k)
                    }
                    ),
                    F( () => {
                        D.disconnect()
                    }
                    ),
                    t.$$set = e => {
                        "name"in e && i(0, l = e.name),
                        "$$scope"in e && i(10, s = e.$$scope)
                    }
                    ,
                    [l, k, R, r, b, function() {
                        let e = a(b);
                        b.set(I(e.x, e.y))
                    }
                    , function(e) {
                        P = "checking";
                        let t = a(b);
                        O = e.clientX - t.x,
                        T = e.clientY - t.y,
                        C = 0
                    }
                    , function(e) {
                        if ("waiting" != P) {
                            if (C += Math.abs(e.movementX) + Math.abs(e.movementY),
                            "checking" == P && C > 5)
                                P = "dragging";
                            else if ("dragging" == P) {
                                let t = e.clientX - O
                                  , n = e.clientY - T;
                                w = t,
                                E = n,
                                b.set(I(t, n)),
                                S()
                            }
                        }
                    }
                    , function() {
                        P = "waiting"
                    }
                    , function() {
                        i(2, R = !R),
                        S()
                    }
                    , s, o, function(e) {
                        J[e ? "unshift" : "push"]( () => {
                            i(1, k = e)
                        }
                        )
                    }
                    , ]
                }, function e(t) {
                    let n, r, o, s, a, c, u, p, g, $, m, _, v = t[2] ? "+" : "-", y = t[11].default, x = l(y, t, t[10], null);
                    return {
                        c() {
                            n = k("div"),
                            r = k("div"),
                            o = O(t[0]),
                            s = T(),
                            a = k("button"),
                            c = O(v),
                            u = T(),
                            p = k("div"),
                            g = k("div"),
                            x && x.c(),
                            D(a, "class", "minimize svelte-4jfbq8"),
                            D(r, "class", "header svelte-4jfbq8"),
                            D(g, "class", "groupContent open svelte-4jfbq8"),
                            D(p, "class", "children svelte-4jfbq8"),
                            D(n, "class", "menu svelte-4jfbq8"),
                            q(n, "left", t[3].x + "px"),
                            q(n, "top", t[3].y + "px"),
                            U(n, "minimized", t[2])
                        },
                        m(e, i) {
                            w(e, n, i),
                            b(n, r),
                            b(r, o),
                            b(r, s),
                            b(r, a),
                            b(a, c),
                            b(n, u),
                            b(n, p),
                            b(p, g),
                            x && x.m(g, null),
                            t[12](n),
                            $ = !0,
                            m || (_ = [R(te, "mouseup", t[8]), R(te, "mousemove", t[7]), R(te, "resize", t[5]), R(a, "click", t[9]), R(n, "mousedown", t[6])],
                            m = !0)
                        },
                        p(e, t) {
                            (!$ || 1 & t[0]) && M(o, e[0]),
                            (!$ || 4 & t[0]) && v !== (v = e[2] ? "+" : "-") && M(c, v),
                            x && x.p && (!$ || 1024 & t[0]) && d(x, y, e, e[10], $ ? f(y, e[10], t, null) : h(e[10]), null),
                            (!$ || 8 & t[0]) && q(n, "left", e[3].x + "px"),
                            (!$ || 8 & t[0]) && q(n, "top", e[3].y + "px"),
                            (!$ || 4 & t[0]) && U(n, "minimized", e[2])
                        },
                        i(e) {
                            $ || (el(x, e),
                            $ = !0)
                        },
                        o(e) {
                            eu(x, e),
                            $ = !1
                        },
                        d(e) {
                            e && E(n),
                            x && x.d(e),
                            t[12](null),
                            m = !1,
                            i(_)
                        }
                    }
                }, o, {
                    name: 0
                }, function e(t) {
                    x(t, "svelte-4jfbq8", ".menu.svelte-4jfbq8{position:absolute;background-color:var(--menuBackgroundColor);resize:both;overflow:hidden;min-width:150px;border-radius:5px;user-select:none;pointer-events:all;outline-width:3px;outline-style:solid;outline-color:var(--menuOutlineColor)}.children.svelte-4jfbq8{position:relative;height:calc(100% - 21px);overflow-x:hidden;overflow-y:auto}.groupContent{position:absolute;top:0;left:0;display:flex;flex-direction:column;width:100%}.groupContent.svelte-4jfbq8{transform:translateX(0);opacity:1;pointer-events:all}.menu.minimized.svelte-4jfbq8{overflow:hidden;resize:horizontal;height:21px !important}.header.svelte-4jfbq8{background-color:var(--menuHeaderBackgroundColor);position:relative;color:var(--menuHeaderTextColor);width:100%;text-align:center;font-size:14px;height:21px}.minimize.svelte-4jfbq8{background-color:transparent;border:none;align-items:center;position:absolute;right:5px;top:0;cursor:pointer}")
                }, [-1, -1])
            }
        }
        function tn(e) {
            let t, n;
            return {
                c() {
                    t = A("desc"),
                    n = O(e[7])
                },
                m(e, i) {
                    w(e, t, i),
                    b(t, n)
                },
                p(e, t) {
                    128 & t && M(n, e[7])
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        function ti(e) {
            let t, n;
            return {
                c() {
                    t = A("title"),
                    n = O(e[6])
                },
                m(e, i) {
                    w(e, t, i),
                    b(t, n)
                },
                p(e, t) {
                    64 & t && M(n, e[6])
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        class tr extends e9 {
            constructor(t) {
                super(),
                e$(this, t, function e(t, n, i) {
                    let {size: r="1em"} = n
                      , {width: o=r} = n
                      , {height: s=r} = n
                      , {color: a="currentColor"} = n
                      , {viewBox: c="0 0 24 24"} = n
                      , {ariaLabel: l} = n
                      , {ariaHidden: u} = n
                      , {title: f} = n
                      , {desc: d} = n
                      , {class: h} = n;
                    return t.$$set = e => {
                        "size"in e && i(9, r = e.size),
                        "width"in e && i(0, o = e.width),
                        "height"in e && i(1, s = e.height),
                        "color"in e && i(2, a = e.color),
                        "viewBox"in e && i(3, c = e.viewBox),
                        "ariaLabel"in e && i(4, l = e.ariaLabel),
                        "ariaHidden"in e && i(5, u = e.ariaHidden),
                        "title"in e && i(6, f = e.title),
                        "desc"in e && i(7, d = e.desc),
                        "class"in e && i(8, h = e.class)
                    }
                    ,
                    [o, s, a, c, l, u, f, d, h, r]
                }, function t(n) {
                    let i, r, o, s = n[7] && tn(n), a = n[6] && ti(n);
                    return {
                        c() {
                            i = A("svg"),
                            s && s.c(),
                            r = C(),
                            a && a.c(),
                            D(o = A("path"), "d", "M4,5A2,2 0 0,0 2,7V17A2,2 0 0,0 4,19H20A2,2 0 0,0 22,17V7A2,2 0 0,0 20,5H4M4,7H20V17H4V7M5,8V10H7V8H5M8,8V10H10V8H8M11,8V10H13V8H11M14,8V10H16V8H14M17,8V10H19V8H17M5,11V13H7V11H5M8,11V13H10V11H8M11,11V13H13V11H11M14,11V13H16V11H14M17,11V13H19V11H17M8,14V16H16V14H8Z"),
                            D(o, "fill", n[2]),
                            D(i, "viewBox", n[3]),
                            D(i, "width", n[0]),
                            D(i, "height", n[1]),
                            D(i, "class", n[8]),
                            D(i, "aria-label", n[4]),
                            D(i, "aria-hidden", n[5])
                        },
                        m(e, t) {
                            w(e, i, t),
                            s && s.m(i, null),
                            b(i, r),
                            a && a.m(i, null),
                            b(i, o)
                        },
                        p(e, [t]) {
                            e[7] ? s ? s.p(e, t) : ((s = tn(e)).c(),
                            s.m(i, r)) : s && (s.d(1),
                            s = null),
                            e[6] ? a ? a.p(e, t) : ((a = ti(e)).c(),
                            a.m(i, o)) : a && (a.d(1),
                            a = null),
                            4 & t && D(o, "fill", e[2]),
                            8 & t && D(i, "viewBox", e[3]),
                            1 & t && D(i, "width", e[0]),
                            2 & t && D(i, "height", e[1]),
                            256 & t && D(i, "class", e[8]),
                            16 & t && D(i, "aria-label", e[4]),
                            32 & t && D(i, "aria-hidden", e[5])
                        },
                        i: e,
                        o: e,
                        d(e) {
                            e && E(i),
                            s && s.d(),
                            a && a.d()
                        }
                    }
                }, o, {
                    size: 9,
                    width: 0,
                    height: 1,
                    color: 2,
                    viewBox: 3,
                    ariaLabel: 4,
                    ariaHidden: 5,
                    title: 6,
                    desc: 7,
                    class: 8
                })
            }
        }
        let to = new class {
            keysPressed = new Set;
            keybinds = new Map;
            constructor() {
                window.addEventListener("keydown", e => {
                    this.keysPressed.add(e.key.toLowerCase());
                    e: for (let[t,n] of this.keybinds)
                        if (0 != t.size) {
                            for (let i of t)
                                if (!this.keysPressed.has(i))
                                    continue e;
                            n()
                        }
                }
                ),
                window.addEventListener("keyup", e => {
                    this.keysPressed.delete(e.key.toLowerCase())
                }
                )
            }
            addKeybind(e, t) {
                this.keybinds.set(e, t)
            }
            removeKeybind(e) {
                this.keybinds.delete(e)
            }
        }
        ;
        function ts(e) {
            let t;
            return {
                c() {
                    t = O("Re-record")
                },
                m(e, n) {
                    w(e, t, n)
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        function ta(e) {
            let t;
            return {
                c() {
                    t = O("Start recording")
                },
                m(e, n) {
                    w(e, t, n)
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        function tc(e) {
            let t;
            return {
                c() {
                    t = O("Stop recording")
                },
                m(e, n) {
                    w(e, t, n)
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        function tl(e) {
            let t, n = Array.from(e[0]).map(th).join(" + ") + "";
            return {
                c() {
                    t = O(n)
                },
                m(e, n) {
                    w(e, t, n)
                },
                p(e, i) {
                    1 & i && n !== (n = Array.from(e[0]).map(th).join(" + ") + "") && M(t, n)
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        function tu(e) {
            let t;
            function n(e, t) {
                return e[1] ? td : tf
            }
            let i = n(e)
              , r = i(e);
            return {
                c() {
                    r.c(),
                    t = C()
                },
                m(e, n) {
                    r.m(e, n),
                    w(e, t, n)
                },
                p(e, o) {
                    i !== (i = n(e)) && (r.d(1),
                    (r = i(e)) && (r.c(),
                    r.m(t.parentNode, t)))
                },
                d(e) {
                    e && E(t),
                    r.d(e)
                }
            }
        }
        function tf(e) {
            let t;
            return {
                c() {
                    t = O("No hotkey set")
                },
                m(e, n) {
                    w(e, t, n)
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        function td(e) {
            let t;
            return {
                c() {
                    t = O("Press any keys")
                },
                m(e, n) {
                    w(e, t, n)
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        let th = e => " " === e ? "Space" : e;
        class tp extends e9 {
            constructor(t) {
                super(),
                e$(this, t, function e(t, n, i) {
                    let r, {keys: o=new Set} = n, s = new Set(o), a = !1, c = j();
                    return V( () => {
                        r.showModal(),
                        r.addEventListener("close", () => {
                            c("close", new Set)
                        }
                        )
                    }
                    ),
                    t.$$set = e => {
                        "keys"in e && i(7, o = e.keys)
                    }
                    ,
                    [s, a, r, function(e) {
                        a && ("Escape" !== e.key ? (s.add(e.key.toLowerCase()),
                        i(0, s)) : i(1, a = !1))
                    }
                    , function() {
                        i(1, a = !a),
                        a && (s.clear(),
                        i(0, s))
                    }
                    , function() {
                        c("close", s)
                    }
                    , function() {
                        c("close", new Set)
                    }
                    , o, function(e) {
                        G.call(this, t, e)
                    }
                    , function(e) {
                        G.call(this, t, e)
                    }
                    , function(e) {
                        J[e ? "unshift" : "push"]( () => {
                            i(2, r = e)
                        }
                        )
                    }
                    , ]
                }, function t(n) {
                    let r, o, s, a, c, l, u, f, d, h, p, g, $, m, _;
                    function v(e, t) {
                        return e[1] ? tc : 0 === e[0].size ? ta : ts
                    }
                    let y = v(n)
                      , x = y(n);
                    function I(e, t) {
                        return 0 === e[0].size ? tu : tl
                    }
                    let A = I(n)
                      , C = A(n);
                    return {
                        c() {
                            r = k("dialog"),
                            (o = k("h2")).textContent = "Create Hotkey",
                            s = T(),
                            a = k("button"),
                            x.c(),
                            c = T(),
                            l = k("div"),
                            C.c(),
                            u = T(),
                            f = k("div"),
                            d = k("button"),
                            h = O("Confirm"),
                            g = T(),
                            ($ = k("button")).textContent = "No hotkey",
                            D(o, "class", "svelte-1j00okq"),
                            D(a, "class", "recordBtn svelte-1j00okq"),
                            D(l, "class", "hotkeyDisplay svelte-1j00okq"),
                            d.disabled = p = 0 === n[0].size,
                            D(d, "class", "confirm svelte-1j00okq"),
                            D($, "class", "cancel svelte-1j00okq"),
                            D(f, "class", "completeContainer svelte-1j00okq"),
                            D(r, "class", "svelte-1j00okq")
                        },
                        m(e, t) {
                            w(e, r, t),
                            b(r, o),
                            b(r, s),
                            b(r, a),
                            x.m(a, null),
                            b(r, c),
                            b(r, l),
                            C.m(l, null),
                            b(r, u),
                            b(r, f),
                            b(f, d),
                            b(d, h),
                            b(f, g),
                            b(f, $),
                            n[10](r),
                            m || (_ = [R(window, "keydown", n[3]), R(a, "click", n[4]), R(a, "keydown", P(n[9])), R(d, "click", n[5]), R($, "click", n[6]), R(r, "mousedown", S(n[8]))],
                            m = !0)
                        },
                        p(e, [t]) {
                            y !== (y = v(e)) && (x.d(1),
                            (x = y(e)) && (x.c(),
                            x.m(a, null))),
                            A === (A = I(e)) && C ? C.p(e, t) : (C.d(1),
                            (C = A(e)) && (C.c(),
                            C.m(l, null))),
                            1 & t && p !== (p = 0 === e[0].size) && (d.disabled = p)
                        },
                        i: e,
                        o: e,
                        d(e) {
                            e && E(r),
                            x.d(),
                            C.d(),
                            n[10](null),
                            m = !1,
                            i(_)
                        }
                    }
                }, o, {
                    keys: 7
                }, function e(t) {
                    x(t, "svelte-1j00okq", "dialog.svelte-1j00okq{width:400px;height:300px;border-radius:15px;background-color:white;border:3px solid black;display:flex;flex-direction:column}h2.svelte-1j00okq{width:100%;text-align:center}button[disabled].svelte-1j00okq{opacity:0.5;cursor:not-allowed}.recordBtn.svelte-1j00okq{width:100%;height:50px;border:none;background-color:#f0f0f0;cursor:pointer;border-radius:10px}.hotkeyDisplay.svelte-1j00okq{width:100%;text-align:center;height:80px;overflow-y:auto;margin-top:20px}.completeContainer.svelte-1j00okq{display:flex;justify-content:space-between;margin-top:20px}.confirm.svelte-1j00okq,.cancel.svelte-1j00okq{width:40%;border:none;border-radius:3px}.confirm.svelte-1j00okq{background-color:lightgreen}.cancel.svelte-1j00okq{background-color:lightcoral}")
                })
            }
        }
        function tg(t) {
            let n, i;
            return (n = new tp({
                props: {
                    keys: t[1]
                }
            })).$on("close", t[2]),
            {
                c() {
                    eh(n.$$.fragment)
                },
                m(e, t) {
                    ep(n, e, t),
                    i = !0
                },
                p: e,
                i(e) {
                    i || (el(n.$$.fragment, e),
                    i = !0)
                },
                o(e) {
                    eu(n.$$.fragment, e),
                    i = !1
                },
                d(e) {
                    eg(n, e)
                }
            }
        }
        class t$ extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    let {hotkeyId: r} = n
                      , o = j()
                      , s = !1
                      , a = new Set(eT[r] ?? []);
                    return V( () => {
                        to.addKeybind(a, () => {
                            o("trigger")
                        }
                        )
                    }
                    ),
                    t.$$set = e => {
                        "hotkeyId"in e && i(3, r = e.hotkeyId)
                    }
                    ,
                    [s, a, function(e) {
                        if (i(0, s = !1),
                        e.detail) {
                            var t, n;
                            for (let o of (a.clear(),
                            e.detail))
                                a.add(o);
                            t = r,
                            n = Array.from(a),
                            eT[t] = n,
                            e3("hotkeys", JSON.stringify(eT))
                        }
                    }
                    , r, () => i(0, s = !s), ]
                }, function e(t) {
                    let n, i, r, o, s, a, c = t[0] && tg(t);
                    return r = new tr({
                        props: {
                            width: 30,
                            height: 30
                        }
                    }),
                    {
                        c() {
                            c && c.c(),
                            n = T(),
                            i = k("button"),
                            eh(r.$$.fragment),
                            D(i, "class", "svelte-1tsrn0k")
                        },
                        m(e, l) {
                            c && c.m(e, l),
                            w(e, n, l),
                            w(e, i, l),
                            ep(r, i, null),
                            o = !0,
                            s || (a = R(i, "click", t[4]),
                            s = !0)
                        },
                        p(e, [t]) {
                            e[0] ? c ? (c.p(e, t),
                            1 & t && el(c, 1)) : ((c = tg(e)).c(),
                            el(c, 1),
                            c.m(n.parentNode, n)) : c && (ea(),
                            eu(c, 1, 1, () => {
                                c = null
                            }
                            ),
                            ec())
                        },
                        i(e) {
                            o || (el(c),
                            el(r.$$.fragment, e),
                            o = !0)
                        },
                        o(e) {
                            eu(c),
                            eu(r.$$.fragment, e),
                            o = !1
                        },
                        d(e) {
                            e && (E(n),
                            E(i)),
                            c && c.d(e),
                            eg(r),
                            s = !1,
                            a()
                        }
                    }
                }, o, {
                    hotkeyId: 3
                }, function e(t) {
                    x(t, "svelte-1tsrn0k", "button.svelte-1tsrn0k{background-color:transparent;border:none;height:30px;margin:0px;padding-right:0px}")
                })
            }
        }
        function t9(e) {
            let t, n;
            return (t = new t$({
                props: {
                    hotkeyId: e[2]
                }
            })).$on("trigger", e[6]),
            {
                c() {
                    eh(t.$$.fragment)
                },
                m(e, i) {
                    ep(t, e, i),
                    n = !0
                },
                p(e, n) {
                    let i = {};
                    4 & n && (i.hotkeyId = e[2]),
                    t.$set(i)
                },
                i(e) {
                    n || (el(t.$$.fragment, e),
                    n = !0)
                },
                o(e) {
                    eu(t.$$.fragment, e),
                    n = !1
                },
                d(e) {
                    eg(t, e)
                }
            }
        }
        class tm extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    let r, {$$slots: o={}, $$scope: s} = n, {disabled: a=null} = n, {disabledMsg: c} = n, {hotkeyId: l} = n, u = j(), f = !1;
                    return t.$$set = e => {
                        "disabled"in e && i(0, a = e.disabled),
                        "disabledMsg"in e && i(1, c = e.disabledMsg),
                        "hotkeyId"in e && i(2, l = e.hotkeyId),
                        "$$scope"in e && i(7, s = e.$$scope)
                    }
                    ,
                    [a, c, l, r, f, function() {
                        u("click")
                    }
                    , function() {
                        u("click"),
                        i(4, f = !0),
                        setTimeout( () => i(4, f = !1), 100)
                    }
                    , s, o, function(e) {
                        G.call(this, t, e)
                    }
                    , function(e) {
                        J[e ? "unshift" : "push"]( () => {
                            i(3, r = e)
                        }
                        )
                    }
                    , ]
                }, function e(t) {
                    let n, r, o, s, a, c, u, p, g = t[8].default, $ = l(g, t, t[7], null), m = t[2] && t9(t);
                    return {
                        c() {
                            n = k("div"),
                            r = k("button"),
                            $ && $.c(),
                            a = T(),
                            m && m.c(),
                            r.disabled = o = !0 === t[0] || void 0 === t[0],
                            D(r, "title", s = t[0] ? t[1] : void 0),
                            D(r, "class", "svelte-o69qzc"),
                            U(r, "active", t[4]),
                            D(n, "class", "wrap svelte-o69qzc")
                        },
                        m(e, i) {
                            w(e, n, i),
                            b(n, r),
                            $ && $.m(r, null),
                            t[10](r),
                            b(n, a),
                            m && m.m(n, null),
                            c = !0,
                            u || (p = [R(r, "click", t[5]), R(r, "keydown", P(t[9]))],
                            u = !0)
                        },
                        p(e, [t]) {
                            $ && $.p && (!c || 128 & t) && d($, g, e, e[7], c ? f(g, e[7], t, null) : h(e[7]), null),
                            (!c || 1 & t && o !== (o = !0 === e[0] || void 0 === e[0])) && (r.disabled = o),
                            (!c || 3 & t && s !== (s = e[0] ? e[1] : void 0)) && D(r, "title", s),
                            (!c || 16 & t) && U(r, "active", e[4]),
                            e[2] ? m ? (m.p(e, t),
                            4 & t && el(m, 1)) : ((m = t9(e)).c(),
                            el(m, 1),
                            m.m(n, null)) : m && (ea(),
                            eu(m, 1, 1, () => {
                                m = null
                            }
                            ),
                            ec())
                        },
                        i(e) {
                            c || (el($, e),
                            el(m),
                            c = !0)
                        },
                        o(e) {
                            eu($, e),
                            eu(m),
                            c = !1
                        },
                        d(e) {
                            e && E(n),
                            $ && $.d(e),
                            t[10](null),
                            m && m.d(),
                            u = !1,
                            i(p)
                        }
                    }
                }, o, {
                    disabled: 0,
                    disabledMsg: 1,
                    hotkeyId: 2
                }, function e(t) {
                    x(t, "svelte-o69qzc", ".wrap.svelte-o69qzc{display:flex;flex-wrap:nowrap;align-items:center;justify-content:space-between;margin:5px 10px}button.svelte-o69qzc{background-color:var(--buttonBackgroundColor);border:1px solid var(--buttonBorderColor);border-radius:5px;transition:transform 0.1s;flex-grow:1}button.svelte-o69qzc:disabled{opacity:0.5;cursor:not-allowed}button.svelte-o69qzc:active,button.active.svelte-o69qzc{transform:scale(0.95)}")
                })
            }
        }
        function t_(e) {
            let t;
            return {
                c() {
                    t = O(e[0])
                },
                m(e, n) {
                    w(e, t, n)
                },
                p(e, n) {
                    1 & n && M(t, e[0])
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        function tv(e) {
            let t;
            return {
                c() {
                    t = O("Close")
                },
                m(e, n) {
                    w(e, t, n)
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        function ty(e, t, n) {
            e.style.animation = `slide-${t}-${n} 0.2s ease-in-out forwards`,
            "out" == t ? (e.classList.remove("open"),
            setTimeout( () => {
                e.style.display = "none"
            }
            , 200)) : (e.style.display = "flex",
            e.classList.add("open"))
        }
        class t0 extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    let r, o, s, {$$slots: a={}, $$scope: c} = n, {name: l} = n;
                    return V( () => {
                        (s = function e(t, n) {
                            return t.matches(n) ? t : t.parentElement ? e(t.parentElement, n) : null
                        }(r, ".menu .children")).appendChild(r)
                    }
                    ),
                    t.$$set = e => {
                        "name"in e && i(0, l = e.name),
                        "$$scope"in e && i(6, c = e.$$scope)
                    }
                    ,
                    [l, r, function() {
                        (o = s.querySelector(".groupContent.open")) && ty(o, "out", "left"),
                        ty(r, "in", "right")
                    }
                    , function() {
                        ty(r, "out", "right"),
                        o && ty(o, "in", "left")
                    }
                    , a, function(e) {
                        J[e ? "unshift" : "push"]( () => {
                            i(1, r = e)
                        }
                        )
                    }
                    , c, ]
                }, function e(t) {
                    let n, i, r, o, s, a;
                    (n = new tm({
                        props: {
                            $$slots: {
                                default: [t_]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    })).$on("click", t[2]),
                    (o = new tm({
                        props: {
                            $$slots: {
                                default: [tv]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    })).$on("click", t[3]);
                    let c = t[4].default
                      , u = l(c, t, t[6], null);
                    return {
                        c() {
                            eh(n.$$.fragment),
                            i = T(),
                            r = k("div"),
                            eh(o.$$.fragment),
                            s = T(),
                            u && u.c(),
                            D(r, "class", "groupContent svelte-151a7uw")
                        },
                        m(e, c) {
                            ep(n, e, c),
                            w(e, i, c),
                            w(e, r, c),
                            ep(o, r, null),
                            b(r, s),
                            u && u.m(r, null),
                            t[5](r),
                            a = !0
                        },
                        p(e, [t]) {
                            let i = {};
                            65 & t && (i.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            n.$set(i);
                            let r = {};
                            64 & t && (r.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            o.$set(r),
                            u && u.p && (!a || 64 & t) && d(u, c, e, e[6], a ? f(c, e[6], t, null) : h(e[6]), null)
                        },
                        i(e) {
                            a || (el(n.$$.fragment, e),
                            el(o.$$.fragment, e),
                            el(u, e),
                            a = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            eu(o.$$.fragment, e),
                            eu(u, e),
                            a = !1
                        },
                        d(e) {
                            e && (E(i),
                            E(r)),
                            eg(n, e),
                            eg(o),
                            u && u.d(e),
                            t[5](null)
                        }
                    }
                }, o, {
                    name: 0
                }, function e(t) {
                    x(t, "svelte-151a7uw", ".groupContent.svelte-151a7uw{transform:translateX(100%);opacity:0;pointer-events:none;display:none}@keyframes slide-in-left{0%{transform:translateX(-100%);opacity:0;pointer-events:none}100%{transform:translateX(0%);opacity:1;pointer-events:all}}@keyframes slide-out-left{0%{transform:translateX(0%);opacity:1;pointer-events:all}100%{transform:translateX(-100%);opacity:0;pointer-events:none}}@keyframes slide-in-right{0%{transform:translateX(100%);opacity:0;pointer-events:none}100%{transform:translateX(0%);opacity:1;pointer-events:all}}@keyframes slide-out-right{0%{transform:translateX(0%);opacity:1;pointer-events:all}100%{transform:translateX(100%);opacity:0;pointer-events:none}}")
                })
            }
        }
        function tb(e) {
            let t, n, r, o, s, a;
            return {
                c() {
                    t = k("div"),
                    (n = k("div")).textContent = "Opacity",
                    r = T(),
                    D(o = k("input"), "type", "range"),
                    D(o, "min", e[2]),
                    D(o, "max", "1"),
                    D(o, "step", "0.01"),
                    D(o, "class", "alphaInput svelte-qar3ci"),
                    D(t, "class", "opacityBlock svelte-qar3ci")
                },
                m(i, c) {
                    w(i, t, c),
                    b(t, n),
                    b(t, r),
                    b(t, o),
                    L(o, e[4]),
                    s || (a = [R(o, "change", e[11]), R(o, "input", e[11]), R(o, "input", e[6]), R(o, "mousedown", S(e[10]))],
                    s = !0)
                },
                p(e, t) {
                    4 & t && D(o, "min", e[2]),
                    16 & t && L(o, e[4])
                },
                d(e) {
                    e && E(t),
                    s = !1,
                    i(a)
                }
            }
        }
        class tx extends e9 {
            constructor(t) {
                super(),
                e$(this, t, function e(t, n, i) {
                    var r, o, s;
                    let {text: a} = n
                      , {color: c} = n
                      , {bindValue: l} = n
                      , {allowOpacity: u=!0} = n
                      , {minOpactiy: f=0} = n
                      , d = c ?? eA[l] ?? "rgba(255, 255, 255, 1)"
                      , h = function(e) {
                        let[t,n,i,r] = e.replace("rgba(", "").replace(")", "").split(",").map(e => parseFloat(e.trim()));
                        return {
                            r: t,
                            g: n,
                            b: i,
                            a: r
                        }
                    }(d)
                      , p = (r = h.r,
                    o = h.g,
                    s = h.b,
                    "#" + e6(r) + e6(o) + e6(s))
                      , g = h.a
                      , $ = d
                      , m = e0(function(e) {
                        var t, n;
                        t = l,
                        n = e,
                        eA[t] = n,
                        e3("cssVars", JSON.stringify(eA))
                    }, 100);
                    return t.$$set = e => {
                        "text"in e && i(0, a = e.text),
                        "color"in e && i(7, c = e.color),
                        "bindValue"in e && i(8, l = e.bindValue),
                        "allowOpacity"in e && i(1, u = e.allowOpacity),
                        "minOpactiy"in e && i(2, f = e.minOpactiy)
                    }
                    ,
                    [a, u, f, p, g, $, function() {
                        let e = function(e) {
                            let[t,n,i] = e.replace("#", "").match(/.{1,2}/g).map(e => parseInt(e, 16));
                            return {
                                r: t,
                                g: n,
                                b: i
                            }
                        }(p)
                          , t = `rgba(${e.r}, ${e.g}, ${e.b}, ${g})`;
                        l && (m(t),
                        document.documentElement.style.setProperty(`--${l}`, t)),
                        i(5, $ = t),
                        c && i(7, c = t)
                    }
                    , c, l, function(e) {
                        G.call(this, t, e)
                    }
                    , function(e) {
                        G.call(this, t, e)
                    }
                    , function() {
                        i(4, g = N(this.value))
                    }
                    , function() {
                        i(3, p = this.value)
                    }
                    , ]
                }, function t(n) {
                    let r, o, s, a, c, l, u, f, d, h, p, g = n[1] && tb(n);
                    return {
                        c() {
                            r = k("div"),
                            o = k("div"),
                            s = O(n[0]),
                            a = T(),
                            c = k("div"),
                            g && g.c(),
                            l = T(),
                            u = k("input"),
                            f = T(),
                            d = k("div"),
                            D(u, "type", "color"),
                            D(u, "class", "colorInput svelte-qar3ci"),
                            D(d, "class", "preview svelte-qar3ci"),
                            q(d, "background-color", n[5]),
                            D(c, "class", "inputs svelte-qar3ci"),
                            D(r, "class", "colorPicker svelte-qar3ci")
                        },
                        m(e, t) {
                            w(e, r, t),
                            b(r, o),
                            b(o, s),
                            b(r, a),
                            b(r, c),
                            g && g.m(c, null),
                            b(c, l),
                            b(c, u),
                            L(u, n[3]),
                            b(c, f),
                            b(c, d),
                            h || (p = [R(u, "input", n[12]), R(u, "input", n[6]), R(u, "mousedown", S(n[9]))],
                            h = !0)
                        },
                        p(e, [t]) {
                            1 & t && M(s, e[0]),
                            e[1] ? g ? g.p(e, t) : ((g = tb(e)).c(),
                            g.m(c, l)) : g && (g.d(1),
                            g = null),
                            8 & t && L(u, e[3]),
                            32 & t && q(d, "background-color", e[5])
                        },
                        i: e,
                        o: e,
                        d(e) {
                            e && E(r),
                            g && g.d(),
                            h = !1,
                            i(p)
                        }
                    }
                }, o, {
                    text: 0,
                    color: 7,
                    bindValue: 8,
                    allowOpacity: 1,
                    minOpactiy: 2
                }, function e(t) {
                    x(t, "svelte-qar3ci", ".colorPicker.svelte-qar3ci{width:100%;display:flex;flex-direction:column;align-items:center}.inputs.svelte-qar3ci{display:flex;align-items:center;justify-content:space-around;width:100%;max-width:100%}.opacityBlock.svelte-qar3ci{display:flex;flex-direction:column;align-items:center}.alphaInput.svelte-qar3ci{flex-shrink:1;min-width:0;width:100%}.colorInput.svelte-qar3ci{flex-shrink:0}.preview.svelte-qar3ci{width:50px;height:50px;border-radius:10px;flex-shrink:0;border:2px solid black}")
                })
            }
        }
        function tw(e) {
            let t;
            return {
                c() {
                    t = O("Reset All Styles")
                },
                m(e, n) {
                    w(e, t, n)
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        class t8 extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t) {
                    return [function() {
                        if (confirm("Are you sure you want to reset all styles?")) {
                            var e;
                            for (let t in e4)
                                document.documentElement.style.setProperty(`--${t}`, e4[t]);
                            eA = Object.assign({}, eA, e = e4),
                            e3("cssVars", JSON.stringify(eA))
                        }
                    }
                    , ]
                }, function e(t) {
                    let n, i;
                    return (n = new tm({
                        props: {
                            $$slots: {
                                default: [tw]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    })).$on("click", t[0]),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            i = !0
                        },
                        p(e, [t]) {
                            let i = {};
                            2 & t && (i.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            n.$set(i)
                        },
                        i(e) {
                            i || (el(n.$$.fragment, e),
                            i = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            i = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {})
            }
        }
        function t3(e) {
            let t;
            return {
                c() {
                    t = O(e[2])
                },
                m(e, n) {
                    w(e, t, n)
                },
                p(e, n) {
                    4 & n && M(t, e[2])
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        function tE(e) {
            let t;
            return {
                c() {
                    t = O(e[1])
                },
                m(e, n) {
                    w(e, t, n)
                },
                p(e, n) {
                    2 & n && M(t, e[1])
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        function t4(e) {
            let t;
            function n(e, t) {
                return e[0] ? tE : t3
            }
            let i = n(e)
              , r = i(e);
            return {
                c() {
                    r.c(),
                    t = C()
                },
                m(e, n) {
                    r.m(e, n),
                    w(e, t, n)
                },
                p(e, o) {
                    i === (i = n(e)) && r ? r.p(e, o) : (r.d(1),
                    (r = i(e)) && (r.c(),
                    r.m(t.parentNode, t)))
                },
                d(e) {
                    e && E(t),
                    r.d(e)
                }
            }
        }
        class tI extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    let {onText: r} = n
                      , {offText: o} = n
                      , {enabled: s=!1} = n
                      , {disabled: a=null} = n
                      , {disabledMsg: c} = n
                      , {hotkeyId: l} = n
                      , u = j();
                    return t.$$set = e => {
                        "onText"in e && i(1, r = e.onText),
                        "offText"in e && i(2, o = e.offText),
                        "enabled"in e && i(0, s = e.enabled),
                        "disabled"in e && i(3, a = e.disabled),
                        "disabledMsg"in e && i(4, c = e.disabledMsg),
                        "hotkeyId"in e && i(5, l = e.hotkeyId)
                    }
                    ,
                    [s, r, o, a, c, l, function() {
                        i(0, s = !s),
                        u("click", s)
                    }
                    , ]
                }, function e(t) {
                    let n, i;
                    return (n = new tm({
                        props: {
                            disabled: t[3],
                            disabledMsg: t[4],
                            hotkeyId: t[5],
                            $$slots: {
                                default: [t4]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    })).$on("click", t[6]),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            i = !0
                        },
                        p(e, [t]) {
                            let i = {};
                            8 & t && (i.disabled = e[3]),
                            16 & t && (i.disabledMsg = e[4]),
                            32 & t && (i.hotkeyId = e[5]),
                            263 & t && (i.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            n.$set(i)
                        },
                        i(e) {
                            i || (el(n.$$.fragment, e),
                            i = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            i = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {
                    onText: 1,
                    offText: 2,
                    enabled: 0,
                    disabled: 3,
                    disabledMsg: 4,
                    hotkeyId: 5
                })
            }
        }
        class tk extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    let r, o, s;
                    c(t, eX, e => i(10, o = e));
                    let {transportType: a} = eK;
                    c(t, a, e => i(8, s = e));
                    let l, u = [], f = null, d = null, h = [], p = -1;
                    function g() {
                        if ("colyseus" === s) {
                            if (null == d)
                                return;
                            let e = u.find(e => e._id == d);
                            if (!e)
                                return;
                            let t = {
                                key: "answered",
                                deviceId: f,
                                data: {}
                            };
                            if ("text" == e.type)
                                t.data.answer = e.answers[0].text;
                            else {
                                let n = e.answers.find(e => e.correct)._id;
                                t.data.answer = n
                            }
                            eK.sendMessage("MESSAGE_FOR_DEVICE", t)
                        } else {
                            let i, r = h[p], o = u.find(e => e._id == r);
                            if (!o)
                                return;
                            i = "mc" == o.type ? o.answers.find(e => e.correct)._id : o.answers[0].text,
                            eK.sendMessage("QUESTION_ANSWERED", {
                                answer: i,
                                questionId: r
                            })
                        }
                    }
                    return eK.addEventListener("deviceChanges", e => {
                        for (let {id: t, data: n} of e.detail)
                            for (let r in n)
                                "GLOBAL_questions" == r && (i(3, u = JSON.parse(n[r])),
                                console.log("Got questions", u),
                                i(4, f = t)),
                                r == `PLAYER_${o}_currentQuestionId` && i(5, d = n[r])
                    }
                    ),
                    eK.addEventListener("blueboatMessage", e => {
                        if ("STATE_UPDATE" == e.detail?.key)
                            switch (e.detail.data.type) {
                            case "GAME_QUESTIONS":
                                i(3, u = e.detail.data.value);
                                break;
                            case "PLAYER_QUESTION_LIST":
                                i(6, h = e.detail.data.value.questionList),
                                i(7, p = e.detail.data.value.questionIndex);
                                break;
                            case "PLAYER_QUESTION_LIST_INDEX":
                                i(7, p = e.detail.data.value)
                            }
                    }
                    ),
                    t.$$.update = () => {
                        504 & t.$$.dirty && i(0, r = "colyseus" == s ? u.length > 0 && null != d && null != f : h.length > 0 && u.length > 0 && -1 != p)
                    }
                    ,
                    [r, a, function(e) {
                        e.detail ? l = setInterval(g, 1e3) : clearInterval(l)
                    }
                    , u, f, d, h, p, s, ]
                }, function e(t) {
                    let n, i;
                    return (n = new tI({
                        props: {
                            disabled: !t[0],
                            disabledMsg: "Questions haven't loaded yet",
                            onText: "Stop auto answering",
                            offText: "Start auto answering",
                            enabled: !1,
                            hotkeyId: "autoAnswer"
                        }
                    })).$on("click", t[2]),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            i = !0
                        },
                        p(e, [t]) {
                            let i = {};
                            1 & t && (i.disabled = !e[0]),
                            n.$set(i)
                        },
                        i(e) {
                            i || (el(n.$$.fragment, e),
                            i = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            i = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {})
            }
        }
        class tA extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    let r = !0;
                    return to.addKeybind(new Set(["enter"]), function() {
                        if (!r)
                            return;
                        let e = eC()
                          , t = e?.stores?.phaser?.scene?.worldManager?.devices?.devicesInView
                          , n = e?.stores?.phaser?.mainCharacter?.body;
                        if (!t || !n)
                            return;
                        let i = null
                          , o = 1 / 0;
                        for (let s of t) {
                            if (0 == s.interactiveZones.zones.length)
                                continue;
                            let a = Math.sqrt(Math.pow(s.x - n.x, 2) + Math.pow(s.y - n.y, 2));
                            a < o && (i = s,
                            o = a)
                        }
                        i && i?.interactiveZones?.onInteraction?.()
                    }),
                    [r, function(e) {
                        i(0, r = e)
                    }
                    , ]
                }, function e(t) {
                    let n, i, r;
                    function o(e) {
                        t[1](e)
                    }
                    let s = {
                        onText: "Stop instant use",
                        offText: "Enable instant use",
                        hotkeyId: "instantUse"
                    };
                    return void 0 !== t[0] && (s.enabled = t[0]),
                    n = new tI({
                        props: s
                    }),
                    J.push( () => ed(n, "enabled", o)),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            r = !0
                        },
                        p(e, [t]) {
                            let r = {};
                            !i && 1 & t && (i = !0,
                            r.enabled = e[0],
                            ee( () => i = !1)),
                            n.$set(r)
                        },
                        i(e) {
                            r || (el(n.$$.fragment, e),
                            r = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            r = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {})
            }
        }
        let tO = ["dayOne", "echoAgent", "stripeDoubleGreen", "mustache", "vortexAgent", "grayGradient", "redNinja", "sprinklesRed", "redDeliciousApple", "sunny", "fadedBlueGradient", "glassHalfFull", "whiteAndBlueVerticalStripes", "polkaDotBlueAndYellow", "pinkPaste", "volcanoCracks", "mustachePink", "mountainAndSun", "camoTan", "redDinoCostume", "stripeDoubleRed", "coolRedBlueGradient", "pencilPack", "glyphsYellowBrown", "camoBlue", "purplePaste", "galaxy", "luchador", "fox", "pumpkin", "rockyWest", "mummy", "ghostCostume", "fifthBirthday", "corn", "feast", "pumpkinPie", "frostBuddy", "polkaDotWhiteAndRed", "festiveOnesieBlue", "festiveOnesieRed", "festiveOnesieGreen", "festiveOnesieTan", "gift", "hotChocolate", "snowman", "snowglobe", "mustacheSanta", "firework", "polkaDotFestiveReverse", "polkaDotFestive", "puzzleYellowPurple", "puzzleGreenBlue", "puzzleOrangeBlue", "puzzleGrayWhite", "puzzleRedGreen", "roses", "heart", "hamster", "leprechaun", "cellGold", "pirate", "constellationPurpleYellow", "constellationBlackGreen", "constellationBlackWhite", "constellationPinkGreen", "constellationYellowPink", "detective", "sketch", "astroHelmet", "mustacheBrown", "yinYang", "fisher", "coffee", "partyPineapple", "construction", "graduate", "graduateBlue", "stripeDoublePurple", "bananaSplit", "rainbowWave", "rockstar", "mountain", "tent", "goat", "daisy", "climber", "cookie", "zebra", "diamondRainbow", "circuitGreen", "circuitBlue", "circuitGray", "clock", "squiggles", "autumnTree", "crashTestDummy", "stripeDoubleYellow", "witch", "skeleton", "spiderWeb", "trickTreat", "calacaOne", "turkey", "farmer", "knight", "yellowCracksPurple", "arcticFox", "whistle", "penguinBlue", "goldenHotChocolate", "blastball", "blastballGimchester", "blastballKitcelona", "pufferJacket", "christmasTree", "rudolph", "snowball", "santaClaus", "causticWaterBlue", "causticWaterRed", "causticWaterGreen", "causticWaterCaribe", "causticWaterOcean", "causticWaterPurple", "taco", "gimKing", "sketchBlue", "clown", "camoGreen", "cellBlue", "burger", "sprinklesChocolate", "glyphsOrangeBlue", "frozenMummy", "evilPlantGreen", "evilPlantPink", "gamerGreen", "gamerPink", "gamerPurple", "gamerYellow", "sentryRobot", "8bit", "redDino", "calacaTwo", "calacaThree", "yarn", "racoon", "pilot", "shark", "redPanda", "marshmallow", "discoBall", "incognito", "dragon", "golden", "valenTime", "referee", "pilot", "sprinklesChocolate", "miningCart", "rainCloud", "watermelon", "terrainBlock", "floatingTube", "miner", "sproutingFlower", "luckyClover", "shark", "axolotlPink", "axolotlBlue", "axolotlYellow", "astroCaptain", "tuxedo", "blacksmith"]
          , t2 = ["origin_token", "fire_notes", "banana_peel", "rainbow_dots", "dust_particles", "bubble", "flowers", "metal_spring", "candy", "day_of_the_dead", "autumn_leaves", "corn", "hearts", "stars", "yin_yang", "puzzle_pieces", "taco", "blastball_phrases", "penguin_footprints", "blastball", "cupid_arrow", "birds", "mining_terrains", "beachball", "clovers", "easter_eggs"];
        function t1(e, t, n) {
            let i = e.slice();
            return i[4] = t[n],
            i
        }
        function tT(e) {
            let t, n, i, r = e[4] + "";
            return {
                c() {
                    t = k("option"),
                    n = O(r),
                    t.__value = i = e[4],
                    L(t, t.__value)
                },
                m(e, i) {
                    w(e, t, i),
                    b(t, n)
                },
                p(e, o) {
                    2 & o && r !== (r = e[4] + "") && M(n, r),
                    2 & o && i !== (i = e[4]) && (t.__value = i,
                    L(t, t.__value))
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        class t6 extends e9 {
            constructor(t) {
                super(),
                e$(this, t, function e(t, n, i) {
                    let {selectOptions: r=[]} = n
                      , {value: o=""} = n;
                    return t.$$set = e => {
                        "selectOptions"in e && i(1, r = e.selectOptions),
                        "value"in e && i(0, o = e.value)
                    }
                    ,
                    [o, r, function(e) {
                        i(0, o = e.target.value)
                    }
                    , function() {
                        i(0, o = this.value)
                    }
                    , ]
                }, function t(n) {
                    let r, o, s, a, c, l, u = ef(n[1]), f = [];
                    for (let d = 0; d < u.length; d += 1)
                        f[d] = tT(t1(n, u, d));
                    return {
                        c() {
                            r = k("div"),
                            o = k("input"),
                            s = T(),
                            a = k("select");
                            for (let e = 0; e < f.length; e += 1)
                                f[e].c();
                            D(o, "spellcheck", "false"),
                            D(o, "class", "svelte-bgasye"),
                            D(a, "class", "svelte-bgasye"),
                            D(r, "class", "container svelte-bgasye")
                        },
                        m(e, t) {
                            w(e, r, t),
                            b(r, o),
                            L(o, n[0]),
                            b(r, s),
                            b(r, a);
                            for (let i = 0; i < f.length; i += 1)
                                f[i] && f[i].m(a, null);
                            c || (l = [R(o, "input", n[3]), R(a, "change", n[2])],
                            c = !0)
                        },
                        p(e, [t]) {
                            if (1 & t && o.value !== e[0] && L(o, e[0]),
                            2 & t) {
                                let n;
                                for (u = ef(e[1]),
                                n = 0; n < u.length; n += 1) {
                                    let i = t1(e, u, n);
                                    f[n] ? f[n].p(i, t) : (f[n] = tT(i),
                                    f[n].c(),
                                    f[n].m(a, null))
                                }
                                for (; n < f.length; n += 1)
                                    f[n].d(1);
                                f.length = u.length
                            }
                        },
                        i: e,
                        o: e,
                        d(e) {
                            e && E(r),
                            I(f, e),
                            c = !1,
                            i(l)
                        }
                    }
                }, o, {
                    selectOptions: 1,
                    value: 0
                }, function e(t) {
                    x(t, "svelte-bgasye", ".container.svelte-bgasye{display:flex;padding:5px 10px;width:100%;justify-items:center;align-self:center}input.svelte-bgasye{flex-grow:1;color:black}select.svelte-bgasye{width:20px;color:black}")
                })
            }
        }
        function tC(e) {
            let t;
            return {
                c() {
                    t = O("Apply")
                },
                m(e, n) {
                    w(e, t, n)
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        function tR(e) {
            let t, n, i, r, o, s, a, c, l, u, f, d, h, p;
            function g(t) {
                e[4](t)
            }
            let $ = {
                selectOptions: tO
            };
            function m(t) {
                e[5](t)
            }
            void 0 !== e[0] && ($.value = e[0]),
            o = new t6({
                props: $
            }),
            J.push( () => ed(o, "value", g));
            let _ = {
                selectOptions: t2
            };
            return void 0 !== e[1] && (_.value = e[1]),
            u = new t6({
                props: _
            }),
            J.push( () => ed(u, "value", m)),
            (h = new tm({
                props: {
                    disabled: !e[2],
                    disabledMsg: "Character hasn't loaded",
                    $$slots: {
                        default: [tC]
                    },
                    $$scope: {
                        ctx: e
                    }
                }
            })).$on("click", e[3]),
            {
                c() {
                    (t = k("div")).textContent = "These only work client-side. Nobody else can see these cosmetics.",
                    n = T(),
                    (i = k("div")).textContent = "Skin ID",
                    r = T(),
                    eh(o.$$.fragment),
                    a = T(),
                    (c = k("div")).textContent = "Trail ID",
                    l = T(),
                    eh(u.$$.fragment),
                    d = T(),
                    eh(h.$$.fragment),
                    D(t, "class", "disclaimer svelte-1ychv30"),
                    D(i, "class", "description svelte-1ychv30"),
                    D(c, "class", "description svelte-1ychv30")
                },
                m(e, s) {
                    w(e, t, s),
                    w(e, n, s),
                    w(e, i, s),
                    w(e, r, s),
                    ep(o, e, s),
                    w(e, a, s),
                    w(e, c, s),
                    w(e, l, s),
                    ep(u, e, s),
                    w(e, d, s),
                    ep(h, e, s),
                    p = !0
                },
                p(e, t) {
                    let n = {};
                    !s && 1 & t && (s = !0,
                    n.value = e[0],
                    ee( () => s = !1)),
                    o.$set(n);
                    let i = {};
                    !f && 2 & t && (f = !0,
                    i.value = e[1],
                    ee( () => f = !1)),
                    u.$set(i);
                    let r = {};
                    4 & t && (r.disabled = !e[2]),
                    256 & t && (r.$$scope = {
                        dirty: t,
                        ctx: e
                    }),
                    h.$set(r)
                },
                i(e) {
                    p || (el(o.$$.fragment, e),
                    el(u.$$.fragment, e),
                    el(h.$$.fragment, e),
                    p = !0)
                },
                o(e) {
                    eu(o.$$.fragment, e),
                    eu(u.$$.fragment, e),
                    eu(h.$$.fragment, e),
                    p = !1
                },
                d(e) {
                    e && (E(t),
                    E(n),
                    E(i),
                    E(r),
                    E(a),
                    E(c),
                    E(l),
                    E(d)),
                    eg(o, e),
                    eg(u, e),
                    eg(h, e)
                }
            }
        }
        class tP extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    let r;
                    c(t, eX, e => i(6, r = e));
                    let o = ""
                      , s = ""
                      , a = !1
                      , l = setInterval( () => {
                        let e = eC()?.stores?.phaser?.scene?.characterManager?.characters?.get(r);
                        e && (i(0, o = e.skin.skinId),
                        i(1, s = e.characterTrail.currentAppearanceId),
                        i(2, a = !0),
                        clearInterval(l))
                    }
                    , 500);
                    return F( () => {
                        clearInterval(l)
                    }
                    ),
                    [o, s, a, function() {
                        let e = eC()?.stores?.phaser?.scene?.characterManager?.characters?.get(r);
                        if (e) {
                            if ("" != o) {
                                let t = o;
                                t.startsWith("character_") || (t = "character_" + t),
                                e.skin.updateSkin({
                                    id: t
                                })
                            }
                            if ("" != s) {
                                let n = s;
                                n.startsWith("trail_") || (n = "trail_" + n),
                                e.characterTrail.updateAppearance(n)
                            }
                        }
                    }
                    , function(e) {
                        i(0, o = e)
                    }
                    , function(e) {
                        i(1, s = e)
                    }
                    , ]
                }, function e(t) {
                    let n, i;
                    return n = new t0({
                        props: {
                            name: "Cosmetic Picker",
                            $$slots: {
                                default: [tR]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    }),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            i = !0
                        },
                        p(e, [t]) {
                            let i = {};
                            263 & t && (i.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            n.$set(i)
                        },
                        i(e) {
                            i || (el(n.$$.fragment, e),
                            i = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            i = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {}, function e(t) {
                    x(t, "svelte-1ychv30", ".disclaimer.svelte-1ychv30{margin-left:5px;margin-right:5px;text-align:center}.description.svelte-1ychv30{width:100%;text-align:center}")
                })
            }
        }
        let t7 = [{
            question: {
                background: "rgba(48, 63, 159, 1)",
                text: "rgba(255, 255, 255, 1)"
            },
            palette: [{
                background: "rgba(119, 19, 34, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(168, 92, 21, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(13, 107, 51, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(7, 98, 150, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, ]
        }, {
            question: {
                background: "rgba(108, 47, 0, 1)",
                text: "rgba(255, 255, 255, 1)"
            },
            palette: [{
                background: "rgba(158, 104, 42, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(181, 71, 48, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(138, 151, 72, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(241, 185, 48, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, ]
        }, {
            question: {
                background: "rgba(0, 10, 18, 1)",
                text: "rgba(255, 255, 255, 1)"
            },
            palette: [{
                background: "rgba(38, 50, 56, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(55, 71, 79, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(69, 90, 100, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(84, 110, 122, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, ]
        }, {
            question: {
                background: "rgba(13, 0, 25, 1)",
                text: "rgba(255, 255, 255, 1)"
            },
            palette: [{
                background: "rgba(34, 0, 68, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(51, 0, 102, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(62, 0, 124, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(79, 23, 135, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, ]
        }, {
            question: {
                background: "rgba(0, 0, 99, 1)",
                text: "rgba(255, 255, 255, 1)"
            },
            palette: [{
                background: "rgba(40, 53, 147, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(7, 98, 150, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(2, 119, 189, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(21, 101, 192, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, ]
        }, {
            question: {
                background: "rgba(76, 61, 51, 1)",
                text: "rgba(255, 255, 255, 1)"
            },
            palette: [{
                background: "rgba(56, 86, 69, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(66, 92, 73, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(65, 86, 65, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(76, 99, 73, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, ]
        }, {
            question: {
                background: "rgba(127, 116, 150, 1)",
                text: "rgba(255, 255, 255, 1)"
            },
            palette: [{
                background: "rgba(244, 111, 90, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(237, 113, 45, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(122, 89, 106, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(232, 171, 60, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, ]
        }, {
            question: {
                background: "rgba(255, 191, 209, 1)",
                text: "rgba(67, 67, 67, 1)"
            },
            palette: [{
                background: "rgba(255, 166, 158, 1)",
                text: "rgba(91, 91, 91, 1)"
            }, {
                background: "rgba(252, 246, 191, 1)",
                text: "rgba(91, 91, 91, 1)"
            }, {
                background: "rgba(208, 244, 222, 1)",
                text: "rgba(91, 91, 91, 1)"
            }, {
                background: "rgba(147, 225, 216, 1)",
                text: "rgba(91, 91, 91, 1)"
            }, ]
        }, {
            question: {
                background: "rgba(156, 0, 34, 1)",
                text: "rgba(255, 255, 255, 1)"
            },
            palette: [{
                background: "rgba(0, 29, 59, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(255, 174, 82, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(254, 89, 99, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, {
                background: "rgba(167, 28, 148, 1)",
                text: "rgba(255, 255, 255, 1)"
            }, ]
        }, {
            question: {
                background: "rgba(0, 0, 0, 1)",
                text: "rgba(255, 205, 43, 1)"
            },
            palette: [{
                background: "rgba(255, 205, 43, 1)",
                text: "rgba(0, 0, 0, 1)"
            }, {
                background: "rgba(255, 199, 33, 1)",
                text: "rgba(0, 0, 0, 1)"
            }, {
                background: "rgba(255, 209, 71, 1)",
                text: "rgba(0, 0, 0, 1)"
            }, {
                background: "rgba(255, 205, 56, 1)",
                text: "rgba(0, 0, 0, 1)"
            }, ]
        }, ];
        function tS(e) {
            let t, n;
            return {
                c() {
                    t = A("desc"),
                    n = O(e[7])
                },
                m(e, i) {
                    w(e, t, i),
                    b(t, n)
                },
                p(e, t) {
                    128 & t && M(n, e[7])
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        function tD(e) {
            let t, n;
            return {
                c() {
                    t = A("title"),
                    n = O(e[6])
                },
                m(e, i) {
                    w(e, t, i),
                    b(t, n)
                },
                p(e, t) {
                    64 & t && M(n, e[6])
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        class tN extends e9 {
            constructor(t) {
                super(),
                e$(this, t, function e(t, n, i) {
                    let {size: r="1em"} = n
                      , {width: o=r} = n
                      , {height: s=r} = n
                      , {color: a="currentColor"} = n
                      , {viewBox: c="0 0 24 24"} = n
                      , {ariaLabel: l} = n
                      , {ariaHidden: u} = n
                      , {title: f} = n
                      , {desc: d} = n
                      , {class: h} = n;
                    return t.$$set = e => {
                        "size"in e && i(9, r = e.size),
                        "width"in e && i(0, o = e.width),
                        "height"in e && i(1, s = e.height),
                        "color"in e && i(2, a = e.color),
                        "viewBox"in e && i(3, c = e.viewBox),
                        "ariaLabel"in e && i(4, l = e.ariaLabel),
                        "ariaHidden"in e && i(5, u = e.ariaHidden),
                        "title"in e && i(6, f = e.title),
                        "desc"in e && i(7, d = e.desc),
                        "class"in e && i(8, h = e.class)
                    }
                    ,
                    [o, s, a, c, l, u, f, d, h, r]
                }, function t(n) {
                    let i, r, o, s = n[7] && tS(n), a = n[6] && tD(n);
                    return {
                        c() {
                            i = A("svg"),
                            s && s.c(),
                            r = C(),
                            a && a.c(),
                            D(o = A("path"), "d", "M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"),
                            D(o, "fill", n[2]),
                            D(i, "viewBox", n[3]),
                            D(i, "width", n[0]),
                            D(i, "height", n[1]),
                            D(i, "class", n[8]),
                            D(i, "aria-label", n[4]),
                            D(i, "aria-hidden", n[5])
                        },
                        m(e, t) {
                            w(e, i, t),
                            s && s.m(i, null),
                            b(i, r),
                            a && a.m(i, null),
                            b(i, o)
                        },
                        p(e, [t]) {
                            e[7] ? s ? s.p(e, t) : ((s = tS(e)).c(),
                            s.m(i, r)) : s && (s.d(1),
                            s = null),
                            e[6] ? a ? a.p(e, t) : ((a = tD(e)).c(),
                            a.m(i, o)) : a && (a.d(1),
                            a = null),
                            4 & t && D(o, "fill", e[2]),
                            8 & t && D(i, "viewBox", e[3]),
                            1 & t && D(i, "width", e[0]),
                            2 & t && D(i, "height", e[1]),
                            256 & t && D(i, "class", e[8]),
                            16 & t && D(i, "aria-label", e[4]),
                            32 & t && D(i, "aria-hidden", e[5])
                        },
                        i: e,
                        o: e,
                        d(e) {
                            e && E(i),
                            s && s.d(),
                            a && a.d()
                        }
                    }
                }, o, {
                    size: 9,
                    width: 0,
                    height: 1,
                    color: 2,
                    viewBox: 3,
                    ariaLabel: 4,
                    ariaHidden: 5,
                    title: 6,
                    desc: 7,
                    class: 8
                })
            }
        }
        function tM(e) {
            let t, n;
            return {
                c() {
                    t = A("desc"),
                    n = O(e[7])
                },
                m(e, i) {
                    w(e, t, i),
                    b(t, n)
                },
                p(e, t) {
                    128 & t && M(n, e[7])
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        function tL(e) {
            let t, n;
            return {
                c() {
                    t = A("title"),
                    n = O(e[6])
                },
                m(e, i) {
                    w(e, t, i),
                    b(t, n)
                },
                p(e, t) {
                    64 & t && M(n, e[6])
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        class t5 extends e9 {
            constructor(t) {
                super(),
                e$(this, t, function e(t, n, i) {
                    let {size: r="1em"} = n
                      , {width: o=r} = n
                      , {height: s=r} = n
                      , {color: a="currentColor"} = n
                      , {viewBox: c="0 0 24 24"} = n
                      , {ariaLabel: l} = n
                      , {ariaHidden: u} = n
                      , {title: f} = n
                      , {desc: d} = n
                      , {class: h} = n;
                    return t.$$set = e => {
                        "size"in e && i(9, r = e.size),
                        "width"in e && i(0, o = e.width),
                        "height"in e && i(1, s = e.height),
                        "color"in e && i(2, a = e.color),
                        "viewBox"in e && i(3, c = e.viewBox),
                        "ariaLabel"in e && i(4, l = e.ariaLabel),
                        "ariaHidden"in e && i(5, u = e.ariaHidden),
                        "title"in e && i(6, f = e.title),
                        "desc"in e && i(7, d = e.desc),
                        "class"in e && i(8, h = e.class)
                    }
                    ,
                    [o, s, a, c, l, u, f, d, h, r]
                }, function t(n) {
                    let i, r, o, s = n[7] && tM(n), a = n[6] && tL(n);
                    return {
                        c() {
                            i = A("svg"),
                            s && s.c(),
                            r = C(),
                            a && a.c(),
                            D(o = A("path"), "d", "M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"),
                            D(o, "fill", n[2]),
                            D(i, "viewBox", n[3]),
                            D(i, "width", n[0]),
                            D(i, "height", n[1]),
                            D(i, "class", n[8]),
                            D(i, "aria-label", n[4]),
                            D(i, "aria-hidden", n[5])
                        },
                        m(e, t) {
                            w(e, i, t),
                            s && s.m(i, null),
                            b(i, r),
                            a && a.m(i, null),
                            b(i, o)
                        },
                        p(e, [t]) {
                            e[7] ? s ? s.p(e, t) : ((s = tM(e)).c(),
                            s.m(i, r)) : s && (s.d(1),
                            s = null),
                            e[6] ? a ? a.p(e, t) : ((a = tL(e)).c(),
                            a.m(i, o)) : a && (a.d(1),
                            a = null),
                            4 & t && D(o, "fill", e[2]),
                            8 & t && D(i, "viewBox", e[3]),
                            1 & t && D(i, "width", e[0]),
                            2 & t && D(i, "height", e[1]),
                            256 & t && D(i, "class", e[8]),
                            16 & t && D(i, "aria-label", e[4]),
                            32 & t && D(i, "aria-hidden", e[5])
                        },
                        i: e,
                        o: e,
                        d(e) {
                            e && E(i),
                            s && s.d(),
                            a && a.d()
                        }
                    }
                }, o, {
                    size: 9,
                    width: 0,
                    height: 1,
                    color: 2,
                    viewBox: 3,
                    ariaLabel: 4,
                    ariaHidden: 5,
                    title: 6,
                    desc: 7,
                    class: 8
                })
            }
        }
        function tq(e, t, n) {
            let i = e.slice();
            return i[16] = t[n],
            i[18] = n,
            i
        }
        function tU(e) {
            let t, n, i;
            return {
                c() {
                    t = k("div"),
                    (n = k("div")).textContent = `Option ${e[18] + 1}`,
                    i = T(),
                    D(t, "class", "option svelte-v66qr8"),
                    q(t, "background-color", e[1].palette[e[18]].background),
                    q(t, "color", e[1].palette[e[18]].text)
                },
                m(e, r) {
                    w(e, t, r),
                    b(t, n),
                    b(t, i)
                },
                p(e, n) {
                    2 & n && q(t, "background-color", e[1].palette[e[18]].background),
                    2 & n && q(t, "color", e[1].palette[e[18]].text)
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        class tB extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    let r, o = structuredClone({
                        ...t7[0],
                        custom: !0
                    }), s = j();
                    return V( () => {
                        document.body.appendChild(r),
                        r.showModal()
                    }
                    ),
                    [r, o, function() {
                        s("submit", o)
                    }
                    , function() {
                        s("submit", null)
                    }
                    , function(e) {
                        t.$$.not_equal(o.question.background, e) && (o.question.background = e,
                        i(1, o))
                    }
                    , function(e) {
                        t.$$.not_equal(o.question.text, e) && (o.question.text = e,
                        i(1, o))
                    }
                    , function(e) {
                        t.$$.not_equal(o.palette[0].background, e) && (o.palette[0].background = e,
                        i(1, o))
                    }
                    , function(e) {
                        t.$$.not_equal(o.palette[0].text, e) && (o.palette[0].text = e,
                        i(1, o))
                    }
                    , function(e) {
                        t.$$.not_equal(o.palette[1].background, e) && (o.palette[1].background = e,
                        i(1, o))
                    }
                    , function(e) {
                        t.$$.not_equal(o.palette[1].text, e) && (o.palette[1].text = e,
                        i(1, o))
                    }
                    , function(e) {
                        t.$$.not_equal(o.palette[2].background, e) && (o.palette[2].background = e,
                        i(1, o))
                    }
                    , function(e) {
                        t.$$.not_equal(o.palette[2].text, e) && (o.palette[2].text = e,
                        i(1, o))
                    }
                    , function(e) {
                        t.$$.not_equal(o.palette[3].background, e) && (o.palette[3].background = e,
                        i(1, o))
                    }
                    , function(e) {
                        t.$$.not_equal(o.palette[3].text, e) && (o.palette[3].text = e,
                        i(1, o))
                    }
                    , function(e) {
                        J[e ? "unshift" : "push"]( () => {
                            i(0, r = e)
                        }
                        )
                    }
                    , ]
                }, function e(t) {
                    let n, r, o, s, a, c, l, u, f, d, h, p, g, $, m, _, v, y, x, A, O, C, P, S, N, M, L, U, B, H, z, V, F, j, G, W, K, Q, Y, X, Z, et, en, ei, er;
                    function eo(e) {
                        t[4](e)
                    }
                    let es = {
                        text: "Question Background",
                        allowOpacity: !1
                    };
                    function ea(e) {
                        t[5](e)
                    }
                    void 0 !== t[1].question.background && (es.color = t[1].question.background),
                    o = new tx({
                        props: es
                    }),
                    J.push( () => ed(o, "color", eo));
                    let ec = {
                        text: "Question Text",
                        allowOpacity: !1
                    };
                    function e$(e) {
                        t[6](e)
                    }
                    void 0 !== t[1].question.text && (ec.color = t[1].question.text),
                    c = new tx({
                        props: ec
                    }),
                    J.push( () => ed(c, "color", ea));
                    let e9 = {
                        text: "Option 1 Background",
                        allowOpacity: !1
                    };
                    function em(e) {
                        t[7](e)
                    }
                    void 0 !== t[1].palette[0].background && (e9.color = t[1].palette[0].background),
                    f = new tx({
                        props: e9
                    }),
                    J.push( () => ed(f, "color", e$));
                    let e_ = {
                        text: "Option 1 Text",
                        allowOpacity: !1
                    };
                    function ev(e) {
                        t[8](e)
                    }
                    void 0 !== t[1].palette[0].text && (e_.color = t[1].palette[0].text),
                    p = new tx({
                        props: e_
                    }),
                    J.push( () => ed(p, "color", em));
                    let ey = {
                        text: "Option 2 Background",
                        allowOpacity: !1
                    };
                    function e0(e) {
                        t[9](e)
                    }
                    void 0 !== t[1].palette[1].background && (ey.color = t[1].palette[1].background),
                    m = new tx({
                        props: ey
                    }),
                    J.push( () => ed(m, "color", ev));
                    let eb = {
                        text: "Option 2 Text",
                        allowOpacity: !1
                    };
                    function ex(e) {
                        t[10](e)
                    }
                    void 0 !== t[1].palette[1].text && (eb.color = t[1].palette[1].text),
                    y = new tx({
                        props: eb
                    }),
                    J.push( () => ed(y, "color", e0));
                    let ew = {
                        text: "Option 3 Background",
                        allowOpacity: !1
                    };
                    function e8(e) {
                        t[11](e)
                    }
                    void 0 !== t[1].palette[2].background && (ew.color = t[1].palette[2].background),
                    O = new tx({
                        props: ew
                    }),
                    J.push( () => ed(O, "color", ex));
                    let e3 = {
                        text: "Option 3 Text",
                        allowOpacity: !1
                    };
                    function eE(e) {
                        t[12](e)
                    }
                    void 0 !== t[1].palette[2].text && (e3.color = t[1].palette[2].text),
                    S = new tx({
                        props: e3
                    }),
                    J.push( () => ed(S, "color", e8));
                    let e4 = {
                        text: "Option 4 Background",
                        allowOpacity: !1
                    };
                    function eI(e) {
                        t[13](e)
                    }
                    void 0 !== t[1].palette[3].background && (e4.color = t[1].palette[3].background),
                    L = new tx({
                        props: e4
                    }),
                    J.push( () => ed(L, "color", eE));
                    let ek = {
                        text: "Option 4 Text",
                        allowOpacity: !1
                    };
                    void 0 !== t[1].palette[3].text && (ek.color = t[1].palette[3].text),
                    H = new tx({
                        props: ek
                    }),
                    J.push( () => ed(H, "color", eI));
                    let eA = ef({
                        length: 4
                    })
                      , eO = [];
                    for (let e2 = 0; e2 < eA.length; e2 += 1)
                        eO[e2] = tU(tq(t, eA, e2));
                    return {
                        c() {
                            n = k("dialog"),
                            r = k("div"),
                            eh(o.$$.fragment),
                            a = T(),
                            eh(c.$$.fragment),
                            u = T(),
                            eh(f.$$.fragment),
                            h = T(),
                            eh(p.$$.fragment),
                            $ = T(),
                            eh(m.$$.fragment),
                            v = T(),
                            eh(y.$$.fragment),
                            A = T(),
                            eh(O.$$.fragment),
                            P = T(),
                            eh(S.$$.fragment),
                            M = T(),
                            eh(L.$$.fragment),
                            B = T(),
                            eh(H.$$.fragment),
                            V = T(),
                            F = k("div"),
                            j = k("div"),
                            (G = k("div")).textContent = "Example Question Text",
                            W = T(),
                            K = k("div");
                            for (let e = 0; e < eO.length; e += 1)
                                eO[e].c();
                            Q = T(),
                            Y = k("div"),
                            (X = k("button")).textContent = "Create",
                            Z = T(),
                            (et = k("button")).textContent = "Cancel",
                            D(r, "class", "pickers svelte-v66qr8"),
                            D(j, "class", "question svelte-v66qr8"),
                            q(j, "background-color", t[1].question.background),
                            q(j, "color", t[1].question.text),
                            D(K, "class", "options svelte-v66qr8"),
                            D(X, "class", "submit svelte-v66qr8"),
                            D(et, "class", "cancel svelte-v66qr8"),
                            D(Y, "class", "buttons svelte-v66qr8"),
                            D(F, "class", "wrap svelte-v66qr8"),
                            D(n, "class", "svelte-v66qr8")
                        },
                        m(e, i) {
                            w(e, n, i),
                            b(n, r),
                            ep(o, r, null),
                            b(r, a),
                            ep(c, r, null),
                            b(r, u),
                            ep(f, r, null),
                            b(r, h),
                            ep(p, r, null),
                            b(r, $),
                            ep(m, r, null),
                            b(r, v),
                            ep(y, r, null),
                            b(r, A),
                            ep(O, r, null),
                            b(r, P),
                            ep(S, r, null),
                            b(r, M),
                            ep(L, r, null),
                            b(r, B),
                            ep(H, r, null),
                            b(n, V),
                            b(n, F),
                            b(F, j),
                            b(j, G),
                            b(F, W),
                            b(F, K);
                            for (let s = 0; s < eO.length; s += 1)
                                eO[s] && eO[s].m(K, null);
                            b(F, Q),
                            b(F, Y),
                            b(Y, X),
                            b(Y, Z),
                            b(Y, et),
                            t[14](n),
                            en = !0,
                            ei || (er = [R(X, "click", t[2]), R(et, "click", t[3]), R(n, "close", t[3])],
                            ei = !0)
                        },
                        p(e, [t]) {
                            let n = {};
                            !s && 2 & t && (s = !0,
                            n.color = e[1].question.background,
                            ee( () => s = !1)),
                            o.$set(n);
                            let i = {};
                            !l && 2 & t && (l = !0,
                            i.color = e[1].question.text,
                            ee( () => l = !1)),
                            c.$set(i);
                            let r = {};
                            !d && 2 & t && (d = !0,
                            r.color = e[1].palette[0].background,
                            ee( () => d = !1)),
                            f.$set(r);
                            let a = {};
                            !g && 2 & t && (g = !0,
                            a.color = e[1].palette[0].text,
                            ee( () => g = !1)),
                            p.$set(a);
                            let u = {};
                            !_ && 2 & t && (_ = !0,
                            u.color = e[1].palette[1].background,
                            ee( () => _ = !1)),
                            m.$set(u);
                            let h = {};
                            !x && 2 & t && (x = !0,
                            h.color = e[1].palette[1].text,
                            ee( () => x = !1)),
                            y.$set(h);
                            let $ = {};
                            !C && 2 & t && (C = !0,
                            $.color = e[1].palette[2].background,
                            ee( () => C = !1)),
                            O.$set($);
                            let v = {};
                            !N && 2 & t && (N = !0,
                            v.color = e[1].palette[2].text,
                            ee( () => N = !1)),
                            S.$set(v);
                            let b = {};
                            !U && 2 & t && (U = !0,
                            b.color = e[1].palette[3].background,
                            ee( () => U = !1)),
                            L.$set(b);
                            let w = {};
                            if (!z && 2 & t && (z = !0,
                            w.color = e[1].palette[3].text,
                            ee( () => z = !1)),
                            H.$set(w),
                            (!en || 2 & t) && q(j, "background-color", e[1].question.background),
                            (!en || 2 & t) && q(j, "color", e[1].question.text),
                            2 & t) {
                                let E;
                                for (eA = ef({
                                    length: 4
                                }),
                                E = 0; E < eA.length; E += 1) {
                                    let I = tq(e, eA, E);
                                    eO[E] ? eO[E].p(I, t) : (eO[E] = tU(I),
                                    eO[E].c(),
                                    eO[E].m(K, null))
                                }
                                for (; E < eO.length; E += 1)
                                    eO[E].d(1);
                                eO.length = eA.length
                            }
                        },
                        i(e) {
                            en || (el(o.$$.fragment, e),
                            el(c.$$.fragment, e),
                            el(f.$$.fragment, e),
                            el(p.$$.fragment, e),
                            el(m.$$.fragment, e),
                            el(y.$$.fragment, e),
                            el(O.$$.fragment, e),
                            el(S.$$.fragment, e),
                            el(L.$$.fragment, e),
                            el(H.$$.fragment, e),
                            en = !0)
                        },
                        o(e) {
                            eu(o.$$.fragment, e),
                            eu(c.$$.fragment, e),
                            eu(f.$$.fragment, e),
                            eu(p.$$.fragment, e),
                            eu(m.$$.fragment, e),
                            eu(y.$$.fragment, e),
                            eu(O.$$.fragment, e),
                            eu(S.$$.fragment, e),
                            eu(L.$$.fragment, e),
                            eu(H.$$.fragment, e),
                            en = !1
                        },
                        d(e) {
                            e && E(n),
                            eg(o),
                            eg(c),
                            eg(f),
                            eg(p),
                            eg(m),
                            eg(y),
                            eg(O),
                            eg(S),
                            eg(L),
                            eg(H),
                            I(eO, e),
                            t[14](null),
                            ei = !1,
                            i(er)
                        }
                    }
                }, o, {}, function e(t) {
                    x(t, "svelte-v66qr8", ".buttons.svelte-v66qr8{display:flex;flex-direction:row;width:100%}.submit.svelte-v66qr8,.cancel.svelte-v66qr8{padding:10px;margin:10px;font-size:20px;border:none;border-radius:5px;flex-grow:1}.submit.svelte-v66qr8{background-color:green}.cancel.svelte-v66qr8{background-color:red}dialog.svelte-v66qr8{width:80%;height:80%;display:flex}.pickers.svelte-v66qr8{width:200px;overflow-y:auto;overflow-x:hidden}.wrap.svelte-v66qr8{display:flex;flex-direction:column;height:100%;flex-grow:1}.question.svelte-v66qr8{width:100%;height:30%;font-family:'Product Sans', sans-serif;display:flex;align-items:center;justify-content:center;font-size:50px}.options.svelte-v66qr8{flex-grow:1;display:grid;grid-template-columns:repeat(2, 1fr);width:100%}.option.svelte-v66qr8{background-color:blue;display:flex;align-items:center;justify-content:center;font-family:'Product Sans', sans-serif;font-size:25px;border:6px solid rgba(0, 0, 0, 0.3)}")
                })
            }
        }
        function tH(e, t, n) {
            let i = e.slice();
            return i[20] = t[n],
            i[22] = n,
            i
        }
        function tz(e, t, n) {
            let i = e.slice();
            return i[23] = t[n],
            i[25] = n,
            i
        }
        function tV(t) {
            let n, i;
            return (n = new tB({})).$on("submit", t[7]),
            {
                c() {
                    eh(n.$$.fragment)
                },
                m(e, t) {
                    ep(n, e, t),
                    i = !0
                },
                p: e,
                i(e) {
                    i || (el(n.$$.fragment, e),
                    i = !0)
                },
                o(e) {
                    eu(n.$$.fragment, e),
                    i = !1
                },
                d(e) {
                    eg(n, e)
                }
            }
        }
        function tF(t) {
            let n, i, r, o;
            return r = new t5({
                props: {
                    width: 30,
                    height: 30
                }
            }),
            {
                c() {
                    n = k("div"),
                    i = O("New Theme\r\n            "),
                    eh(r.$$.fragment),
                    D(n, "class", "createTheme svelte-1yznqq")
                },
                m(e, t) {
                    w(e, n, t),
                    b(n, i),
                    ep(r, n, null),
                    o = !0
                },
                p: e,
                i(e) {
                    o || (el(r.$$.fragment, e),
                    o = !0)
                },
                o(e) {
                    eu(r.$$.fragment, e),
                    o = !1
                },
                d(e) {
                    e && E(n),
                    eg(r)
                }
            }
        }
        function tj(e) {
            let t, n, i, r, o;
            function s() {
                return e[11](e[20])
            }
            return n = new tN({
                props: {
                    width: 25,
                    height: 25
                }
            }),
            {
                c() {
                    t = k("div"),
                    eh(n.$$.fragment),
                    D(t, "class", "svelte-1yznqq")
                },
                m(e, a) {
                    w(e, t, a),
                    ep(n, t, null),
                    i = !0,
                    r || (o = R(t, "click", S(s)),
                    r = !0)
                },
                p(t, n) {
                    e = t
                },
                i(e) {
                    i || (el(n.$$.fragment, e),
                    i = !0)
                },
                o(e) {
                    eu(n.$$.fragment, e),
                    i = !1
                },
                d(e) {
                    e && E(t),
                    eg(n),
                    r = !1,
                    o()
                }
            }
        }
        function tG(e) {
            let t, n, i, r = e[25] + 1 + "";
            return {
                c() {
                    t = k("div"),
                    n = O(r),
                    i = T(),
                    D(t, "class", "option svelte-1yznqq"),
                    q(t, "background-color", e[23].background),
                    q(t, "color", e[23].text)
                },
                m(e, r) {
                    w(e, t, r),
                    b(t, n),
                    b(t, i)
                },
                p(e, n) {
                    1 & n && q(t, "background-color", e[23].background),
                    1 & n && q(t, "color", e[23].text)
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        function tW(e) {
            let t, n, i, r, o, s, a, c, l, u, f, d = e[22] + 1 + "", h = e[20].custom && tj(e), p = ef(e[20].palette), g = [];
            for (let $ = 0; $ < p.length; $ += 1)
                g[$] = tG(tz(e, p, $));
            function m() {
                return e[12](e[20])
            }
            return {
                c() {
                    t = k("div"),
                    n = k("div"),
                    i = O("Theme "),
                    r = O(d),
                    o = T(),
                    h && h.c(),
                    s = T(),
                    a = k("div");
                    for (let l = 0; l < g.length; l += 1)
                        g[l].c();
                    c = T(),
                    D(n, "class", "title svelte-1yznqq"),
                    D(a, "class", "options svelte-1yznqq"),
                    D(t, "class", "theme svelte-1yznqq"),
                    q(t, "background-color", e[20].question.background),
                    q(t, "color", e[20].question.text),
                    U(t, "selected", e[1] === e[20])
                },
                m(e, d) {
                    w(e, t, d),
                    b(t, n),
                    b(n, i),
                    b(n, r),
                    b(n, o),
                    h && h.m(n, null),
                    b(t, s),
                    b(t, a);
                    for (let p = 0; p < g.length; p += 1)
                        g[p] && g[p].m(a, null);
                    b(t, c),
                    l = !0,
                    u || (f = R(t, "click", m),
                    u = !0)
                },
                p(i, r) {
                    if ((e = i)[20].custom ? h ? (h.p(e, r),
                    1 & r && el(h, 1)) : ((h = tj(e)).c(),
                    el(h, 1),
                    h.m(n, null)) : h && (ea(),
                    eu(h, 1, 1, () => {
                        h = null
                    }
                    ),
                    ec()),
                    1 & r) {
                        let o;
                        for (p = ef(e[20].palette),
                        o = 0; o < p.length; o += 1) {
                            let s = tz(e, p, o);
                            g[o] ? g[o].p(s, r) : (g[o] = tG(s),
                            g[o].c(),
                            g[o].m(a, null))
                        }
                        for (; o < g.length; o += 1)
                            g[o].d(1);
                        g.length = p.length
                    }
                    (!l || 1 & r) && q(t, "background-color", e[20].question.background),
                    (!l || 1 & r) && q(t, "color", e[20].question.text),
                    (!l || 3 & r) && U(t, "selected", e[1] === e[20])
                },
                i(e) {
                    l || (el(h),
                    l = !0)
                },
                o(e) {
                    eu(h),
                    l = !1
                },
                d(e) {
                    e && E(t),
                    h && h.d(),
                    I(g, e),
                    u = !1,
                    f()
                }
            }
        }
        function tJ(e) {
            let t, n, r, o, s, a, c, l, u, f, d;
            (a = new tm({
                props: {
                    $$slots: {
                        default: [tF]
                    },
                    $$scope: {
                        ctx: e
                    }
                }
            })).$on("click", e[10]);
            let h = ef(e[0])
              , p = [];
            for (let g = 0; g < h.length; g += 1)
                p[g] = tW(tH(e, h, g));
            let $ = e => eu(p[e], 1, 1, () => {
                p[e] = null
            }
            );
            return {
                c() {
                    t = k("div"),
                    (n = k("div")).textContent = "Use Custom Theme?",
                    r = T(),
                    o = k("input"),
                    s = T(),
                    eh(a.$$.fragment),
                    c = T();
                    for (let e = 0; e < p.length; e += 1)
                        p[e].c();
                    l = C(),
                    D(n, "class", "svelte-1yznqq"),
                    D(o, "type", "checkbox"),
                    D(o, "class", "svelte-1yznqq"),
                    D(t, "class", "themeEnabled svelte-1yznqq")
                },
                m(i, h) {
                    w(i, t, h),
                    b(t, n),
                    b(t, r),
                    b(t, o),
                    o.checked = e[2],
                    w(i, s, h),
                    ep(a, i, h),
                    w(i, c, h);
                    for (let g = 0; g < p.length; g += 1)
                        p[g] && p[g].m(i, h);
                    w(i, l, h),
                    u = !0,
                    f || (d = [R(o, "change", e[9]), R(o, "change", e[5])],
                    f = !0)
                },
                p(e, t) {
                    4 & t && (o.checked = e[2]);
                    let n = {};
                    if (67108864 & t && (n.$$scope = {
                        dirty: t,
                        ctx: e
                    }),
                    a.$set(n),
                    323 & t) {
                        let i;
                        for (h = ef(e[0]),
                        i = 0; i < h.length; i += 1) {
                            let r = tH(e, h, i);
                            p[i] ? (p[i].p(r, t),
                            el(p[i], 1)) : (p[i] = tW(r),
                            p[i].c(),
                            el(p[i], 1),
                            p[i].m(l.parentNode, l))
                        }
                        for (ea(),
                        i = h.length; i < p.length; i += 1)
                            $(i);
                        ec()
                    }
                },
                i(e) {
                    if (!u) {
                        el(a.$$.fragment, e);
                        for (let t = 0; t < h.length; t += 1)
                            el(p[t]);
                        u = !0
                    }
                },
                o(e) {
                    eu(a.$$.fragment, e),
                    p = p.filter(Boolean);
                    for (let t = 0; t < p.length; t += 1)
                        eu(p[t]);
                    u = !1
                },
                d(e) {
                    e && (E(t),
                    E(s),
                    E(c),
                    E(l)),
                    eg(a, e),
                    I(p, e),
                    f = !1,
                    i(d)
                }
            }
        }
        let tK = '[style^="opacity:"][style*="transform: translateY(0%)"]';
        class tQ extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    let r, {transportType: o} = eK;
                    c(t, o, e => i(14, r = e));
                    let s = eE("customThemes")
                      , a = [];
                    a = s ? JSON.parse(s) : t7.map(e => ({
                        ...e,
                        custom: !1
                    }));
                    let l = null
                      , u = new MutationObserver(e => {
                        for (let t of e)
                            for (let n of t.addedNodes) {
                                if (!(n instanceof HTMLElement))
                                    continue;
                                let i;
                                "colyseus" === r ? i = n.querySelector(tK) : "blueboat" === r && n.matches(tK) && (i = n),
                                i && (l = i,
                                g())
                            }
                    }
                    )
                      , f = () => {
                        u.observe(document.body, {
                            childList: !0,
                            subtree: !0
                        })
                    }
                    ;
                    document.body ? f() : window.addEventListener("DOMContentLoaded", f);
                    let d = a[parseInt(eE("selectedTheme", "0"))]
                      , h = "true" === eE("themeEnabled");
                    function p(e) {
                        i(1, d = e),
                        e3("selectedTheme", a.indexOf(e).toString()),
                        h && g()
                    }
                    function g() {
                        if (!l || !h)
                            return;
                        let e = l.firstChild.firstChild.firstChild.firstChild;
                        e.style.background = d.question.background,
                        e.style.color = d.question.text;
                        for (let t = 0; t < l.children[1].children.length; t++) {
                            let n = l.children[1].children[t].firstChild;
                            n.style.background = d.palette[t].background,
                            n.style.color = d.palette[t].text
                        }
                    }
                    let $ = !1;
                    function m(e) {
                        if (!confirm("Are you sure you want to delete this theme?"))
                            return;
                        let t = a.indexOf(e);
                        a.splice(t, 1),
                        e3("customThemes", JSON.stringify(a)),
                        e === d && (i(1, d = a[0]),
                        e3("selectedTheme", "0"),
                        g()),
                        i(0, a)
                    }
                    return [a, d, h, $, o, function() {
                        h ? (e3("themeEnabled", "true"),
                        p(d)) : (e3("themeEnabled", "false"),
                        function() {
                            if (!l)
                                return;
                            let e = l.firstChild.firstChild.firstChild.firstChild;
                            e.style.background = "",
                            e.style.color = "";
                            for (let t = 0; t < l.children[1].children.length; t++) {
                                let n = l.children[1].children[t].firstChild;
                                n.style.background = "",
                                n.style.color = ""
                            }
                        }())
                    }
                    , p, function(e) {
                        i(3, $ = !1),
                        e.detail && (i(1, d = e.detail),
                        i(0, a = [e.detail, ...a]),
                        e3("selectedTheme", "0"),
                        e3("customThemes", JSON.stringify(a)),
                        g())
                    }
                    , m, function() {
                        i(2, h = this.checked)
                    }
                    , () => i(3, $ = !0), e => m(e), e => p(e), ]
                }, function e(t) {
                    let n, i, r, o = t[3] && tV(t);
                    return i = new t0({
                        props: {
                            name: "Custom Theme",
                            $$slots: {
                                default: [tJ]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    }),
                    {
                        c() {
                            o && o.c(),
                            n = T(),
                            eh(i.$$.fragment)
                        },
                        m(e, t) {
                            o && o.m(e, t),
                            w(e, n, t),
                            ep(i, e, t),
                            r = !0
                        },
                        p(e, [t]) {
                            e[3] ? o ? (o.p(e, t),
                            8 & t && el(o, 1)) : ((o = tV(e)).c(),
                            el(o, 1),
                            o.m(n.parentNode, n)) : o && (ea(),
                            eu(o, 1, 1, () => {
                                o = null
                            }
                            ),
                            ec());
                            let r = {};
                            67108879 & t && (r.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            i.$set(r)
                        },
                        i(e) {
                            r || (el(o),
                            el(i.$$.fragment, e),
                            r = !0)
                        },
                        o(e) {
                            eu(o),
                            eu(i.$$.fragment, e),
                            r = !1
                        },
                        d(e) {
                            e && E(n),
                            o && o.d(e),
                            eg(i, e)
                        }
                    }
                }, o, {}, function e(t) {
                    x(t, "svelte-1yznqq", ".createTheme.svelte-1yznqq.svelte-1yznqq{display:flex;align-items:center;justify-content:center;gap:5px}.title.svelte-1yznqq.svelte-1yznqq{position:relative;width:100%;text-align:center;display:flex;justify-content:center}.title.svelte-1yznqq>div.svelte-1yznqq{position:absolute;right:0;top:0}.theme.svelte-1yznqq.svelte-1yznqq{display:flex;flex-direction:column;align-items:center;margin:10px}.theme.selected.svelte-1yznqq.svelte-1yznqq{border:5px solid black;outline:3px solid white}.options.svelte-1yznqq.svelte-1yznqq{display:flex;flex-direction:row;align-items:center;width:100%}.option.svelte-1yznqq.svelte-1yznqq{flex-grow:1;text-align:center;margin:5px}.themeEnabled.svelte-1yznqq.svelte-1yznqq{display:flex;align-items:center;justify-content:center;margin-left:10px;margin-right:10px}.themeEnabled.svelte-1yznqq>div.svelte-1yznqq{margin-right:10px}.themeEnabled.svelte-1yznqq>input.svelte-1yznqq{width:20px;height:20px}")
                })
            }
        }
        let {window: tY} = y;
        function tX(e) {
            let t, n, i, r, o, s;
            function a(t) {
                e[6](t)
            }
            let c = {
                onText: "Stop highlighting teammates",
                offText: "Highlight Teammates",
                hotkeyId: "highlightTeammates"
            };
            function l(t) {
                e[7](t)
            }
            void 0 !== e[1] && (c.enabled = e[1]),
            t = new tI({
                props: c
            }),
            J.push( () => ed(t, "enabled", a)),
            t.$on("click", e[4]);
            let u = {
                onText: "Stop highlighting enemies",
                offText: "Highlight Enemies",
                hotkeyId: "highlightEnemies"
            };
            return void 0 !== e[2] && (u.enabled = e[2]),
            r = new tI({
                props: u
            }),
            J.push( () => ed(r, "enabled", l)),
            r.$on("click", e[4]),
            {
                c() {
                    eh(t.$$.fragment),
                    i = T(),
                    eh(r.$$.fragment)
                },
                m(e, n) {
                    ep(t, e, n),
                    w(e, i, n),
                    ep(r, e, n),
                    s = !0
                },
                p(e, i) {
                    let s = {};
                    !n && 2 & i && (n = !0,
                    s.enabled = e[1],
                    ee( () => n = !1)),
                    t.$set(s);
                    let a = {};
                    !o && 4 & i && (o = !0,
                    a.enabled = e[2],
                    ee( () => o = !1)),
                    r.$set(a)
                },
                i(e) {
                    s || (el(t.$$.fragment, e),
                    el(r.$$.fragment, e),
                    s = !0)
                },
                o(e) {
                    eu(t.$$.fragment, e),
                    eu(r.$$.fragment, e),
                    s = !1
                },
                d(e) {
                    e && E(i),
                    eg(t, e),
                    eg(r, e)
                }
            }
        }
        class tZ extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    let r, o, s;
                    c(t, eX, e => i(9, o = e));
                    let a = !1
                      , l = !1;
                    function u() {
                        if (!eW?.state?.characters || !r || (r.clearRect(0, 0, s.width, s.height),
                        !a && !l))
                            return;
                        let e = eC()?.stores?.phaser?.scene?.cameras?.cameras[0]
                          , t = eW.state.characters.$items.get(o);
                        if (!t || !e)
                            return;
                        let n = e.midPoint.x
                          , i = e.midPoint.y;
                        for (let[c,u] of eW.state.characters.$items) {
                            if (c === o)
                                continue;
                            let f = t.teamId === u.teamId;
                            if (f && !a || !f && !l)
                                continue;
                            let d = Math.atan2(u.y - i, u.x - n)
                              , h = Math.sqrt(Math.pow(u.x - n, 2) + Math.pow(u.y - i, 2)) * e.zoom
                              , p = Math.min(250, h)
                              , g = Math.cos(d) * p + s.width / 2
                              , $ = Math.sin(d) * p + s.height / 2
                              , m = d + Math.PI / 4 * 3
                              , _ = d - Math.PI / 4 * 3;
                            r.beginPath(),
                            r.moveTo(g, $),
                            r.lineTo(g + 50 * Math.cos(m), $ + 50 * Math.sin(m)),
                            r.moveTo(g, $),
                            r.lineTo(g + 50 * Math.cos(_), $ + 50 * Math.sin(_)),
                            r.lineWidth = 3,
                            r.strokeStyle = f ? "green" : "red",
                            r.stroke(),
                            r.fillStyle = "black",
                            r.font = "20px Verdana",
                            r.textAlign = "center",
                            r.textBaseline = "middle",
                            r.fillText(`${u.name} (${Math.floor(h)})`, g, $)
                        }
                    }
                    return V( () => {
                        document.body.appendChild(s)
                    }
                    ),
                    setInterval(u, 1e3 / 30),
                    t.$$.update = () => {
                        1 & t.$$.dirty && (r = s?.getContext("2d"))
                    }
                    ,
                    [s, a, l, function() {
                        i(0, s.width = window.innerWidth, s),
                        i(0, s.height = window.innerHeight, s)
                    }
                    , u, function(e) {
                        J[e ? "unshift" : "push"]( () => {
                            i(0, s = e)
                        }
                        )
                    }
                    , function(e) {
                        i(1, a = e)
                    }
                    , function(e) {
                        i(2, l = e)
                    }
                    , ]
                }, function e(t) {
                    let n, i, r, o, s, a;
                    return r = new t0({
                        props: {
                            name: "Player Highlighter",
                            $$slots: {
                                default: [tX]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    }),
                    {
                        c() {
                            n = k("canvas"),
                            i = T(),
                            eh(r.$$.fragment),
                            D(n, "width", window.innerWidth),
                            D(n, "height", window.innerHeight),
                            D(n, "class", "svelte-gt58ph")
                        },
                        m(e, c) {
                            w(e, n, c),
                            t[5](n),
                            w(e, i, c),
                            ep(r, e, c),
                            o = !0,
                            s || (a = R(tY, "resize", t[3]),
                            s = !0)
                        },
                        p(e, [t]) {
                            let n = {};
                            1030 & t && (n.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            r.$set(n)
                        },
                        i(e) {
                            o || (el(r.$$.fragment, e),
                            o = !0)
                        },
                        o(e) {
                            eu(r.$$.fragment, e),
                            o = !1
                        },
                        d(e) {
                            e && (E(n),
                            E(i)),
                            t[5](null),
                            eg(r, e),
                            s = !1,
                            a()
                        }
                    }
                }, o, {}, function e(t) {
                    x(t, "svelte-gt58ph", "canvas.svelte-gt58ph{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:9999;pointer-events:none}")
                })
            }
        }
        class ne extends e9 {
            constructor(t) {
                super(),
                e$(this, t, function e(t, n, i) {
                    let r, {title: o} = n, {min: s} = n, {max: a} = n, {value: c=(s + a) / 2} = n, {step: l=1} = n, {disabled: u=null} = n, {disabledMsg: f} = n, d = j();
                    return t.$$set = e => {
                        "title"in e && i(1, o = e.title),
                        "min"in e && i(2, s = e.min),
                        "max"in e && i(3, a = e.max),
                        "value"in e && i(0, c = e.value),
                        "step"in e && i(4, l = e.step),
                        "disabled"in e && i(5, u = e.disabled),
                        "disabledMsg"in e && i(6, f = e.disabledMsg)
                    }
                    ,
                    [c, o, s, a, l, u, f, r, function() {
                        d("input", parseFloat(r.value))
                    }
                    , function(e) {
                        G.call(this, t, e)
                    }
                    , function(e) {
                        G.call(this, t, e)
                    }
                    , function() {
                        i(0, c = N(this.value))
                    }
                    , function(e) {
                        J[e ? "unshift" : "push"]( () => {
                            i(7, r = e)
                        }
                        )
                    }
                    , ]
                }, function t(n) {
                    let r, o, s, a, c, l, u, f, d;
                    return {
                        c() {
                            r = k("div"),
                            o = k("div"),
                            s = O(n[1]),
                            a = T(),
                            D(c = k("input"), "type", "range"),
                            D(c, "min", n[2]),
                            D(c, "max", n[3]),
                            D(c, "step", n[4]),
                            D(c, "title", l = n[5] ? n[6] : void 0),
                            c.disabled = u = !0 === n[5] || void 0 === n[5],
                            D(c, "class", "svelte-vkb13i"),
                            D(r, "class", "sliderWrap svelte-vkb13i"),
                            U(r, "disabled", !0 === n[5] || void 0 === n[5])
                        },
                        m(e, t) {
                            w(e, r, t),
                            b(r, o),
                            b(o, s),
                            b(r, a),
                            b(r, c),
                            L(c, n[0]),
                            n[12](c),
                            f || (d = [R(c, "change", n[11]), R(c, "input", n[11]), R(c, "mousedown", S(n[9])), R(c, "keydown", P(n[10])), R(c, "input", n[8])],
                            f = !0)
                        },
                        p(e, [t]) {
                            2 & t && M(s, e[1]),
                            4 & t && D(c, "min", e[2]),
                            8 & t && D(c, "max", e[3]),
                            16 & t && D(c, "step", e[4]),
                            96 & t && l !== (l = e[5] ? e[6] : void 0) && D(c, "title", l),
                            32 & t && u !== (u = !0 === e[5] || void 0 === e[5]) && (c.disabled = u),
                            1 & t && L(c, e[0]),
                            32 & t && U(r, "disabled", !0 === e[5] || void 0 === e[5])
                        },
                        i: e,
                        o: e,
                        d(e) {
                            e && E(r),
                            n[12](null),
                            f = !1,
                            i(d)
                        }
                    }
                }, o, {
                    title: 1,
                    min: 2,
                    max: 3,
                    value: 0,
                    step: 4,
                    disabled: 5,
                    disabledMsg: 6
                }, function e(t) {
                    x(t, "svelte-vkb13i", ".sliderWrap.svelte-vkb13i{display:flex;flex-direction:column;align-items:center;margin:5px 10px}.sliderWrap.disabled.svelte-vkb13i{opacity:0.5}input.svelte-vkb13i{flex-grow:1;width:100%}input[disabled].svelte-vkb13i{cursor:not-allowed}")
                })
            }
        }
        function nt(e, t, n) {
            let i = e.slice();
            return i[20] = t[n],
            i
        }
        function nn(e) {
            let t, n, i = e[1] ? "Stop" : "Start";
            return {
                c() {
                    t = O(i),
                    n = O(" Freecam")
                },
                m(e, i) {
                    w(e, t, i),
                    w(e, n, i)
                },
                p(e, n) {
                    2 & n && i !== (i = e[1] ? "Stop" : "Start") && M(t, i)
                },
                d(e) {
                    e && (E(t),
                    E(n))
                }
            }
        }
        function ni(t) {
            let n;
            return {
                c() {
                    n = O("Stop Spectating")
                },
                m(e, t) {
                    w(e, n, t)
                },
                p: e,
                d(e) {
                    e && E(n)
                }
            }
        }
        function nr(e) {
            let t;
            function n(e, t) {
                return e[4] ? ni : nn
            }
            let i = n(e)
              , r = i(e);
            return {
                c() {
                    r.c(),
                    t = C()
                },
                m(e, n) {
                    r.m(e, n),
                    w(e, t, n)
                },
                p(e, o) {
                    i === (i = n(e)) && r ? r.p(e, o) : (r.d(1),
                    (r = i(e)) && (r.c(),
                    r.m(t.parentNode, t)))
                },
                d(e) {
                    e && E(t),
                    r.d(e)
                }
            }
        }
        function no(e) {
            let t, n, i, r = e[20].name + "";
            return {
                c() {
                    t = k("option"),
                    n = O(r),
                    t.__value = i = e[20].id,
                    L(t, t.__value)
                },
                m(e, i) {
                    w(e, t, i),
                    b(t, n)
                },
                p(e, o) {
                    8 & o && r !== (r = e[20].name + "") && M(n, r),
                    8 & o && i !== (i = e[20].id) && (t.__value = i,
                    L(t, t.__value))
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        function ns(e) {
            let t, n, r, o, s, a, c, l, u, f, d;
            (t = new tm({
                props: {
                    disabled: !e[5],
                    disabledMsg: "Camera hasn't loaded",
                    $$slots: {
                        default: [nr]
                    },
                    $$scope: {
                        ctx: e
                    }
                }
            })).$on("click", e[9]),
            (r = new ne({
                props: {
                    title: "Camera Zoom",
                    min: .1,
                    max: 5,
                    step: .1,
                    disabled: !e[5],
                    value: e[2],
                    disabledMsg: "Camera hasn't loaded"
                }
            })).$on("input", e[8]);
            let h = ef(e[3])
              , p = [];
            for (let g = 0; g < h.length; g += 1)
                p[g] = no(nt(e, h, g));
            return {
                c() {
                    eh(t.$$.fragment),
                    n = T(),
                    eh(r.$$.fragment),
                    o = T(),
                    s = k("select"),
                    (a = k("option")).textContent = "Pick a player to spectate";
                    for (let i = 0; i < p.length; i += 1)
                        p[i].c();
                    a.__value = "",
                    L(a, a.__value),
                    a.selected = !0,
                    s.disabled = c = 0 === e[3].length,
                    D(s, "title", l = 0 === e[3].length ? "No characters to spectate" : void 0),
                    D(s, "class", "svelte-oqtmhy")
                },
                m(i, c) {
                    ep(t, i, c),
                    w(i, n, c),
                    ep(r, i, c),
                    w(i, o, c),
                    w(i, s, c),
                    b(s, a);
                    for (let l = 0; l < p.length; l += 1)
                        p[l] && p[l].m(s, null);
                    e[12](s),
                    u = !0,
                    f || (d = [R(s, "change", e[10]), R(s, "keydown", P(e[11]))],
                    f = !0)
                },
                p(e, n) {
                    let i = {};
                    32 & n && (i.disabled = !e[5]),
                    8388626 & n && (i.$$scope = {
                        dirty: n,
                        ctx: e
                    }),
                    t.$set(i);
                    let o = {};
                    if (32 & n && (o.disabled = !e[5]),
                    4 & n && (o.value = e[2]),
                    r.$set(o),
                    8 & n) {
                        let a;
                        for (h = ef(e[3]),
                        a = 0; a < h.length; a += 1) {
                            let f = nt(e, h, a);
                            p[a] ? p[a].p(f, n) : (p[a] = no(f),
                            p[a].c(),
                            p[a].m(s, null))
                        }
                        for (; a < p.length; a += 1)
                            p[a].d(1);
                        p.length = h.length
                    }
                    (!u || 8 & n && c !== (c = 0 === e[3].length)) && (s.disabled = c),
                    (!u || 8 & n && l !== (l = 0 === e[3].length ? "No characters to spectate" : void 0)) && D(s, "title", l)
                },
                i(e) {
                    u || (el(t.$$.fragment, e),
                    el(r.$$.fragment, e),
                    u = !0)
                },
                o(e) {
                    eu(t.$$.fragment, e),
                    eu(r.$$.fragment, e),
                    u = !1
                },
                d(a) {
                    a && (E(n),
                    E(o),
                    E(s)),
                    eg(t, a),
                    eg(r, a),
                    I(p, a),
                    e[12](null),
                    f = !1,
                    i(d)
                }
            }
        }
        class na extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    let r, o;
                    c(t, eX, e => i(15, r = e)),
                    c(t, eY, e => i(5, o = e));
                    let s, a = new Set, l = !1, u, f = {
                        x: 0,
                        y: 0
                    }, d = 1;
                    function h() {
                        let e = eC().stores.phaser
                          , t = e.scene.characterManager.characters.get(e.mainCharacter.id).body;
                        e.scene.cameraHelper.startFollowingObject({
                            object: t
                        }),
                        e.scene.cameras.cameras[0].useBounds = !0,
                        clearInterval(u)
                    }
                    eY.subscribe(e => {
                        if (!e)
                            return;
                        let t = setInterval( () => {
                            let e = eC()?.stores?.phaser?.scene?.cameras?.cameras[0]?.zoom;
                            e && (i(2, d = e),
                            clearInterval(t))
                        }
                        , 50)
                    }
                    );
                    let p = []
                      , g = [];
                    eX.subscribe(e => {
                        i(3, p = p.filter(t => t.id !== e))
                    }
                    ),
                    eW.addEventListener("load", () => {
                        let e = () => {
                            for (let t of (i(3, p = []),
                            g))
                                t();
                            for (let[n,o] of eW.state.characters.$items) {
                                if (!o.isActive || n === r)
                                    continue;
                                p.push({
                                    id: n,
                                    name: o.name
                                });
                                let s = o.listen("isActive", (t, n) => {
                                    void 0 !== n && e()
                                }
                                );
                                g.push(s)
                            }
                        }
                        ;
                        eW.state.characters.onChange(e),
                        e()
                    }
                    );
                    let $ = !1;
                    return [s, l, d, p, $, o, function(e) {
                        e.key.startsWith("Arrow") && (l && e.stopImmediatePropagation(),
                        a.add(e.key))
                    }
                    , function(e) {
                        a.delete(e.key)
                    }
                    , function(e) {
                        i(2, d = e.detail),
                        eC().stores.phaser.scene.cameras.cameras[0].setZoom(e.detail)
                    }
                    , function() {
                        let e, t;
                        $ ? (i(4, $ = !1),
                        h(),
                        i(0, s.value = "", s)) : (i(1, l = !l),
                        l ? (t = (e = eC().stores.phaser.scene).cameras.cameras[0],
                        e.cameraHelper.stopFollow(),
                        f = {
                            x: t.midPoint.x,
                            y: t.midPoint.y
                        },
                        t.useBounds = !1,
                        u = setInterval( () => {
                            let t = 20 / d * 1.75;
                            a.has("ArrowUp") && (f.y -= t),
                            a.has("ArrowDown") && (f.y += t),
                            a.has("ArrowLeft") && (f.x -= t),
                            a.has("ArrowRight") && (f.x += t),
                            e.cameraHelper.goTo(f)
                        }
                        , 1e3 / 30)) : h())
                    }
                    , function() {
                        if (!s.value)
                            return;
                        i(4, $ = !0),
                        i(1, l = !1),
                        h();
                        let e = eC().stores.phaser.scene.characterManager.characters.get(s.value);
                        e && eC().stores.phaser.scene.cameraHelper.startFollowingObject({
                            object: e.body
                        })
                    }
                    , function(e) {
                        G.call(this, t, e)
                    }
                    , function(e) {
                        J[e ? "unshift" : "push"]( () => {
                            i(0, s = e),
                            i(3, p)
                        }
                        )
                    }
                    , ]
                }, function e(t) {
                    let n, r, o, s;
                    return n = new t0({
                        props: {
                            name: "Freecam",
                            $$slots: {
                                default: [ns]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    }),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, i) {
                            ep(n, e, i),
                            r = !0,
                            o || (s = [R(window, "keydown", t[6]), R(window, "keyup", t[7])],
                            o = !0)
                        },
                        p(e, [t]) {
                            let i = {};
                            8388671 & t && (i.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            n.$set(i)
                        },
                        i(e) {
                            r || (el(n.$$.fragment, e),
                            r = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            r = !1
                        },
                        d(e) {
                            eg(n, e),
                            o = !1,
                            i(s)
                        }
                    }
                }, o, {}, function e(t) {
                    x(t, "svelte-oqtmhy", "select.svelte-oqtmhy{width:calc(100% - 10px);padding:5px;margin-left:5px;margin-right:5px;color:black}select[disabled].svelte-oqtmhy{cursor:not-allowed}")
                })
            }
        }
        class nc extends e9 {
            constructor(t) {
                super(),
                e$(this, t, function e(t) {
                    let n, i = !1, r = new MutationObserver(e => {
                        for (let t of e)
                            for (let r of t.addedNodes)
                                r.nodeType == Node.ELEMENT_NODE && r.matches(".maxAll.flex.hc") && r.querySelector("img[src^='/assets/map/inventory/resources/']") && (n = r,
                                i && (n.style.display = "none"))
                    }
                    ), o = () => {
                        r.observe(document.body, {
                            childList: !0,
                            subtree: !0
                        })
                    }
                    ;
                    return document.body ? o() : window.addEventListener("DOMContentLoaded", o),
                    [function(e) {
                        i = e.detail,
                        n && (n.style.display = i ? "none" : "")
                    }
                    , ]
                }, function t(n) {
                    let i, r;
                    return (i = new tI({
                        props: {
                            onText: "Show Energy Popup",
                            offText: "Hide Energy Popup",
                            hotkeyId: "toggleEnergyPopup"
                        }
                    })).$on("click", n[0]),
                    {
                        c() {
                            eh(i.$$.fragment)
                        },
                        m(e, t) {
                            ep(i, e, t),
                            r = !0
                        },
                        p: e,
                        i(e) {
                            r || (el(i.$$.fragment, e),
                            r = !0)
                        },
                        o(e) {
                            eu(i.$$.fragment, e),
                            r = !1
                        },
                        d(e) {
                            eg(i, e)
                        }
                    }
                }, o, {})
            }
        }
        function nl(e) {
            let t, n;
            return (t = new tI({
                props: {
                    onText: "Stop auto purchasing",
                    offText: "Auto Purchase Upgrades",
                    hotkeyId: "classicAutoPurchase",
                    disabled: null == e[0],
                    disabledMsg: "Money hasn't loaded yet"
                }
            })).$on("click", e[1]),
            {
                c() {
                    eh(t.$$.fragment)
                },
                m(e, i) {
                    ep(t, e, i),
                    n = !0
                },
                p(e, n) {
                    let i = {};
                    1 & n && (i.disabled = null == e[0]),
                    t.$set(i)
                },
                i(e) {
                    n || (el(t.$$.fragment, e),
                    n = !0)
                },
                o(e) {
                    eu(t.$$.fragment, e),
                    n = !1
                },
                d(e) {
                    eg(t, e)
                }
            }
        }
        let nu = class extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    var r, o;
                    let s = [["Streak Bonus", 2, 20], ["Money Per Question", 3, 100], ["Streak Bonus", 3, 200], ["Multiplier", 3, 300], ["Streak Bonus", 4, 2e3], ["Multiplier", 4, 2e3], ["Money Per Question", 5, 1e4], ["Streak Bonus", 5, 2e4], ["Multiplier", 5, 12e3], ["Money Per Question", 6, 75e3], ["Multiplier", 6, 85e3], ["Streak Bonus", 6, 2e5], ["Streak Bonus", 7, 2e6], ["Streak Bonus", 8, 2e7], ["Multiplier", 7, 7e5], ["Money Per Question", 9, 1e7], ["Multiplier", 8, 65e5], ["Streak Bonus", 9, 2e8], ["Multiplier", 9, 65e6], ["Streak Bonus", 10, 2e9], ["Money Per Question", 10, 1e8], ["Multiplier", 10, 1e9], ];
                    (o = r || (r = {})).Insurance = "insurance",
                    o["Money Per Question"] = "moneyPerQuestion",
                    o.Multiplier = "multiplier",
                    o["Streak Bonus"] = "streakBonus";
                    let a = null
                      , c = {}
                      , l = !1;
                    function u() {
                        var e, t;
                        if (!l)
                            return;
                        let n = s[0];
                        n && a >= n[2] && (e = n[0],
                        t = n[1],
                        eK.sendMessage("UPGRADE_PURCHASED", {
                            upgradeName: e,
                            level: t
                        }))
                    }
                    return eK.addEventListener("blueboatMessage", e => {
                        if ("UPGRADE_LEVELS" == e.detail.data?.type) {
                            c = e.detail.data.value;
                            for (let t = 0; t < s.length; t++) {
                                let n = s[t];
                                c[r[n[0]]] >= n[1] && (s.splice(t, 1),
                                t--)
                            }
                        }
                        "BALANCE" == e.detail.data?.type && (i(0, a = e.detail.data.value),
                        u())
                    }
                    ),
                    [a, function(e) {
                        e.detail ? (l = !0,
                        u()) : l = !1
                    }
                    , ]
                }, function e(t) {
                    let n, i;
                    return n = new t0({
                        props: {
                            name: "Classic",
                            $$slots: {
                                default: [nl]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    }),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            i = !0
                        },
                        p(e, [t]) {
                            let i = {};
                            257 & t && (i.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            n.$set(i)
                        },
                        i(e) {
                            i || (el(n.$$.fragment, e),
                            i = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            i = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {})
            }
        }
        ;
        function nf(e) {
            let t, n;
            return (t = new tI({
                props: {
                    onText: "Stop auto purchasing",
                    offText: "Auto Purchase Upgrades",
                    hotkeyId: "richModeAutoPurchase",
                    disabled: null == e[0],
                    disabledMsg: "Money hasn't loaded yet"
                }
            })).$on("click", e[1]),
            {
                c() {
                    eh(t.$$.fragment)
                },
                m(e, i) {
                    ep(t, e, i),
                    n = !0
                },
                p(e, n) {
                    let i = {};
                    1 & n && (i.disabled = null == e[0]),
                    t.$set(i)
                },
                i(e) {
                    n || (el(t.$$.fragment, e),
                    n = !0)
                },
                o(e) {
                    eu(t.$$.fragment, e),
                    n = !1
                },
                d(e) {
                    eg(t, e)
                }
            }
        }
        class nd extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    var r, o;
                    let s = [["Streak Bonus", 2, 1e4], ["Money Per Question", 3, 5e3], ["Streak Bonus", 3, 1e5], ["Multiplier", 3, 15e4], ["Streak Bonus", 4, 1e6], ["Multiplier", 4, 1e6], ["Money Per Question", 5, 5e6], ["Streak Bonus", 5, 1e7], ["Multiplier", 5, 6e6], ["Money Per Question", 6, 375e5], ["Multiplier", 6, 425e5], ["Streak Bonus", 6, 1e8], ["Streak Bonus", 7, 1e9], ["Streak Bonus", 8, 1e10], ["Multiplier", 7, 35e7], ["Money Per Question", 9, 5e9], ["Multiplier", 8, 325e7], ["Streak Bonus", 9, 1e11], ["Multiplier", 9, 325e8], ["Streak Bonus", 10, 1e12], ["Money Per Question", 10, 5e10], ["Multiplier", 10, 5e11], ];
                    (o = r || (r = {})).Insurance = "insurance",
                    o["Money Per Question"] = "moneyPerQuestion",
                    o.Multiplier = "multiplier",
                    o["Streak Bonus"] = "streakBonus";
                    let a = null
                      , c = {}
                      , l = !1;
                    function u() {
                        var e, t;
                        if (!l)
                            return;
                        let n = s[0];
                        n && a >= n[2] && (e = n[0],
                        t = n[1],
                        eK.sendMessage("UPGRADE_PURCHASED", {
                            upgradeName: e,
                            level: t
                        }))
                    }
                    return eK.addEventListener("blueboatMessage", e => {
                        if ("UPGRADE_LEVELS" == e.detail.data?.type) {
                            c = e.detail.data.value;
                            for (let t = 0; t < s.length; t++) {
                                let n = s[t];
                                c[r[n[0]]] >= n[1] && (s.splice(t, 1),
                                t--)
                            }
                        }
                        "BALANCE" == e.detail.data?.type && (i(0, a = e.detail.data.value),
                        u())
                    }
                    ),
                    [a, function(e) {
                        e.detail ? (l = !0,
                        u()) : l = !1
                    }
                    , ]
                }, function e(t) {
                    let n, i;
                    return n = new t0({
                        props: {
                            name: "Super Rich Mode",
                            $$slots: {
                                default: [nf]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    }),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            i = !0
                        },
                        p(e, [t]) {
                            let i = {};
                            257 & t && (i.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            n.$set(i)
                        },
                        i(e) {
                            i || (el(n.$$.fragment, e),
                            i = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            i = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {})
            }
        }
        function nh(e) {
            let t, n, i, r, o = (0 == e[0].length ? "Waiting..." : e[0].join(", ")) + "";
            return {
                c() {
                    t = k("div"),
                    (n = k("p")).textContent = "This script will only work if you don't join mid-game.",
                    i = O("\r\n        Imposters: "),
                    r = O(o),
                    D(t, "class", "svelte-1h3d0lh")
                },
                m(e, o) {
                    w(e, t, o),
                    b(t, n),
                    b(t, i),
                    b(t, r)
                },
                p(e, t) {
                    1 & t && o !== (o = (0 == e[0].length ? "Waiting..." : e[0].join(", ")) + "") && M(r, o)
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        class np extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    let r = [];
                    return eK.addEventListener("blueboatMessage", e => {
                        "IMPOSTER_MODE_PEOPLE" == e.detail.key && i(0, r = e.detail.data.filter(e => "imposter" == e.role).map(e => e.name))
                    }
                    ),
                    [r]
                }, function e(t) {
                    let n, i;
                    return n = new t0({
                        props: {
                            name: "Trust No One",
                            $$slots: {
                                default: [nh]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    }),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            i = !0
                        },
                        p(e, [t]) {
                            let i = {};
                            3 & t && (i.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            n.$set(i)
                        },
                        i(e) {
                            i || (el(n.$$.fragment, e),
                            i = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            i = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {}, function e(t) {
                    x(t, "svelte-1h3d0lh", "div.svelte-1h3d0lh{padding-left:10px;padding-right:10px}")
                })
            }
        }
        function ng(e) {
            let t, n, i, r = (e[1] ?? e[2][0]?.options?.amountOfRequiredItem) + "";
            return {
                c() {
                    t = O("("),
                    n = O(r),
                    i = O(")")
                },
                m(e, r) {
                    w(e, t, r),
                    w(e, n, r),
                    w(e, i, r)
                },
                p(e, t) {
                    6 & t && r !== (r = (e[1] ?? e[2][0]?.options?.amountOfRequiredItem) + "") && M(n, r)
                },
                d(e) {
                    e && (E(t),
                    E(n),
                    E(i))
                }
            }
        }
        function n$(e) {
            let t, n, i, r, o = e[2].length > 0 && (e[2][0]?.options?.amountOfRequiredItem || e[1]) && ng(e);
            return {
                c() {
                    t = O("Purchase "),
                    n = O(e[0]),
                    i = T(),
                    o && o.c(),
                    r = C()
                },
                m(e, s) {
                    w(e, t, s),
                    w(e, n, s),
                    w(e, i, s),
                    o && o.m(e, s),
                    w(e, r, s)
                },
                p(e, t) {
                    1 & t && M(n, e[0]),
                    e[2].length > 0 && (e[2][0]?.options?.amountOfRequiredItem || e[1]) ? o ? o.p(e, t) : ((o = ng(e)).c(),
                    o.m(r.parentNode, r)) : o && (o.d(1),
                    o = null)
                },
                d(e) {
                    e && (E(t),
                    E(n),
                    E(i),
                    E(r)),
                    o && o.d(e)
                }
            }
        }
        class n9 extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    let r;
                    c(t, eZ, e => i(3, r = e));
                    let {selector: o} = n
                      , {displayText: s} = n
                      , {reusable: a=!1} = n
                      , {cost: l} = n
                      , u = [];
                    return eZ.subscribe(e => {
                        if (!e)
                            return;
                        let t = eC()?.stores?.phaser?.scene?.worldManager?.devices?.allDevices;
                        i(2, u = t.filter(e => {
                            let t = !0;
                            for (let[n,i] of Object.entries(o))
                                for (let[r,s] of Object.entries(i))
                                    if (s.endsWith?.("*")) {
                                        if (s = s.slice(0, -1),
                                        !e?.[n]?.[r]?.startsWith(s)) {
                                            t = !1;
                                            break
                                        }
                                    } else if ("function" == typeof s) {
                                        if (e?.[n]?.[r] != s()) {
                                            t = !1;
                                            break
                                        }
                                    } else if (e?.[n]?.[r] != s) {
                                        t = !1;
                                        break
                                    }
                            return t
                        }
                        )),
                        u.sort( (e, t) => e?.options?.amountOfRequiredItem - t?.options?.amountOfRequiredItem)
                    }
                    ),
                    t.$$set = e => {
                        "selector"in e && i(5, o = e.selector),
                        "displayText"in e && i(0, s = e.displayText),
                        "reusable"in e && i(6, a = e.reusable),
                        "cost"in e && i(1, l = e.cost)
                    }
                    ,
                    [s, l, u, r, async function() {
                        let e = eC()?.stores?.phaser?.scene?.worldManager?.devices?.allDevices;
                        u[0]?.interactiveZones?.onInteraction ? (u[0]?.interactiveZones?.onInteraction(),
                        a || (await new Promise(e => setTimeout(e, 500)),
                        u[0].state.active || (u.shift(),
                        i(2, u)))) : i(2, u = u.map(t => e.find(e => e.id == t.id)))
                    }
                    , o, a, ]
                }, function e(t) {
                    let n, i;
                    return (n = new tm({
                        props: {
                            disabled: !t[3] || 0 == t[2].length,
                            disabledMsg: t[3] ? "No matching purchase devices" : "Devices haven't loaded yet",
                            $$slots: {
                                default: [n$]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    })).$on("click", t[4]),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            i = !0
                        },
                        p(e, [t]) {
                            let i = {};
                            12 & t && (i.disabled = !e[3] || 0 == e[2].length),
                            8 & t && (i.disabledMsg = e[3] ? "No matching purchase devices" : "Devices haven't loaded yet"),
                            135 & t && (i.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            n.$set(i)
                        },
                        i(e) {
                            i || (el(n.$$.fragment, e),
                            i = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            i = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {
                    selector: 5,
                    displayText: 0,
                    reusable: 6,
                    cost: 1
                })
            }
        }
        function nm(t) {
            let n, i, r, o, s, a, c, l, u, f, d, h;
            return n = new n9({
                props: {
                    displayText: "Speed Upgrade",
                    selector: {
                        options: {
                            grantedItemName: "Speed Upgrade"
                        }
                    }
                }
            }),
            r = new n9({
                props: {
                    displayText: "Efficiency Upgrade",
                    selector: {
                        options: {
                            grantedItemName: "Efficiency Upgrade"
                        }
                    }
                }
            }),
            s = new n9({
                props: {
                    displayText: "Energy Per Question Upgrade",
                    selector: {
                        options: {
                            grantedItemName: "Energy Per Question Upgrade"
                        }
                    }
                }
            }),
            c = new n9({
                props: {
                    displayText: "Invisabits",
                    reusable: !0,
                    selector: {
                        options: {
                            grantedItemId: "silver-ore"
                        }
                    }
                }
            }),
            u = new n9({
                props: {
                    displayText: "Barrier",
                    selector: {
                        state: {
                            active: !0
                        },
                        options: {
                            grantedItemName: "Barrier*",
                            allowedPurchaseTeam: t[0]
                        }
                    }
                }
            }),
            d = new n9({
                props: {
                    displayText: "Big Barrier",
                    selector: {
                        state: {
                            active: !0
                        },
                        options: {
                            grantedItemName: "Big Barrier*",
                            allowedPurchaseTeam: t[1]
                        }
                    }
                }
            }),
            {
                c() {
                    eh(n.$$.fragment),
                    i = T(),
                    eh(r.$$.fragment),
                    o = T(),
                    eh(s.$$.fragment),
                    a = T(),
                    eh(c.$$.fragment),
                    l = T(),
                    eh(u.$$.fragment),
                    f = T(),
                    eh(d.$$.fragment)
                },
                m(e, t) {
                    ep(n, e, t),
                    w(e, i, t),
                    ep(r, e, t),
                    w(e, o, t),
                    ep(s, e, t),
                    w(e, a, t),
                    ep(c, e, t),
                    w(e, l, t),
                    ep(u, e, t),
                    w(e, f, t),
                    ep(d, e, t),
                    h = !0
                },
                p: e,
                i(e) {
                    h || (el(n.$$.fragment, e),
                    el(r.$$.fragment, e),
                    el(s.$$.fragment, e),
                    el(c.$$.fragment, e),
                    el(u.$$.fragment, e),
                    el(d.$$.fragment, e),
                    h = !0)
                },
                o(e) {
                    eu(n.$$.fragment, e),
                    eu(r.$$.fragment, e),
                    eu(s.$$.fragment, e),
                    eu(c.$$.fragment, e),
                    eu(u.$$.fragment, e),
                    eu(d.$$.fragment, e),
                    h = !1
                },
                d(e) {
                    e && (E(i),
                    E(o),
                    E(a),
                    E(l),
                    E(f)),
                    eg(n, e),
                    eg(r, e),
                    eg(s, e),
                    eg(c, e),
                    eg(u, e),
                    eg(d, e)
                }
            }
        }
        class n_ extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t) {
                    return [ () => eC()?.stores?.phaser?.mainCharacter?.teamId, () => eC()?.stores?.phaser?.mainCharacter?.teamId]
                }, function e(t) {
                    let n, i;
                    return n = new t0({
                        props: {
                            name: "Capture the Flag",
                            $$slots: {
                                default: [nm]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    }),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            i = !0
                        },
                        p(e, [t]) {
                            let i = {};
                            4 & t && (i.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            n.$set(i)
                        },
                        i(e) {
                            i || (el(n.$$.fragment, e),
                            i = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            i = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {})
            }
        }
        function nv(t) {
            let n, i, r, o, s, a, c, l;
            return n = new n9({
                props: {
                    displayText: "Speed Upgrade",
                    selector: {
                        options: {
                            grantedItemName: "Speed Upgrade"
                        }
                    }
                }
            }),
            r = new n9({
                props: {
                    displayText: "Efficiency Upgrade",
                    selector: {
                        options: {
                            grantedItemName: "Efficiency Upgrade"
                        }
                    }
                }
            }),
            s = new n9({
                props: {
                    displayText: "Energy Per Question Upgrade",
                    selector: {
                        options: {
                            grantedItemName: "Energy Per Question Upgrade"
                        }
                    }
                }
            }),
            c = new n9({
                props: {
                    displayText: "Endurance Upgrade",
                    selector: {
                        options: {
                            grantedItemName: "Endurance Upgrade"
                        }
                    }
                }
            }),
            {
                c() {
                    eh(n.$$.fragment),
                    i = T(),
                    eh(r.$$.fragment),
                    o = T(),
                    eh(s.$$.fragment),
                    a = T(),
                    eh(c.$$.fragment)
                },
                m(e, t) {
                    ep(n, e, t),
                    w(e, i, t),
                    ep(r, e, t),
                    w(e, o, t),
                    ep(s, e, t),
                    w(e, a, t),
                    ep(c, e, t),
                    l = !0
                },
                p: e,
                i(e) {
                    l || (el(n.$$.fragment, e),
                    el(r.$$.fragment, e),
                    el(s.$$.fragment, e),
                    el(c.$$.fragment, e),
                    l = !0)
                },
                o(e) {
                    eu(n.$$.fragment, e),
                    eu(r.$$.fragment, e),
                    eu(s.$$.fragment, e),
                    eu(c.$$.fragment, e),
                    l = !1
                },
                d(e) {
                    e && (E(i),
                    E(o),
                    E(a)),
                    eg(n, e),
                    eg(r, e),
                    eg(s, e),
                    eg(c, e)
                }
            }
        }
        class ny extends e9 {
            constructor(e) {
                super(),
                e$(this, e, null, function e(t) {
                    let n, i;
                    return n = new t0({
                        props: {
                            name: "Tag",
                            $$slots: {
                                default: [nv]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    }),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            i = !0
                        },
                        p(e, [t]) {
                            let i = {};
                            1 & t && (i.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            n.$set(i)
                        },
                        i(e) {
                            i || (el(n.$$.fragment, e),
                            i = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            i = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {})
            }
        }
        function n0(t) {
            let n, i, r, o;
            return n = new n9({
                props: {
                    displayText: "Med Pack",
                    reusable: !0,
                    selector: {
                        options: {
                            grantedItemId: "medpack"
                        }
                    }
                }
            }),
            r = new n9({
                props: {
                    displayText: "Shield Can",
                    reusable: !0,
                    selector: {
                        options: {
                            grantedItemId: "shield-can"
                        }
                    }
                }
            }),
            {
                c() {
                    eh(n.$$.fragment),
                    i = T(),
                    eh(r.$$.fragment)
                },
                m(e, t) {
                    ep(n, e, t),
                    w(e, i, t),
                    ep(r, e, t),
                    o = !0
                },
                p: e,
                i(e) {
                    o || (el(n.$$.fragment, e),
                    el(r.$$.fragment, e),
                    o = !0)
                },
                o(e) {
                    eu(n.$$.fragment, e),
                    eu(r.$$.fragment, e),
                    o = !1
                },
                d(e) {
                    e && E(i),
                    eg(n, e),
                    eg(r, e)
                }
            }
        }
        class nb extends e9 {
            constructor(e) {
                super(),
                e$(this, e, null, function e(t) {
                    let n, i;
                    return n = new t0({
                        props: {
                            name: "One Way Out",
                            $$slots: {
                                default: [n0]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    }),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            i = !0
                        },
                        p(e, [t]) {
                            let i = {};
                            1 & t && (i.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            n.$set(i)
                        },
                        i(e) {
                            i || (el(n.$$.fragment, e),
                            i = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            i = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {})
            }
        }
        class nx extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    let r, o = !1, {message: s} = n, {hotkeyId: a} = n;
                    return t.$$set = e => {
                        "message"in e && i(0, s = e.message),
                        "hotkeyId"in e && i(1, a = e.hotkeyId)
                    }
                    ,
                    [s, a, o, function() {
                        o ? r = setInterval( () => {
                            let e = eC().stores.phaser.scene.input.mousePointer
                              , t = eC().stores.phaser.mainCharacter.body;
                            if (!e || !t || !e.isDown)
                                return;
                            let n = new (0,
                            eC().Phaser.Math.Vector2)(e.worldX - t.x,e.worldY - (t.y - 3)).normalize()
                              , i = eC().Phaser.Math.Angle.Between(0, 0, n.x, n.y);
                            eK.sendMessage("FIRE", {
                                angle: i,
                                x: t.x,
                                y: t.y
                            })
                        }
                        , 50) : clearInterval(r)
                    }
                    , function(e) {
                        i(2, o = e)
                    }
                    , ]
                }, function e(t) {
                    let n, i, r;
                    function o(e) {
                        t[4](e)
                    }
                    let s = {
                        onText: t[0] + ": On",
                        offText: t[0] + ": Off",
                        hotkeyId: t[1]
                    };
                    return void 0 !== t[2] && (s.enabled = t[2]),
                    n = new tI({
                        props: s
                    }),
                    J.push( () => ed(n, "enabled", o)),
                    n.$on("click", t[3]),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            r = !0
                        },
                        p(e, [t]) {
                            let r = {};
                            1 & t && (r.onText = e[0] + ": On"),
                            1 & t && (r.offText = e[0] + ": Off"),
                            2 & t && (r.hotkeyId = e[1]),
                            !i && 4 & t && (i = !0,
                            r.enabled = e[2],
                            ee( () => i = !1)),
                            n.$set(r)
                        },
                        i(e) {
                            r || (el(n.$$.fragment, e),
                            r = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            r = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {
                    message: 0,
                    hotkeyId: 1
                })
            }
        }
        function nw(t) {
            let n, i, r, o, s, a;
            return n = new n9({
                props: {
                    displayText: "Med Pack",
                    reusable: !0,
                    selector: {
                        options: {
                            grantedItemId: "medpack"
                        }
                    }
                }
            }),
            r = new n9({
                props: {
                    displayText: "Shield Can",
                    reusable: !0,
                    selector: {
                        options: {
                            grantedItemId: "shield-can"
                        }
                    }
                }
            }),
            s = new nx({
                props: {
                    message: "Rapid fire",
                    hotkeyId: "snowbrawlRapidFire"
                }
            }),
            {
                c() {
                    eh(n.$$.fragment),
                    i = T(),
                    eh(r.$$.fragment),
                    o = T(),
                    eh(s.$$.fragment)
                },
                m(e, t) {
                    ep(n, e, t),
                    w(e, i, t),
                    ep(r, e, t),
                    w(e, o, t),
                    ep(s, e, t),
                    a = !0
                },
                p: e,
                i(e) {
                    a || (el(n.$$.fragment, e),
                    el(r.$$.fragment, e),
                    el(s.$$.fragment, e),
                    a = !0)
                },
                o(e) {
                    eu(n.$$.fragment, e),
                    eu(r.$$.fragment, e),
                    eu(s.$$.fragment, e),
                    a = !1
                },
                d(e) {
                    e && (E(i),
                    E(o)),
                    eg(n, e),
                    eg(r, e),
                    eg(s, e)
                }
            }
        }
        class n8 extends e9 {
            constructor(e) {
                super(),
                e$(this, e, null, function e(t) {
                    let n, i;
                    return n = new t0({
                        props: {
                            name: "Snowbrawl",
                            $$slots: {
                                default: [nw]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    }),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            i = !0
                        },
                        p(e, [t]) {
                            let i = {};
                            1 & t && (i.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            n.$set(i)
                        },
                        i(e) {
                            i || (el(n.$$.fragment, e),
                            i = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            i = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {})
            }
        }
        class n3 extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    let r = [["spaceElevator", 5e7], ["mountain", 5e6], ["skyscaper", 5e5], ["shoppingMall", 5e4], ["house", 5e3], ["wall", 500], ["brick", 50], ["plank", 5], ]
                      , o = null
                      , s = !1
                      , a = !1;
                    function c() {
                        if (!a && s) {
                            var e;
                            for (let t of (a = !0,
                            setTimeout( () => {
                                a = !1,
                                c()
                            }
                            , 150),
                            r))
                                if (o >= t[1]) {
                                    e = t[0],
                                    eK.sendMessage("LAVA_PURCHASE_PIECE", {
                                        type: e
                                    });
                                    break
                                }
                        }
                    }
                    return eK.addEventListener("blueboatMessage", e => {
                        "BALANCE" == e.detail.data?.type && (o = e.detail.data.value,
                        s && c())
                    }
                    ),
                    [s, function(e) {
                        i(0, s = e.detail),
                        c()
                    }
                    , function(e) {
                        i(0, s = e)
                    }
                    , ]
                }, function e(t) {
                    let n, i, r;
                    function o(e) {
                        t[2](e)
                    }
                    let s = {
                        offText: "Enable Auto Buy",
                        onText: "Disable Auto Buy",
                        hotkeyId: "floorIsLavaAutoBuy"
                    };
                    return void 0 !== t[0] && (s.enabled = t[0]),
                    n = new tI({
                        props: s
                    }),
                    J.push( () => ed(n, "enabled", o)),
                    n.$on("click", t[1]),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            r = !0
                        },
                        p(e, [t]) {
                            let r = {};
                            !i && 1 & t && (i = !0,
                            r.enabled = e[0],
                            ee( () => i = !1)),
                            n.$set(r)
                        },
                        i(e) {
                            r || (el(n.$$.fragment, e),
                            r = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            r = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {})
            }
        }
        function nE(e) {
            e.detail && document.querySelectorAll(".Toastify__toast").forEach(e => {
                e.style.display = "none",
                e.querySelector(".Toastify__close-button")?.click()
            }
            )
        }
        class n4 extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    let r = !1
                      , o = new MutationObserver(e => {
                        if (r)
                            for (let t of e)
                                for (let n of t.addedNodes)
                                    n instanceof HTMLElement && n.matches(".Toastify__toast") && (n.style.display = "none",
                                    n.querySelector(".Toastify__close-button")?.click())
                    }
                    )
                      , s = () => {
                        o.observe(document.body, {
                            childList: !0,
                            subtree: !0
                        })
                    }
                    ;
                    return document.body ? s() : window.addEventListener("DOMContentLoaded", s),
                    [r, function(e) {
                        i(0, r = e)
                    }
                    , ]
                }, function e(t) {
                    let n, i, r;
                    function o(e) {
                        t[1](e)
                    }
                    let s = {
                        offText: "Hide Purchase Popups",
                        onText: "Show Purchase Popups",
                        hotkeyId: "floorIsLavaHidePopups"
                    };
                    return void 0 !== t[0] && (s.enabled = t[0]),
                    n = new tI({
                        props: s
                    }),
                    J.push( () => ed(n, "enabled", o)),
                    n.$on("click", nE),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            r = !0
                        },
                        p(e, [t]) {
                            let r = {};
                            !i && 1 & t && (i = !0,
                            r.enabled = e[0],
                            ee( () => i = !1)),
                            n.$set(r)
                        },
                        i(e) {
                            r || (el(n.$$.fragment, e),
                            r = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            r = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {})
            }
        }
        function nI(e) {
            let t, n, i, r;
            return t = new n3({}),
            i = new n4({}),
            {
                c() {
                    eh(t.$$.fragment),
                    n = T(),
                    eh(i.$$.fragment)
                },
                m(e, o) {
                    ep(t, e, o),
                    w(e, n, o),
                    ep(i, e, o),
                    r = !0
                },
                i(e) {
                    r || (el(t.$$.fragment, e),
                    el(i.$$.fragment, e),
                    r = !0)
                },
                o(e) {
                    eu(t.$$.fragment, e),
                    eu(i.$$.fragment, e),
                    r = !1
                },
                d(e) {
                    e && E(n),
                    eg(t, e),
                    eg(i, e)
                }
            }
        }
        class nk extends e9 {
            constructor(e) {
                super(),
                e$(this, e, null, function e(t) {
                    let n, i;
                    return n = new t0({
                        props: {
                            name: "The Floor is Lava",
                            $$slots: {
                                default: [nI]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    }),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            i = !0
                        },
                        p(e, [t]) {
                            let i = {};
                            1 & t && (i.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            n.$set(i)
                        },
                        i(e) {
                            i || (el(n.$$.fragment, e),
                            i = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            i = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {})
            }
        }
        class nA extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    let r;
                    c(t, eZ, e => i(0, r = e));
                    let o = ["yellow-seed", "tan-seed", "brown-seed", "purple-seed", "magenta-seed", "green-seed", "bronze-seed", "orange-seed", "gold-seed", "dark-green-seed", "red-seed", "blue-seed", "teal-seed"], s;
                    return [r, function(e) {
                        if (e.detail) {
                            let t = eC()?.stores?.phaser?.scene?.worldManager?.devices?.allDevices
                              , n = t.filter(e => "plant" == e.options.style)
                              , i = {};
                            for (let r of t)
                                o.includes(r.options?.ingredient1Item) && (i[r.options?.ingredient1Item] = r);
                            s = setInterval( () => {
                                let e, t = eC()?.stores?.me?.inventory?.slots;
                                if (!t)
                                    return;
                                for (let r of o) {
                                    let s = i[r]
                                      , a = !0;
                                    for (let c = 0; c < 5; c++) {
                                        let l = s?.options?.[`ingredient${c}Item`];
                                        if (l && !t.get(l)?.amount >= s.options[`ingredient${c}Amount`]) {
                                            a = !1;
                                            break
                                        }
                                    }
                                    if (a) {
                                        e = r;
                                        break
                                    }
                                }
                                if (!e)
                                    return;
                                let u = n.findLast(e => "idle" == e.state.status);
                                eK.sendMessage("MESSAGE_FOR_DEVICE", {
                                    key: "craft",
                                    deviceId: u.id,
                                    data: {
                                        recipe: i[e].id
                                    }
                                })
                            }
                            , 100)
                        } else
                            clearInterval(s)
                    }
                    , ]
                }, function e(t) {
                    let n, i;
                    return (n = new tI({
                        props: {
                            offText: "Start Auto Planting",
                            onText: "Stop Auto Planting",
                            disabled: !t[0],
                            disabledMsg: "Farm plots not loaded",
                            hotkeyId: "farmchainAutoPlant"
                        }
                    })).$on("click", t[1]),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            i = !0
                        },
                        p(e, [t]) {
                            let i = {};
                            1 & t && (i.disabled = !e[0]),
                            n.$set(i)
                        },
                        i(e) {
                            i || (el(n.$$.fragment, e),
                            i = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            i = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {})
            }
        }
        class nO extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    let r = !1;
                    return eK.addEventListener("deviceChanges", e => {
                        if (!r)
                            return;
                        let t = e.detail;
                        for (let n of t)
                            for (let i in n.data) {
                                if (!i.endsWith("status") || "availableForCollection" != n.data[i])
                                    continue;
                                let o = {
                                    key: "collect",
                                    deviceId: n.id
                                };
                                eK.sendMessage("MESSAGE_FOR_DEVICE", o)
                            }
                    }
                    ),
                    [r, function(e) {
                        i(0, r = e)
                    }
                    , ]
                }, function e(t) {
                    let n, i, r;
                    function o(e) {
                        t[1](e)
                    }
                    let s = {
                        hotkeyId: "farmchainAutoHarvest",
                        offText: "Start Auto Harvesting",
                        onText: "Stop Auto Harvesting"
                    };
                    return void 0 !== t[0] && (s.enabled = t[0]),
                    n = new tI({
                        props: s
                    }),
                    J.push( () => ed(n, "enabled", o)),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            r = !0
                        },
                        p(e, [t]) {
                            let r = {};
                            !i && 1 & t && (i = !0,
                            r.enabled = e[0],
                            ee( () => i = !1)),
                            n.$set(r)
                        },
                        i(e) {
                            r || (el(n.$$.fragment, e),
                            r = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            r = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {})
            }
        }
        function n2(t) {
            let n, i, r, o, s, a, c, l, u, f, d, h, p, g, $, m, _, v, y, b, x, I, k, A, O, C;
            return n = new n9({
                props: {
                    displayText: "Corn Seed",
                    reusable: !0,
                    selector: {
                        options: {
                            grantedItemId: "yellow-seed"
                        }
                    }
                }
            }),
            r = new n9({
                props: {
                    displayText: "Wheat Seed",
                    reusable: !0,
                    selector: {
                        options: {
                            grantedItemId: "tan-seed"
                        }
                    }
                }
            }),
            s = new n9({
                props: {
                    displayText: "Potato Seed",
                    reusable: !0,
                    selector: {
                        options: {
                            grantedItemId: "brown-seed"
                        }
                    }
                }
            }),
            c = new n9({
                props: {
                    displayText: "Grape Seed",
                    reusable: !0,
                    selector: {
                        options: {
                            grantedItemId: "purple-seed"
                        }
                    }
                }
            }),
            u = new n9({
                props: {
                    displayText: "Raspberry Seed",
                    reusable: !0,
                    selector: {
                        options: {
                            grantedItemId: "magenta-seed"
                        }
                    }
                }
            }),
            d = new n9({
                props: {
                    displayText: "Watermelon Seed",
                    reusable: !0,
                    selector: {
                        options: {
                            grantedItemId: "green-seed"
                        }
                    }
                }
            }),
            p = new n9({
                props: {
                    displayText: "Coffee Bean Seed",
                    reusable: !0,
                    selector: {
                        options: {
                            grantedItemId: "bronze-seed"
                        }
                    }
                }
            }),
            $ = new n9({
                props: {
                    displayText: "Orange Seed",
                    reusable: !0,
                    selector: {
                        options: {
                            grantedItemId: "orange-seed"
                        }
                    }
                }
            }),
            _ = new n9({
                props: {
                    displayText: "Gimberry Seed",
                    reusable: !0,
                    selector: {
                        options: {
                            grantedItemId: "gold-seed"
                        }
                    }
                }
            }),
            y = new n9({
                props: {
                    displayText: "Cash Berry Seed",
                    reusable: !0,
                    selector: {
                        options: {
                            grantedItemId: "dark-green-seed"
                        }
                    }
                }
            }),
            x = new n9({
                props: {
                    displayText: "Pepper Seed",
                    reusable: !0,
                    selector: {
                        options: {
                            grantedItemId: "red-seed"
                        }
                    }
                }
            }),
            k = new n9({
                props: {
                    displayText: "Energy Bar Seed",
                    reusable: !0,
                    selector: {
                        options: {
                            grantedItemId: "blue-seed"
                        }
                    }
                }
            }),
            O = new n9({
                props: {
                    displayText: "Lottery Ticket Seed",
                    reusable: !0,
                    selector: {
                        options: {
                            grantedItemId: "teal-seed"
                        }
                    }
                }
            }),
            {
                c() {
                    eh(n.$$.fragment),
                    i = T(),
                    eh(r.$$.fragment),
                    o = T(),
                    eh(s.$$.fragment),
                    a = T(),
                    eh(c.$$.fragment),
                    l = T(),
                    eh(u.$$.fragment),
                    f = T(),
                    eh(d.$$.fragment),
                    h = T(),
                    eh(p.$$.fragment),
                    g = T(),
                    eh($.$$.fragment),
                    m = T(),
                    eh(_.$$.fragment),
                    v = T(),
                    eh(y.$$.fragment),
                    b = T(),
                    eh(x.$$.fragment),
                    I = T(),
                    eh(k.$$.fragment),
                    A = T(),
                    eh(O.$$.fragment)
                },
                m(e, t) {
                    ep(n, e, t),
                    w(e, i, t),
                    ep(r, e, t),
                    w(e, o, t),
                    ep(s, e, t),
                    w(e, a, t),
                    ep(c, e, t),
                    w(e, l, t),
                    ep(u, e, t),
                    w(e, f, t),
                    ep(d, e, t),
                    w(e, h, t),
                    ep(p, e, t),
                    w(e, g, t),
                    ep($, e, t),
                    w(e, m, t),
                    ep(_, e, t),
                    w(e, v, t),
                    ep(y, e, t),
                    w(e, b, t),
                    ep(x, e, t),
                    w(e, I, t),
                    ep(k, e, t),
                    w(e, A, t),
                    ep(O, e, t),
                    C = !0
                },
                p: e,
                i(e) {
                    C || (el(n.$$.fragment, e),
                    el(r.$$.fragment, e),
                    el(s.$$.fragment, e),
                    el(c.$$.fragment, e),
                    el(u.$$.fragment, e),
                    el(d.$$.fragment, e),
                    el(p.$$.fragment, e),
                    el($.$$.fragment, e),
                    el(_.$$.fragment, e),
                    el(y.$$.fragment, e),
                    el(x.$$.fragment, e),
                    el(k.$$.fragment, e),
                    el(O.$$.fragment, e),
                    C = !0)
                },
                o(e) {
                    eu(n.$$.fragment, e),
                    eu(r.$$.fragment, e),
                    eu(s.$$.fragment, e),
                    eu(c.$$.fragment, e),
                    eu(u.$$.fragment, e),
                    eu(d.$$.fragment, e),
                    eu(p.$$.fragment, e),
                    eu($.$$.fragment, e),
                    eu(_.$$.fragment, e),
                    eu(y.$$.fragment, e),
                    eu(x.$$.fragment, e),
                    eu(k.$$.fragment, e),
                    eu(O.$$.fragment, e),
                    C = !1
                },
                d(e) {
                    e && (E(i),
                    E(o),
                    E(a),
                    E(l),
                    E(f),
                    E(h),
                    E(g),
                    E(m),
                    E(v),
                    E(b),
                    E(I),
                    E(A)),
                    eg(n, e),
                    eg(r, e),
                    eg(s, e),
                    eg(c, e),
                    eg(u, e),
                    eg(d, e),
                    eg(p, e),
                    eg($, e),
                    eg(_, e),
                    eg(y, e),
                    eg(x, e),
                    eg(k, e),
                    eg(O, e)
                }
            }
        }
        function n1(t) {
            let n, i, r, o, s, a, c, l, u, f, d, h, p, g, $, m;
            return n = new n9({
                props: {
                    displayText: "Unlock Wheat Seed",
                    selector: {
                        options: {
                            grantedItemName: "Wheat Seed Unlock"
                        }
                    }
                }
            }),
            r = new n9({
                props: {
                    displayText: "Unlock Potato Seed",
                    selector: {
                        options: {
                            grantedItemName: "Potato Seed Unlock"
                        }
                    }
                }
            }),
            s = new n9({
                props: {
                    displayText: "Unlock Grape Seed",
                    selector: {
                        options: {
                            grantedItemName: "Grape Seed Unlock"
                        }
                    }
                }
            }),
            c = new n9({
                props: {
                    displayText: "Unlock Raspberry Seed",
                    selector: {
                        options: {
                            grantedItemName: "Raspberry Seed Unlock"
                        }
                    }
                }
            }),
            u = new n9({
                props: {
                    displayText: "Unlock Watermelon Seed",
                    selector: {
                        options: {
                            grantedItemName: "Watermelon Seed Unlock"
                        }
                    }
                }
            }),
            d = new n9({
                props: {
                    displayText: "Unlock Coffee Bean Seed",
                    selector: {
                        options: {
                            grantedItemName: "Coffee Bean Seed Unlock"
                        }
                    }
                }
            }),
            p = new n9({
                props: {
                    displayText: "Unlock Orange Seed",
                    selector: {
                        options: {
                            grantedItemName: "Orange Seed Unlock"
                        }
                    }
                }
            }),
            $ = new n9({
                props: {
                    displayText: "Unlock Gimberry Seed",
                    selector: {
                        options: {
                            grantedItemName: "Gimberry Seed Unlock"
                        }
                    }
                }
            }),
            {
                c() {
                    eh(n.$$.fragment),
                    i = T(),
                    eh(r.$$.fragment),
                    o = T(),
                    eh(s.$$.fragment),
                    a = T(),
                    eh(c.$$.fragment),
                    l = T(),
                    eh(u.$$.fragment),
                    f = T(),
                    eh(d.$$.fragment),
                    h = T(),
                    eh(p.$$.fragment),
                    g = T(),
                    eh($.$$.fragment)
                },
                m(e, t) {
                    ep(n, e, t),
                    w(e, i, t),
                    ep(r, e, t),
                    w(e, o, t),
                    ep(s, e, t),
                    w(e, a, t),
                    ep(c, e, t),
                    w(e, l, t),
                    ep(u, e, t),
                    w(e, f, t),
                    ep(d, e, t),
                    w(e, h, t),
                    ep(p, e, t),
                    w(e, g, t),
                    ep($, e, t),
                    m = !0
                },
                p: e,
                i(e) {
                    m || (el(n.$$.fragment, e),
                    el(r.$$.fragment, e),
                    el(s.$$.fragment, e),
                    el(c.$$.fragment, e),
                    el(u.$$.fragment, e),
                    el(d.$$.fragment, e),
                    el(p.$$.fragment, e),
                    el($.$$.fragment, e),
                    m = !0)
                },
                o(e) {
                    eu(n.$$.fragment, e),
                    eu(r.$$.fragment, e),
                    eu(s.$$.fragment, e),
                    eu(c.$$.fragment, e),
                    eu(u.$$.fragment, e),
                    eu(d.$$.fragment, e),
                    eu(p.$$.fragment, e),
                    eu($.$$.fragment, e),
                    m = !1
                },
                d(e) {
                    e && (E(i),
                    E(o),
                    E(a),
                    E(l),
                    E(f),
                    E(h),
                    E(g)),
                    eg(n, e),
                    eg(r, e),
                    eg(s, e),
                    eg(c, e),
                    eg(u, e),
                    eg(d, e),
                    eg(p, e),
                    eg($, e)
                }
            }
        }
        function nT(e) {
            let t, n, i, r, o, s, a, c;
            return t = new nO({}),
            i = new nA({}),
            o = new t0({
                props: {
                    name: "Purchase Seeds",
                    $$slots: {
                        default: [n2]
                    },
                    $$scope: {
                        ctx: e
                    }
                }
            }),
            a = new t0({
                props: {
                    name: "Unlock Seeds",
                    $$slots: {
                        default: [n1]
                    },
                    $$scope: {
                        ctx: e
                    }
                }
            }),
            {
                c() {
                    eh(t.$$.fragment),
                    n = T(),
                    eh(i.$$.fragment),
                    r = T(),
                    eh(o.$$.fragment),
                    s = T(),
                    eh(a.$$.fragment)
                },
                m(e, l) {
                    ep(t, e, l),
                    w(e, n, l),
                    ep(i, e, l),
                    w(e, r, l),
                    ep(o, e, l),
                    w(e, s, l),
                    ep(a, e, l),
                    c = !0
                },
                p(e, t) {
                    let n = {};
                    1 & t && (n.$$scope = {
                        dirty: t,
                        ctx: e
                    }),
                    o.$set(n);
                    let i = {};
                    1 & t && (i.$$scope = {
                        dirty: t,
                        ctx: e
                    }),
                    a.$set(i)
                },
                i(e) {
                    c || (el(t.$$.fragment, e),
                    el(i.$$.fragment, e),
                    el(o.$$.fragment, e),
                    el(a.$$.fragment, e),
                    c = !0)
                },
                o(e) {
                    eu(t.$$.fragment, e),
                    eu(i.$$.fragment, e),
                    eu(o.$$.fragment, e),
                    eu(a.$$.fragment, e),
                    c = !1
                },
                d(e) {
                    e && (E(n),
                    E(r),
                    E(s)),
                    eg(t, e),
                    eg(i, e),
                    eg(o, e),
                    eg(a, e)
                }
            }
        }
        class n6 extends e9 {
            constructor(e) {
                super(),
                e$(this, e, null, function e(t) {
                    let n, i;
                    return n = new t0({
                        props: {
                            name: "Farmchain",
                            $$slots: {
                                default: [nT]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    }),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            i = !0
                        },
                        p(e, [t]) {
                            let i = {};
                            1 & t && (i.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            n.$set(i)
                        },
                        i(e) {
                            i || (el(n.$$.fragment, e),
                            i = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            i = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {})
            }
        }
        let nC = ex(null);
        function nR(e) {
            let t, n, i, r, o, s, a, c, l, u, f, d;
            function h(t) {
                e[11](t)
            }
            let p = {
                title: "Speedup Amount",
                min: 1,
                max: e[6],
                step: .005
            };
            function g(t) {
                e[12](t)
            }
            void 0 !== e[0] && (p.value = e[0]),
            t = new ne({
                props: p
            }),
            J.push( () => ed(t, "value", h)),
            t.$on("input", e[8]);
            let $ = {
                disabled: !e[5],
                onText: "Speedup: On",
                offText: "Speedup: Off",
                hotkeyId: "speedup"
            };
            function m(t) {
                e[14](t)
            }
            void 0 !== e[1] && ($.enabled = e[1]),
            r = new tI({
                props: $
            }),
            J.push( () => ed(r, "enabled", g)),
            r.$on("click", e[13]);
            let _ = {
                title: "Jump Boost Amount",
                min: 1,
                max: e[6],
                step: .005
            };
            function v(t) {
                e[15](t)
            }
            void 0 !== e[3] && (_.value = e[3]),
            a = new ne({
                props: _
            }),
            J.push( () => ed(a, "value", m)),
            a.$on("input", e[10]);
            let y = {
                disabled: !e[4],
                onText: "Jump Boost: On",
                offText: "Jump Boost: Off",
                hotkeyId: "jumpboost"
            };
            return void 0 !== e[2] && (y.enabled = e[2]),
            u = new tI({
                props: y
            }),
            J.push( () => ed(u, "enabled", v)),
            u.$on("click", e[16]),
            {
                c() {
                    eh(t.$$.fragment),
                    i = T(),
                    eh(r.$$.fragment),
                    s = T(),
                    eh(a.$$.fragment),
                    l = T(),
                    eh(u.$$.fragment)
                },
                m(e, n) {
                    ep(t, e, n),
                    w(e, i, n),
                    ep(r, e, n),
                    w(e, s, n),
                    ep(a, e, n),
                    w(e, l, n),
                    ep(u, e, n),
                    d = !0
                },
                p(e, i) {
                    let s = {};
                    !n && 1 & i && (n = !0,
                    s.value = e[0],
                    ee( () => n = !1)),
                    t.$set(s);
                    let l = {};
                    32 & i && (l.disabled = !e[5]),
                    !o && 2 & i && (o = !0,
                    l.enabled = e[1],
                    ee( () => o = !1)),
                    r.$set(l);
                    let d = {};
                    !c && 8 & i && (c = !0,
                    d.value = e[3],
                    ee( () => c = !1)),
                    a.$set(d);
                    let h = {};
                    16 & i && (h.disabled = !e[4]),
                    !f && 4 & i && (f = !0,
                    h.enabled = e[2],
                    ee( () => f = !1)),
                    u.$set(h)
                },
                i(e) {
                    d || (el(t.$$.fragment, e),
                    el(r.$$.fragment, e),
                    el(a.$$.fragment, e),
                    el(u.$$.fragment, e),
                    d = !0)
                },
                o(e) {
                    eu(t.$$.fragment, e),
                    eu(r.$$.fragment, e),
                    eu(a.$$.fragment, e),
                    eu(u.$$.fragment, e),
                    d = !1
                },
                d(e) {
                    e && (E(i),
                    E(s),
                    E(l)),
                    eg(t, e),
                    eg(r, e),
                    eg(a, e),
                    eg(u, e)
                }
            }
        }
        class nP extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    let r, o;
                    c(t, nC, e => i(4, r = e)),
                    c(t, eY, e => i(5, o = e));
                    let s, a = 1, l = -1, u = !1;
                    function f(e) {
                        if (eC()?.stores?.me) {
                            if ("platformer" == eC().stores.session.mapStyle) {
                                if (e) {
                                    let t = l * a;
                                    s = t,
                                    p(nC, r.platformerGroundSpeed = t, r)
                                } else
                                    p(nC, r.platformerGroundSpeed = l, r)
                            } else if (e) {
                                let n = l * a;
                                s = n,
                                eC().stores.me.movementSpeed = n
                            } else
                                eC().stores.me.movementSpeed = l
                        }
                    }
                    setInterval(function() {
                        if (!eC()?.stores?.me)
                            return;
                        let e = eC().stores.session.mapStyle;
                        if (e) {
                            if ("platformer" == e) {
                                let t = r.platformerGroundSpeed;
                                t !== s && (l = t,
                                u && f(!0))
                            } else {
                                let n = eC().stores.me.movementSpeed;
                                n !== s && (l = n,
                                u && f(!0))
                            }
                        }
                    }, 500);
                    let d = !1
                      , h = 1
                      , g = -1;
                    function $(e) {
                        if (-1 == g && (g = r.jump.height),
                        e) {
                            let t = g * h;
                            p(nC, r.jump.height = t, r)
                        } else
                            p(nC, r.jump.height = g, r)
                    }
                    return [a, u, d, h, r, o, 490 / 357, f, function(e) {
                        if (i(0, a = e.detail),
                        !eC()?.stores?.me || !u)
                            return;
                        let t = eC().stores.session.mapStyle;
                        if (!t)
                            return;
                        let n = l * e.detail;
                        s = n,
                        "platformer" == t ? p(nC, r.platformerGroundSpeed = n, r) : eC().stores.me.movementSpeed = n
                    }
                    , $, function(e) {
                        if (i(3, h = e.detail),
                        !d || !r)
                            return;
                        -1 == g && (g = r.jump.height);
                        let t = g * e.detail;
                        p(nC, r.jump.height = t, r)
                    }
                    , function(e) {
                        i(0, a = e)
                    }
                    , function(e) {
                        i(1, u = e)
                    }
                    , e => f(e.detail), function(e) {
                        i(3, h = e)
                    }
                    , function(e) {
                        i(2, d = e)
                    }
                    , e => $(e.detail), ]
                }, function e(t) {
                    let n, i;
                    return n = new t0({
                        props: {
                            name: "Movement",
                            $$slots: {
                                default: [nR]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    }),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            i = !0
                        },
                        p(e, [t]) {
                            let i = {};
                            2097215 & t && (i.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            n.$set(i)
                        },
                        i(e) {
                            i || (el(n.$$.fragment, e),
                            i = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            i = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {})
            }
        }
        function n7(e, t, n) {
            let i = e.slice();
            return i[9] = t[n],
            i
        }
        function nS(e, t, n) {
            let i = e.slice();
            return i[9] = t[n],
            i
        }
        function nD(e) {
            let t, n, i = ef(e[0]), r = [];
            for (let o = 0; o < i.length; o += 1)
                r[o] = nL(nS(e, i, o));
            let s = e => eu(r[e], 1, 1, () => {
                r[e] = null
            }
            );
            return {
                c() {
                    for (let e = 0; e < r.length; e += 1)
                        r[e].c();
                    t = C()
                },
                m(e, i) {
                    for (let o = 0; o < r.length; o += 1)
                        r[o] && r[o].m(e, i);
                    w(e, t, i),
                    n = !0
                },
                p(e, n) {
                    if (9 & n) {
                        let o;
                        for (i = ef(e[0]),
                        o = 0; o < i.length; o += 1) {
                            let a = nS(e, i, o);
                            r[o] ? (r[o].p(a, n),
                            el(r[o], 1)) : (r[o] = nL(a),
                            r[o].c(),
                            el(r[o], 1),
                            r[o].m(t.parentNode, t))
                        }
                        for (ea(),
                        o = i.length; o < r.length; o += 1)
                            s(o);
                        ec()
                    }
                },
                i(e) {
                    if (!n) {
                        for (let t = 0; t < i.length; t += 1)
                            el(r[t]);
                        n = !0
                    }
                },
                o(e) {
                    r = r.filter(Boolean);
                    for (let t = 0; t < r.length; t += 1)
                        eu(r[t]);
                    n = !1
                },
                d(e) {
                    e && E(t),
                    I(r, e)
                }
            }
        }
        function nN(e) {
            let t, n, i, r;
            return (i = new tm({
                props: {
                    $$slots: {
                        default: [n5]
                    },
                    $$scope: {
                        ctx: e
                    }
                }
            })).$on("click", e[2]),
            {
                c() {
                    (t = k("div")).textContent = "Permits haven't loaded in yet",
                    n = T(),
                    eh(i.$$.fragment),
                    D(t, "class", "notLoaded svelte-1a7yjpn")
                },
                m(e, o) {
                    w(e, t, o),
                    w(e, n, o),
                    ep(i, e, o),
                    r = !0
                },
                p(e, t) {
                    let n = {};
                    16384 & t && (n.$$scope = {
                        dirty: t,
                        ctx: e
                    }),
                    i.$set(n)
                },
                i(e) {
                    r || (el(i.$$.fragment, e),
                    r = !0)
                },
                o(e) {
                    eu(i.$$.fragment, e),
                    r = !1
                },
                d(e) {
                    e && (E(t),
                    E(n)),
                    eg(i, e)
                }
            }
        }
        function nM(e) {
            let t, n, i = e[9].options.text + "";
            return {
                c() {
                    t = O(i),
                    n = T()
                },
                m(e, i) {
                    w(e, t, i),
                    w(e, n, i)
                },
                p(e, n) {
                    1 & n && i !== (i = e[9].options.text + "") && M(t, i)
                },
                d(e) {
                    e && (E(t),
                    E(n))
                }
            }
        }
        function nL(e) {
            let t, n;
            return (t = new tm({
                props: {
                    $$slots: {
                        default: [nM]
                    },
                    $$scope: {
                        ctx: e
                    }
                }
            })).$on("click", function() {
                return e[5](e[9])
            }),
            {
                c() {
                    eh(t.$$.fragment)
                },
                m(e, i) {
                    ep(t, e, i),
                    n = !0
                },
                p(n, i) {
                    e = n;
                    let r = {};
                    16385 & i && (r.$$scope = {
                        dirty: i,
                        ctx: e
                    }),
                    t.$set(r)
                },
                i(e) {
                    n || (el(t.$$.fragment, e),
                    n = !0)
                },
                o(e) {
                    eu(t.$$.fragment, e),
                    n = !1
                },
                d(e) {
                    eg(t, e)
                }
            }
        }
        function n5(e) {
            let t;
            return {
                c() {
                    t = O("Retry")
                },
                m(e, n) {
                    w(e, t, n)
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        function nq(e) {
            let t, n, i, r, o = [nN, nD], s = [];
            function a(e, t) {
                return 0 == e[0].length ? 0 : 1
            }
            return n = s[t = a(e)] = o[t](e),
            {
                c() {
                    n.c(),
                    i = C()
                },
                m(e, n) {
                    s[t].m(e, n),
                    w(e, i, n),
                    r = !0
                },
                p(e, r) {
                    let c = t;
                    (t = a(e)) === c ? s[t].p(e, r) : (ea(),
                    eu(s[c], 1, 1, () => {
                        s[c] = null
                    }
                    ),
                    ec(),
                    (n = s[t]) ? n.p(e, r) : (n = s[t] = o[t](e)).c(),
                    el(n, 1),
                    n.m(i.parentNode, i))
                },
                i(e) {
                    r || (el(n),
                    r = !0)
                },
                o(e) {
                    eu(n),
                    r = !1
                },
                d(e) {
                    e && E(i),
                    s[t].d(e)
                }
            }
        }
        function nU(e) {
            let t, n, i = ef(e[1]), r = [];
            for (let o = 0; o < i.length; o += 1)
                r[o] = nz(n7(e, i, o));
            let s = e => eu(r[e], 1, 1, () => {
                r[e] = null
            }
            );
            return {
                c() {
                    for (let e = 0; e < r.length; e += 1)
                        r[e].c();
                    t = C()
                },
                m(e, i) {
                    for (let o = 0; o < r.length; o += 1)
                        r[o] && r[o].m(e, i);
                    w(e, t, i),
                    n = !0
                },
                p(e, n) {
                    if (18 & n) {
                        let o;
                        for (i = ef(e[1]),
                        o = 0; o < i.length; o += 1) {
                            let a = n7(e, i, o);
                            r[o] ? (r[o].p(a, n),
                            el(r[o], 1)) : (r[o] = nz(a),
                            r[o].c(),
                            el(r[o], 1),
                            r[o].m(t.parentNode, t))
                        }
                        for (ea(),
                        o = i.length; o < r.length; o += 1)
                            s(o);
                        ec()
                    }
                },
                i(e) {
                    if (!n) {
                        for (let t = 0; t < i.length; t += 1)
                            el(r[t]);
                        n = !0
                    }
                },
                o(e) {
                    r = r.filter(Boolean);
                    for (let t = 0; t < r.length; t += 1)
                        eu(r[t]);
                    n = !1
                },
                d(e) {
                    e && E(t),
                    I(r, e)
                }
            }
        }
        function nB(e) {
            let t, n, i, r;
            return (i = new tm({
                props: {
                    $$slots: {
                        default: [nV]
                    },
                    $$scope: {
                        ctx: e
                    }
                }
            })).$on("click", e[2]),
            {
                c() {
                    (t = k("div")).textContent = "Pickaxes haven't loaded in yet",
                    n = T(),
                    eh(i.$$.fragment),
                    D(t, "class", "notLoaded svelte-1a7yjpn")
                },
                m(e, o) {
                    w(e, t, o),
                    w(e, n, o),
                    ep(i, e, o),
                    r = !0
                },
                p(e, t) {
                    let n = {};
                    16384 & t && (n.$$scope = {
                        dirty: t,
                        ctx: e
                    }),
                    i.$set(n)
                },
                i(e) {
                    r || (el(i.$$.fragment, e),
                    r = !0)
                },
                o(e) {
                    eu(i.$$.fragment, e),
                    r = !1
                },
                d(e) {
                    e && (E(t),
                    E(n)),
                    eg(i, e)
                }
            }
        }
        function nH(e) {
            let t, n, i = e[9].options.text + "";
            return {
                c() {
                    t = O(i),
                    n = T()
                },
                m(e, i) {
                    w(e, t, i),
                    w(e, n, i)
                },
                p(e, n) {
                    2 & n && i !== (i = e[9].options.text + "") && M(t, i)
                },
                d(e) {
                    e && (E(t),
                    E(n))
                }
            }
        }
        function nz(e) {
            let t, n;
            return (t = new tm({
                props: {
                    $$slots: {
                        default: [nH]
                    },
                    $$scope: {
                        ctx: e
                    }
                }
            })).$on("click", function() {
                return e[6](e[9])
            }),
            {
                c() {
                    eh(t.$$.fragment)
                },
                m(e, i) {
                    ep(t, e, i),
                    n = !0
                },
                p(n, i) {
                    e = n;
                    let r = {};
                    16386 & i && (r.$$scope = {
                        dirty: i,
                        ctx: e
                    }),
                    t.$set(r)
                },
                i(e) {
                    n || (el(t.$$.fragment, e),
                    n = !0)
                },
                o(e) {
                    eu(t.$$.fragment, e),
                    n = !1
                },
                d(e) {
                    eg(t, e)
                }
            }
        }
        function nV(e) {
            let t;
            return {
                c() {
                    t = O("Retry")
                },
                m(e, n) {
                    w(e, t, n)
                },
                d(e) {
                    e && E(t)
                }
            }
        }
        function nF(e) {
            let t, n, i, r, o = [nB, nU], s = [];
            function a(e, t) {
                return 0 == e[1].length ? 0 : 1
            }
            return n = s[t = a(e)] = o[t](e),
            {
                c() {
                    n.c(),
                    i = C()
                },
                m(e, n) {
                    s[t].m(e, n),
                    w(e, i, n),
                    r = !0
                },
                p(e, r) {
                    let c = t;
                    (t = a(e)) === c ? s[t].p(e, r) : (ea(),
                    eu(s[c], 1, 1, () => {
                        s[c] = null
                    }
                    ),
                    ec(),
                    (n = s[t]) ? n.p(e, r) : (n = s[t] = o[t](e)).c(),
                    el(n, 1),
                    n.m(i.parentNode, i))
                },
                i(e) {
                    r || (el(n),
                    r = !0)
                },
                o(e) {
                    eu(n),
                    r = !1
                },
                d(e) {
                    e && E(i),
                    s[t].d(e)
                }
            }
        }
        class nj extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    let r = []
                      , o = null
                      , s = []
                      , a = null
                      , c = () => {
                        let e = eC().stores.phaser.scene.worldManager.devices.allDevices;
                        i(0, r = e.filter(e => "permit upgrade" === e.options.group)),
                        o = r.find(e => e.options.message),
                        i(0, r = r.filter(e => e !== o)),
                        i(1, s = e.filter(e => "pickaxe upgrade" === e.options.group)),
                        a = s.find(e => e.options.message),
                        i(1, s = s.filter(e => e !== a))
                    }
                    ;
                    function l(e) {
                        eK.sendMessage("MESSAGE_FOR_DEVICE", {
                            key: "action",
                            deviceId: o.id,
                            data: {
                                action: e.id
                            }
                        })
                    }
                    function u(e) {
                        eK.sendMessage("MESSAGE_FOR_DEVICE", {
                            key: "action",
                            deviceId: a.id,
                            data: {
                                action: e.id
                            }
                        })
                    }
                    return eZ.subscribe(e => {
                        e && c()
                    }
                    ),
                    [r, s, c, l, u, e => l(e), e => u(e)]
                }, function e(t) {
                    let n, i, r, o;
                    return n = new t0({
                        props: {
                            name: "Permits",
                            $$slots: {
                                default: [nq]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    }),
                    r = new t0({
                        props: {
                            name: "Pickaxes",
                            $$slots: {
                                default: [nF]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    }),
                    {
                        c() {
                            eh(n.$$.fragment),
                            i = T(),
                            eh(r.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            w(e, i, t),
                            ep(r, e, t),
                            o = !0
                        },
                        p(e, [t]) {
                            let i = {};
                            16385 & t && (i.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            n.$set(i);
                            let o = {};
                            16386 & t && (o.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            r.$set(o)
                        },
                        i(e) {
                            o || (el(n.$$.fragment, e),
                            el(r.$$.fragment, e),
                            o = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            eu(r.$$.fragment, e),
                            o = !1
                        },
                        d(e) {
                            e && E(i),
                            eg(n, e),
                            eg(r, e)
                        }
                    }
                }, o, {}, function e(t) {
                    x(t, "svelte-1a7yjpn", ".notLoaded.svelte-1a7yjpn{width:100%;text-align:center}")
                })
            }
        }
        function nG(t) {
            let n, i, r, o;
            return n = new nx({
                props: {
                    message: "Speedmine",
                    hotkeyId: "speedMine"
                }
            }),
            r = new nj({}),
            {
                c() {
                    eh(n.$$.fragment),
                    i = T(),
                    eh(r.$$.fragment)
                },
                m(e, t) {
                    ep(n, e, t),
                    w(e, i, t),
                    ep(r, e, t),
                    o = !0
                },
                p: e,
                i(e) {
                    o || (el(n.$$.fragment, e),
                    el(r.$$.fragment, e),
                    o = !0)
                },
                o(e) {
                    eu(n.$$.fragment, e),
                    eu(r.$$.fragment, e),
                    o = !1
                },
                d(e) {
                    e && E(i),
                    eg(n, e),
                    eg(r, e)
                }
            }
        }
        class nW extends e9 {
            constructor(e) {
                super(),
                e$(this, e, null, function e(t) {
                    let n, i;
                    return n = new t0({
                        props: {
                            name: "Dig it Up",
                            $$slots: {
                                default: [nG]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    }),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            i = !0
                        },
                        p(e, [t]) {
                            let i = {};
                            1 & t && (i.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            n.$set(i)
                        },
                        i(e) {
                            i || (el(n.$$.fragment, e),
                            i = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            i = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {})
            }
        }
        function nJ(t) {
            let n, i;
            return n = new nx({
                props: {
                    message: "Rapid fire",
                    hotkeyId: "knockbackRapidFire"
                }
            }),
            {
                c() {
                    eh(n.$$.fragment)
                },
                m(e, t) {
                    ep(n, e, t),
                    i = !0
                },
                p: e,
                i(e) {
                    i || (el(n.$$.fragment, e),
                    i = !0)
                },
                o(e) {
                    eu(n.$$.fragment, e),
                    i = !1
                },
                d(e) {
                    eg(n, e)
                }
            }
        }
        class nK extends e9 {
            constructor(e) {
                super(),
                e$(this, e, null, function e(t) {
                    let n, i;
                    return n = new t0({
                        props: {
                            name: "Knockback",
                            $$slots: {
                                default: [nJ]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    }),
                    {
                        c() {
                            eh(n.$$.fragment)
                        },
                        m(e, t) {
                            ep(n, e, t),
                            i = !0
                        },
                        p(e, [t]) {
                            let i = {};
                            1 & t && (i.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            n.$set(i)
                        },
                        i(e) {
                            i || (el(n.$$.fragment, e),
                            i = !0)
                        },
                        o(e) {
                            eu(n.$$.fragment, e),
                            i = !1
                        },
                        d(e) {
                            eg(n, e)
                        }
                    }
                }, o, {})
            }
        }
        function nQ(t) {
            let n, i, r, o, s, a, c, l;
            return n = new tx({
                props: {
                    text: "Background Color",
                    bindValue: "menuBackgroundColor"
                }
            }),
            r = new tx({
                props: {
                    text: "Outline Color",
                    bindValue: "menuOutlineColor"
                }
            }),
            s = new tx({
                props: {
                    text: "Header Color",
                    bindValue: "menuHeaderBackgroundColor"
                }
            }),
            c = new tx({
                props: {
                    text: "Header Text Color",
                    bindValue: "menuHeaderTextColor"
                }
            }),
            {
                c() {
                    eh(n.$$.fragment),
                    i = T(),
                    eh(r.$$.fragment),
                    o = T(),
                    eh(s.$$.fragment),
                    a = T(),
                    eh(c.$$.fragment)
                },
                m(e, t) {
                    ep(n, e, t),
                    w(e, i, t),
                    ep(r, e, t),
                    w(e, o, t),
                    ep(s, e, t),
                    w(e, a, t),
                    ep(c, e, t),
                    l = !0
                },
                p: e,
                i(e) {
                    l || (el(n.$$.fragment, e),
                    el(r.$$.fragment, e),
                    el(s.$$.fragment, e),
                    el(c.$$.fragment, e),
                    l = !0)
                },
                o(e) {
                    eu(n.$$.fragment, e),
                    eu(r.$$.fragment, e),
                    eu(s.$$.fragment, e),
                    eu(c.$$.fragment, e),
                    l = !1
                },
                d(e) {
                    e && (E(i),
                    E(o),
                    E(a)),
                    eg(n, e),
                    eg(r, e),
                    eg(s, e),
                    eg(c, e)
                }
            }
        }
        function nY(t) {
            let n, i, r, o;
            return n = new tx({
                props: {
                    text: "Background Color",
                    bindValue: "buttonBackgroundColor"
                }
            }),
            r = new tx({
                props: {
                    text: "Outline Color",
                    bindValue: "buttonBorderColor"
                }
            }),
            {
                c() {
                    eh(n.$$.fragment),
                    i = T(),
                    eh(r.$$.fragment)
                },
                m(e, t) {
                    ep(n, e, t),
                    w(e, i, t),
                    ep(r, e, t),
                    o = !0
                },
                p: e,
                i(e) {
                    o || (el(n.$$.fragment, e),
                    el(r.$$.fragment, e),
                    o = !0)
                },
                o(e) {
                    eu(n.$$.fragment, e),
                    eu(r.$$.fragment, e),
                    o = !1
                },
                d(e) {
                    e && E(i),
                    eg(n, e),
                    eg(r, e)
                }
            }
        }
        function nX(e) {
            let t, n, i, r, o, s;
            return t = new tx({
                props: {
                    text: "Text Color",
                    bindValue: "textColor",
                    minOpactiy: .3
                }
            }),
            i = new t0({
                props: {
                    name: "Menu Appearance",
                    $$slots: {
                        default: [nQ]
                    },
                    $$scope: {
                        ctx: e
                    }
                }
            }),
            o = new t0({
                props: {
                    name: "Button Appearance",
                    $$slots: {
                        default: [nY]
                    },
                    $$scope: {
                        ctx: e
                    }
                }
            }),
            {
                c() {
                    eh(t.$$.fragment),
                    n = T(),
                    eh(i.$$.fragment),
                    r = T(),
                    eh(o.$$.fragment)
                },
                m(e, a) {
                    ep(t, e, a),
                    w(e, n, a),
                    ep(i, e, a),
                    w(e, r, a),
                    ep(o, e, a),
                    s = !0
                },
                p(e, t) {
                    let n = {};
                    2 & t && (n.$$scope = {
                        dirty: t,
                        ctx: e
                    }),
                    i.$set(n);
                    let r = {};
                    2 & t && (r.$$scope = {
                        dirty: t,
                        ctx: e
                    }),
                    o.$set(r)
                },
                i(e) {
                    s || (el(t.$$.fragment, e),
                    el(i.$$.fragment, e),
                    el(o.$$.fragment, e),
                    s = !0)
                },
                o(e) {
                    eu(t.$$.fragment, e),
                    eu(i.$$.fragment, e),
                    eu(o.$$.fragment, e),
                    s = !1
                },
                d(e) {
                    e && (E(n),
                    E(r)),
                    eg(t, e),
                    eg(i, e),
                    eg(o, e)
                }
            }
        }
        function nZ(e) {
            let t, n, i, r, o, s, a, c;
            return t = new t0({
                props: {
                    name: "HUD Appearance",
                    $$slots: {
                        default: [nX]
                    },
                    $$scope: {
                        ctx: e
                    }
                }
            }),
            i = new t8({}),
            o = new tP({}),
            a = new tQ({}),
            {
                c() {
                    eh(t.$$.fragment),
                    n = T(),
                    eh(i.$$.fragment),
                    r = T(),
                    eh(o.$$.fragment),
                    s = T(),
                    eh(a.$$.fragment)
                },
                m(e, l) {
                    ep(t, e, l),
                    w(e, n, l),
                    ep(i, e, l),
                    w(e, r, l),
                    ep(o, e, l),
                    w(e, s, l),
                    ep(a, e, l),
                    c = !0
                },
                p(e, n) {
                    let i = {};
                    2 & n && (i.$$scope = {
                        dirty: n,
                        ctx: e
                    }),
                    t.$set(i)
                },
                i(e) {
                    c || (el(t.$$.fragment, e),
                    el(i.$$.fragment, e),
                    el(o.$$.fragment, e),
                    el(a.$$.fragment, e),
                    c = !0)
                },
                o(e) {
                    eu(t.$$.fragment, e),
                    eu(i.$$.fragment, e),
                    eu(o.$$.fragment, e),
                    eu(a.$$.fragment, e),
                    c = !1
                },
                d(e) {
                    e && (E(n),
                    E(r),
                    E(s)),
                    eg(t, e),
                    eg(i, e),
                    eg(o, e),
                    eg(a, e)
                }
            }
        }
        function ie(e) {
            let t, n, i, r, o, s, a, c, l, u, f, d;
            return t = new tk({}),
            i = new tA({}),
            o = new nP({}),
            a = new tZ({}),
            l = new na({}),
            f = new nc({}),
            {
                c() {
                    eh(t.$$.fragment),
                    n = T(),
                    eh(i.$$.fragment),
                    r = T(),
                    eh(o.$$.fragment),
                    s = T(),
                    eh(a.$$.fragment),
                    c = T(),
                    eh(l.$$.fragment),
                    u = T(),
                    eh(f.$$.fragment)
                },
                m(e, h) {
                    ep(t, e, h),
                    w(e, n, h),
                    ep(i, e, h),
                    w(e, r, h),
                    ep(o, e, h),
                    w(e, s, h),
                    ep(a, e, h),
                    w(e, c, h),
                    ep(l, e, h),
                    w(e, u, h),
                    ep(f, e, h),
                    d = !0
                },
                i(e) {
                    d || (el(t.$$.fragment, e),
                    el(i.$$.fragment, e),
                    el(o.$$.fragment, e),
                    el(a.$$.fragment, e),
                    el(l.$$.fragment, e),
                    el(f.$$.fragment, e),
                    d = !0)
                },
                o(e) {
                    eu(t.$$.fragment, e),
                    eu(i.$$.fragment, e),
                    eu(o.$$.fragment, e),
                    eu(a.$$.fragment, e),
                    eu(l.$$.fragment, e),
                    eu(f.$$.fragment, e),
                    d = !1
                },
                d(e) {
                    e && (E(n),
                    E(r),
                    E(s),
                    E(c),
                    E(u)),
                    eg(t, e),
                    eg(i, e),
                    eg(o, e),
                    eg(a, e),
                    eg(l, e),
                    eg(f, e)
                }
            }
        }
        function it(e) {
            let t, n, i, r, o, s, a, c, l, u, f, d, h, p, g, $, m, _, v, y, b, x;
            return t = new nu({}),
            i = new nd({}),
            o = new nW({}),
            a = new nK({}),
            l = new n_({}),
            f = new ny({}),
            h = new nb({}),
            g = new n8({}),
            m = new nk({}),
            v = new np({}),
            b = new n6({}),
            {
                c() {
                    eh(t.$$.fragment),
                    n = T(),
                    eh(i.$$.fragment),
                    r = T(),
                    eh(o.$$.fragment),
                    s = T(),
                    eh(a.$$.fragment),
                    c = T(),
                    eh(l.$$.fragment),
                    u = T(),
                    eh(f.$$.fragment),
                    d = T(),
                    eh(h.$$.fragment),
                    p = T(),
                    eh(g.$$.fragment),
                    $ = T(),
                    eh(m.$$.fragment),
                    _ = T(),
                    eh(v.$$.fragment),
                    y = T(),
                    eh(b.$$.fragment)
                },
                m(e, E) {
                    ep(t, e, E),
                    w(e, n, E),
                    ep(i, e, E),
                    w(e, r, E),
                    ep(o, e, E),
                    w(e, s, E),
                    ep(a, e, E),
                    w(e, c, E),
                    ep(l, e, E),
                    w(e, u, E),
                    ep(f, e, E),
                    w(e, d, E),
                    ep(h, e, E),
                    w(e, p, E),
                    ep(g, e, E),
                    w(e, $, E),
                    ep(m, e, E),
                    w(e, _, E),
                    ep(v, e, E),
                    w(e, y, E),
                    ep(b, e, E),
                    x = !0
                },
                i(e) {
                    x || (el(t.$$.fragment, e),
                    el(i.$$.fragment, e),
                    el(o.$$.fragment, e),
                    el(a.$$.fragment, e),
                    el(l.$$.fragment, e),
                    el(f.$$.fragment, e),
                    el(h.$$.fragment, e),
                    el(g.$$.fragment, e),
                    el(m.$$.fragment, e),
                    el(v.$$.fragment, e),
                    el(b.$$.fragment, e),
                    x = !0)
                },
                o(e) {
                    eu(t.$$.fragment, e),
                    eu(i.$$.fragment, e),
                    eu(o.$$.fragment, e),
                    eu(a.$$.fragment, e),
                    eu(l.$$.fragment, e),
                    eu(f.$$.fragment, e),
                    eu(h.$$.fragment, e),
                    eu(g.$$.fragment, e),
                    eu(m.$$.fragment, e),
                    eu(v.$$.fragment, e),
                    eu(b.$$.fragment, e),
                    x = !1
                },
                d(e) {
                    e && (E(n),
                    E(r),
                    E(s),
                    E(c),
                    E(u),
                    E(d),
                    E(p),
                    E($),
                    E(_),
                    E(y)),
                    eg(t, e),
                    eg(i, e),
                    eg(o, e),
                    eg(a, e),
                    eg(l, e),
                    eg(f, e),
                    eg(h, e),
                    eg(g, e),
                    eg(m, e),
                    eg(v, e),
                    eg(b, e)
                }
            }
        }
        class ii extends e9 {
            constructor(e) {
                super(),
                e$(this, e, function e(t, n, i) {
                    let r;
                    return c(t, eQ, e => i(0, r = e)),
                    to.addKeybind(new Set(["\\"]), () => {
                        eQ.update(e => !e)
                    }
                    ),
                    [r]
                }, function e(t) {
                    let n, i, r, o, s, a, c;
                    return i = new tt({
                        props: {
                            name: "Customization",
                            $$slots: {
                                default: [nZ]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    }),
                    o = new tt({
                        props: {
                            name: "General Cheats",
                            $$slots: {
                                default: [ie]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    }),
                    a = new tt({
                        props: {
                            name: "Gamemode Specific Cheats",
                            $$slots: {
                                default: [it]
                            },
                            $$scope: {
                                ctx: t
                            }
                        }
                    }),
                    {
                        c() {
                            n = k("div"),
                            eh(i.$$.fragment),
                            r = T(),
                            eh(o.$$.fragment),
                            s = T(),
                            eh(a.$$.fragment),
                            D(n, "id", "gc-hud"),
                            q(n, "display", t[0] ? "block" : "none"),
                            D(n, "class", "svelte-1byew0x")
                        },
                        m(e, t) {
                            w(e, n, t),
                            ep(i, n, null),
                            b(n, r),
                            ep(o, n, null),
                            b(n, s),
                            ep(a, n, null),
                            c = !0
                        },
                        p(e, [t]) {
                            let r = {};
                            2 & t && (r.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            i.$set(r);
                            let s = {};
                            2 & t && (s.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            o.$set(s);
                            let l = {};
                            2 & t && (l.$$scope = {
                                dirty: t,
                                ctx: e
                            }),
                            a.$set(l),
                            (!c || 1 & t) && q(n, "display", e[0] ? "block" : "none")
                        },
                        i(e) {
                            c || (el(i.$$.fragment, e),
                            el(o.$$.fragment, e),
                            el(a.$$.fragment, e),
                            c = !0)
                        },
                        o(e) {
                            eu(i.$$.fragment, e),
                            eu(o.$$.fragment, e),
                            eu(a.$$.fragment, e),
                            c = !1
                        },
                        d(e) {
                            e && E(n),
                            eg(i),
                            eg(o),
                            eg(a)
                        }
                    }
                }, o, {}, function e(t) {
                    x(t, "svelte-1byew0x", "#gc-hud.svelte-1byew0x{position:absolute;top:0;left:0;z-index:9999999999;width:100vw;height:100vh;pointer-events:none;color:var(--textColor)}")
                })
            }
        }
        function ir(e) {
            console.log(e),
            fetch(e).then(e => e.text()).then(e => {
                let t = e.indexOf(':"App.');
                if (!t)
                    return void alert("GC: Failed to find the correct script to modify. Please open an issue on GitHub.");
                let n = e.substring(t - 7, t)
                  , i = e.lastIndexOf(").register(JSON.parse(", t)
                  , r = e.substring(i - 7, i)
                  , o = RegExp(`import\\("\\.\\/"\\+(.)\\(${r}\\)\\.resolve\\(${n}\\)\\)`, "g")
                  , s = o.exec(e)?.[1];
                if (!s)
                    return void alert("GC: Failed to find the correct script to modify. Please open an issue on GitHub.");
                e = (e = e.replace(o, `new Promise(async (resolve) => {    const src = "./"+${s}(${r}).resolve(${n})    console.log(src)    const res = await fetch(src)    let text = await res.text()    const endRegex = /assignment:new\\(0,(.)\\.default\\)\\}/    const endRes = endRegex.exec(text)    const varRegex = /(.)={network:new/    const varRes = varRegex.exec(text)    if(!endRes[1] || !varRes[1]) {        alert("GC: Failed to find the correct script to modify. Please open an issue on GitHub.")        return;    }    text = text.replace(endRegex, 'assignment:new(0,'+endRes[1]+'.default)};window.stores='+varRes[1]+';window.storesLoaded.set(true);console.log("GC: Stores loaded via intercept");')    const script = document.createElement('script');    try {        script.appendChild(document.createTextNode(text));        document.head.appendChild(script);    } catch(e) {         script.text = text;        document.head.appendChild(script);    }    setTimeout(resolve, 0)})`)).replace(/"\.\/"/g, '"/"');
                let a = document.createElement("script");
                a.type = "module",
                document.querySelector("#root")?.remove();
                let c = document.createElement("div");
                c.id = "root",
                document.body.appendChild(c);
                try {
                    a.appendChild(document.createTextNode(e)),
                    document.head.appendChild(a)
                } catch (l) {
                    a.text = e,
                    document.head.appendChild(a)
                }
            }
            )
        }
        class io extends EventTarget {
            _parcelModuleCache = {};
            _parcelModules = {};
            reqIntercepts = [];
            readyToIntercept = !0;
            constructor() {
                super();
                let e = document.querySelectorAll('script[src*="index"]:not([nomodule])');
                e.length > 0 ? (this.readyToIntercept = !1,
                "complete" === document.readyState ? (this.setup(),
                this.reloadExistingScripts(e)) : window.addEventListener("load", () => {
                    this.setup(),
                    this.reloadExistingScripts(e)
                }
                )) : this.setup(),
                eC().decachedImport = this.decachedImport.bind(this)
            }
            async reloadExistingScripts(e) {
                this.nukeDom(),
                this.readyToIntercept = !0,
                this.emptyModules(),
                e.forEach(e => {
                    console.log(e, "has already loaded, re-importing..."),
                    this.decachedImport(e.src),
                    e.remove()
                }
                )
            }
            nukeDom() {
                document.querySelector("#root")?.remove();
                let e = document.createElement("div");
                for (let t of (e.id = "root",
                document.body.appendChild(e),
                ["__mobxGlobals", "__mobxInstanceCount"]))
                    t in window && delete window[t]
            }
            async decachedImport(e) {
                let t = new URL(e,location.origin).href
                  , n = await (await fetch(t)).text();
                n = (n = n.replaceAll("import(", "window.decachedImport(")).replaceAll("import.meta.url", `'${t}'`);
                let i;
                return import(URL.createObjectURL(new Blob([n],{
                    type: "application/javascript"
                })))
            }
            emptyModules() {
                this._parcelModuleCache = {},
                this._parcelModules = {}
            }
            interceptRequire(e, t, n=!1) {
                if (!e || !t)
                    throw Error("match and callback are required");
                let i = {
                    match: e,
                    callback: t,
                    once: n
                };
                return this.reqIntercepts.push(i),
                () => {
                    let e = this.reqIntercepts.indexOf(i);
                    -1 !== e && this.reqIntercepts.splice(e, 1)
                }
            }
            setup() {
                let e;
                (e = e => {
                    if (e in this._parcelModuleCache)
                        return this._parcelModuleCache[e].exports;
                    if (e in this._parcelModules) {
                        let t = this._parcelModules[e];
                        delete this._parcelModules[e];
                        let n = {
                            id: e,
                            exports: {}
                        };
                        if (this._parcelModuleCache[e] = n,
                        t.call(n.exports, n, n.exports),
                        this.readyToIntercept) {
                            for (let i of this.reqIntercepts)
                                if (i.match(n.exports)) {
                                    let r = i.callback?.(n.exports);
                                    r && (n.exports = r),
                                    i.once && this.reqIntercepts.splice(this.reqIntercepts.indexOf(i), 1)
                                }
                        }
                        return n.exports
                    }
                    throw Error(`Cannot find module '${e}'`)
                }
                ).register = (e, t) => {
                    this._parcelModules[e] = t,
                    e in this._parcelModuleCache && delete this._parcelModuleCache[e]
                }
                ,
                Object.defineProperty(eC(), "parcelRequire388b", {
                    value: e,
                    writable: !1,
                    enumerable: !0,
                    configurable: !1
                })
            }
        }
        null !== document.querySelector('script[src*="amplitude.com"]') ? alert("This script can only be run before you join the game. Please reload the page and try again.") : ((em = new io).interceptRequire(e => e?.default?.characters, e => {
            eC().stores = e.default,
            eY.set(!0),
            console.log("GC: Stores loaded via parcel")
        }
        ),
        em.interceptRequire(e => e?.CharacterPhysicsConsts, e => {
            nC.set(e.CharacterPhysicsConsts),
            console.log("GC: Physics constants loaded")
        }
        ),
        function() {
            let e = document.querySelector('script[src^="/index"][type="module"]');
            if (e)
                return ir(e.src),
                void console.log("GC: Added modified script", e);
            let t = new MutationObserver(e => {
                for (let n of e)
                    for (let i of n.addedNodes)
                        i instanceof HTMLScriptElement && i.src.includes("/index") && "module" == i.type && (ir(i.src),
                        console.log("GC: Added modified script", i),
                        t.disconnect())
            }
            )
              , n = () => {
                t.observe(document.head, {
                    childList: !0
                })
            }
            ;
            document.head ? n() : document.addEventListener("DOMContentLoaded", n)
        }(),
        eK.setup(),
        async function() {
            document.body || await new Promise(e => window.addEventListener("DOMContentLoaded", e)),
            new ii({
                target: document.body
            }),
            async function() {
                for (let[e,t] of (document.documentElement || await new Promise(e => window.addEventListener("DOMContentLoaded", e)),
                Object.entries(eA)))
                    document.documentElement.style.setProperty(`--${e}`, t)
            }()
        }())
    }();
}
if (x == "ps") {
    (function() {
        sound = prompt("What sound do you want to play? (ed, ww)");
        if (sound == "ed") {
            var audio = new Audio('https://www.myinstants.com/media/sounds/emotional-damage.mp3');
            audio.play();
        }
        if (sound == "ww") {
            var audio = new Audio('https://www.myinstants.com/media/sounds/downer_noise.mp3');
            audio.play();
        }
    }
    )();
}
if (x == "ca") {
    var evl, em, expr = prompt('Enter your expression: (abs,sin,cos,tan,exp,log,ceil,floor,min,max,pow,round,sqrt)', '');
    with (Math)
        try {
            evl = parseFloat(eval(expr));
            if (isNaN(evl)) {
                throw Error('Not a number!');
            }
            void (prompt('Result: ', evl));
        } catch (em) {
            alert(em);
        }
}
if (x == "hf") {
    var num = prompt("History flood amount:");
    if (num >= 20000) {
        alert("Warning: Your browser may lag or crash. Please reload the webpage if you do not wish to continue.")
    }
    done = false;
    x = window.location.href;
    for (var i = 1; i <= num; i++) {
        history.pushState(0, 0, i == num ? x : i.toString());
        if (i == num) {
            done = true
        }
    }
    if (done === true) {
        alert("History flood successful! " + window.location.href + " now appears in your history " + num + (num == 1 ? " time." : " times."))
    }
}
if (x == "cd") {
    var numCookies = 0;
    var cookieArray = document.cookie.split("; ");
    for (var i = 0; i < cookieArray.length && cookieArray[i]; i++) {
        numCookies++;
        for (var subDomain = "." + location.host; subDomain; subDomain = subDomain.replace(/^(?:\.|[^\.]+)/, "")) {
            for (var curPath = location.pathname; curPath; curPath = curPath.replace(/.$/, "")) {
                document.cookie = (cookieArray[i] + "; domain=" + subDomain + "; path=" + curPath + "; expires=" + new Date((new Date()).getTime() - 1e11).toGMTString());
            }
        }
    }
    alert("I crumbled " + numCookies + " cookies for you!");
    window.location.href = "http://" + window.location.host + window.location.pathname;
}
if (x == "ins") {
    var url = prompt("What site do you want to embed into " + location.href + "? (ah, bz, sb, zr)");
    var prefix = "https://";
    if (url == "zr") {
        url = "https://zombsroyale.io/";
    }
    if (url == "bz") {
        url = "https://skyblock.bz";
    }
    if (url == "sb") {
        url = "https://stats.tem.cx";
    }
    if (url == "ah") {
        url = "https://sky.coflnet.com";
    }
    if (url.substr(0, prefix.length) !== prefix) {
        url = prefix + url;
    }
    var ifra = document.createElement("iframe");
    ifra.src = url;
    ifra.setAttribute("height", "770");
    ifra.setAttribute("width", "1365");
    void (document.body.appendChild(ifra));
}
if (x == "et") {
    (function(e, n, o, t) {
        o = e.body,
        t = "true" == o[n],
        o[n] = t ? "false" : "true",
        e.designMode = t ? "off" : "on"
    }
    )(document, "contentEditable")
}
if (x == "wc") {
    var y = prompt("Website: (canvas, drive, docs, lme, outlook, aops, youtube)");
    var z = prompt("Title: [text input]");
    function cloak() {
        var link = document.querySelector("link[rel*='icon']") || document.createElement("link");
        link.type = "image/x-icon";
        link.rel = "shortcut icon";
        if (y == "canvas") {
            link.href = "https://instructure-uploads-pdx.s3.us-west-2.amazonaws.com/account_211800000000000001/attachments/3701/smallershield.png";
        }
        if (y == "drive") {
            link.href = "https://ssl.gstatic.com/docs/doclist/images/drive_2022q3_32dp.png";
        }
        if (y == "docs") {
            link.href = "https://ssl.gstatic.com/docs/documents/images/kix-favicon-2023q4.ico";
        }
        if (y == "outlook") {
            link.href = "https://res.cdn.office.net/owamail/20240112004.13/resources/images/favicons/mail-seen.ico";
        }
        if (y == "aops") {
            link.href = "https://artofproblemsolving.com/favicon.ico";
        }
        if (y == "youtube") {
            link.href = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAwklEQVR4AWNwL/ChKx6GFo5a+J+BQRmIfYE4HYgrgLgLiOdA8VqsGCHfBdWTDjVDGaeFQElmIL4CxP+pjK/gsnA7SAGN8FpsFv6nJUaxECggSmsLQXYgW2hOlKbs7P//7ezItVAf2UJfojTNnv0fDNauJcdCX2QLo0iwEAHa2si2MJ1ECxHg1StIUBPWH0V3C+kepOQnmi1byE809M8W9M/49C/a6F940796wqyAo/BUvtuRMZ5KOApk1mibhmI8aiEAWJrZd6IgmiUAAAAASUVORK5CYII=";
        }
        if (y == "lme") {
            link.href = "https://lme5.azurewebsites.net/assets/images/logo-lme.ico";
        }
        document.title = z;
        console.log(document.title);
        document.getElementsByTagName("head")[0].appendChild(link)
    }
    ;cloak();
    setInterval(gcloak, 1000);
}
if (x == "qc") {
    function cloak() {
        var link = document.querySelector("link[rel*='icon']") || document.createElement('link');
        link.type = "image/x-icon";
        link.rel = "shortcut icon";
        link.href = "https://instructure-uploads-pdx.s3.us-west-2.amazonaws.com/account_211800000000000001/attachments/3701/smallershield.png";
        document.title = "Dashboard";
        console.log(document.title);
        document.getElementsByTagName("head")[0].appendChild(link)
    }
    ;cloak();
    setInterval(gcloak, 1000);
}
if (x == "op") {
    window.open("https://drive.google.com/drive/my-drive", "_blank").focus();
    window.open("https://outlook.office.com/mail/", "_blank").focus();
    window.open("https://lakesideschool.instructure.com", "_blank").focus();
}
if (x == "adb") {
    (function() {
        var selectors = ['#sidebar-wrap', '#advert', '#xrail', '#middle-article-advert-container', '#sponsored-recommendations', '#around-the-web', '#sponsored-recommendations', '#taboola-content', '#taboola-below-taboola-native-thumbnails', '#inarticle_wrapper_div', '#rc-row-container', '#ads', '#at-share-dock', '#at4-share', '#at4-follow', '#right-ads-rail', 'div#ad-interstitial', 'div#advert-article', 'div#ac-lre-player-ph', '.ad', '.avert', '.avert__wrapper', '.middle-banner-ad', '.advertisement', '.GoogleActiveViewClass', '.advert', '.cns-ads-stage', '.teads-inread', '.ad-banner', '.ad-anchored', '.js_shelf_ads', '.ad-slot', '.antenna', '.xrail-content', '.advertisement__leaderboard', '.ad-leaderboard', '.trc_rbox_outer', '.ks-recommended', '.article-da', 'div.sponsored-stories-component', 'div.addthis-smartlayers', 'div.article-adsponsor', 'div.signin-prompt', 'div.article-bumper', 'div.video-placeholder', 'div.top-ad-container', 'div.header-ad', 'div.ad-unit', 'div.demo-block', 'div.OUTBRAIN', 'div.ob-widget', 'div.nwsrm-wrapper', 'div.announcementBar', 'div.partner-resources-block', 'div.arrow-down', 'div.m-ad', 'div.story-interrupt', 'div.taboola-recommended', 'div.ad-cluster-container', 'div.ctx-sidebar', 'div.incognito-modal', '.OUTBRAIN', '.subscribe-button', '.ads9', '.leaderboards', '.GoogleActiveViewElement', '.mpu-container', '.ad-300x600', '.tf-ad-block', '.sidebar-ads-holder-top', '.ads-one', '.FullPageModal__scroller', '.content-ads-holder', '.widget-area', '.social-buttons', '.ac-player-ph', 'script', 'iframe', 'video', 'aside#sponsored-recommendations', 'aside[role="banner"]', 'aside', 'amp-ad', 'span[id^=ad_is_]', 'div[class*="indianapolis-optin"]', 'div[id^=google_ads_iframe]', 'div[data-google-query-id]', 'section[data-response]', 'ins.adsbygoogle', 'div[data-google-query-id]', 'div[data-test-id="fullPageSignupModal"]', 'div[data-test-id="giftWrap"]'];
        for (let i in selectors) {
            let nodesList = document.querySelectorAll(selectors[i]);
            for (let i = 0; i < nodesList.length; i++) {
                let el = nodesList[i];
                if (el && el.parentNode)
                    el.parentNode.removeChild(el);
            }
        }
    }
    )();
}
if (x == "ac") {
    (function(x, y) {
        if (!window.click) {
            window.click = !0,
            document.body.style.cursor = 'crosshair';
            var cps = prompt('Autoclicker CPS: (Under 200 recommended)');
            if (!cps || isNaN(cps) ? (alert("You entered something wrong. Try running the script again."),
            end()) : alert("Autoclicker activated at " + cps + " CPS! Do [ctrl+e] to stop."),
            addEventListener("mousemove", e => {
                x = e.clientX,
                y = e.clientY
            }
            ),
            addEventListener("keydown", e => {
                "e" === e.key && e.ctrlKey && (alert("Autoclicker deactivated! Click the bookmark again to reactivate!"),
                end())
            }
            ),
            window.click)
                var int = setInterval(function() {
                    var e = document.elementFromPoint(x, y);
                    e && e.click()
                }, 1e3 / cps);
            function end() {
                clearInterval(int),
                window.click = !1,
                document.body.style.cursor = "default"
            }
        }
    }
    )();
}
if (x == "vg") {
    function vigenere(operation, message, keyword) {
        const alphabet = "abcdefghijklmnopqrstuvwxyz";
        var result = "";
        var keywordIndex = 0;
        var shift;
        if (operation === "e") {
            shift = 1;
            for (var i = 0; i < message.length; i++) {
                var char = message[i];
                var charIndex = alphabet.indexOf(char.toLowerCase());
                if (charIndex >= 0) {
                    var keywordChar = keyword[keywordIndex % keyword.length];
                    var keywordIndexInAlphabet = alphabet.indexOf(keywordChar.toLowerCase());
                    var isUpperCase = char === char.toUpperCase();
                    var shiftedCharIndex = (charIndex + shift * keywordIndexInAlphabet + 26) % 26;
                    var shiftedChar = alphabet[shiftedCharIndex];
                    if (isUpperCase) {
                        shiftedChar = shiftedChar.toUpperCase();
                    }
                    result += shiftedChar;
                    keywordIndex++;
                } else {
                    result += char;
                }
            }
            return result;
        }
        if (operation === "d") {
            function vigenereDecode(message, key) {
                const alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
                let decodedMessage = "";
                for (let i = 0, j = 0; i < message.length; i++) {
                    const messageChar = message.charAt(i);
                    if (/[A-Za-z]/.test(messageChar)) {
                        const isUpperCase = messageChar === messageChar.toUpperCase();
                        const messageIndex = alphabet.indexOf(messageChar.toUpperCase());
                        const keyChar = key.charAt(j % key.length);
                        const keyIndex = alphabet.indexOf(keyChar.toUpperCase());
                        const decodedIndex = (messageIndex - keyIndex + 26) % 26;
                        decodedMessage += isUpperCase ? alphabet.charAt(decodedIndex) : alphabet.charAt(decodedIndex).toLowerCase();
                        j++;
                    } else {
                        decodedMessage += messageChar;
                    }
                }
                return decodedMessage;
            }
            prompt("Decoded message: ", vigenereDecode(message, key));
            die()
        }
    }
    var key = "IEatTiggiesForBreakfast";
    var mode = prompt("Choose an operation: (e, d, change key)");
    if (mode == "change key") {
        key = prompt("Custom key:");
        mode = prompt("Choose an operation: (e, d)");
    }
    var output = vigenere(mode, prompt('Text: '), key);
    prompt('Message: ', output);
    die();
}
if (x == "dt") {
    if (!window.textNodes) {
        window.textNodes = [];
        document.querySelectorAll('*').forEach(function(el) {
            if (el.childNodes.length) {
                el.childNodes.forEach(function(node) {
                    if (node.nodeType === Node.TEXT_NODE && node.textContent.trim()) {
                        window.textNodes.push({
                            node: node,
                            text: node.textContent
                        });
                        node.textContent = '';
                    }
                });
            }
        });
    } else {
        window.textNodes.forEach(function(item) {
            item.node.textContent = item.text;
        });
        window.textNodes = null;
    }
}
if (x == "xr") {
    (function() {
        var script = document.createElement('script');
        script.src = 'https://x-ray-goggles.mouse.org/webxray.js';
        script.className = 'webxray';
        script.setAttribute('data-lang', 'en-US');
        script.setAttribute('data-baseuri', 'https://x-ray-goggles.mouse.org');
        document.body.appendChild(script);
    }())
}
if (x == "pc") {
    window.addEventListener("keydown", function(key) {
        window.print();
    });
    window.addEventListener("click", function(click) {
        window.print();
    });
}
if (x == "tp") {
    if (prompt("You are attempting to perform a locked action. Please enter the password:") == "Lock in.") {
        alert("Use at your own risk.");
        while (true) {
            window.open("https://www.google.com/teapot");
        }
    }
}
if (x == "mx") {
    (function() {
        window.__glitch_runs = window.__glitch_runs ? window.__glitch_runs + 1 : 1;
        const MODES = {
            STANDARD: "STANDARD",
            TURBO: "TURBO"
        };
        const OPTIONS = Object.assign({
            G_T: false,
            G_I: true,
            TURBO: false
        }, {
            G_T: true
        } || {});
        const GLITCH_TEXT = OPTIONS.G_T;
        const GLITCH_IMAGES = OPTIONS.G_I;
        const MODE = OPTIONS.TURBO ? MODES.TURBO : MODES.STANDARD;
        if (MODE === MODES.TURBO) {
            window.__glitch_runs = 3;
        }
        const transformTranspose = (header, input, gap=1) => {
            const idx = header + Math.floor(Math.random() * (input.length - header - gap));
            const tmp = input[idx];
            input[idx] = input[idx + gap];
            input[idx + gap] = tmp;
            return input;
        }
        ;
        const transformSubstitute = (header, input) => {
            const by = Math.floor(Math.random() * 256);
            const idx = header + Math.floor(Math.random() * (input.length - header));
            input[idx] = by;
            return input;
        }
        ;
        const transformText = str => {
            let bytes = new TextEncoder("utf - 8").encode(str);
            const errors = Math.random() * (0.05 * str.length);
            for (let i = 0; i < errors; i += 1) {
                bytes = Math.random() > 0.5 ? transformSubstitute(0, bytes) : transformTranspose(0, bytes, Math.floor(Math.random() * str.length - 1) + 1);
            }
            const string = new TextDecoder("utf - 8").decode(bytes);
            return string;
        }
        ;
        const glitchImage = image => {
            try {
                image.onload = () => {}
                ;
                image.style.backgroundColor = "#262626";
                const canvas = document.createElement('canvas');
                const context = canvas.getContext('2d');
                canvas.width = image.naturalWidth;
                canvas.height = image.naturalHeight;
                context.drawImage(image, 0, 0);
                const data = canvas.toBlob(blob => {
                    const fileReader = new FileReader();
                    fileReader.onload = event => {
                        const data = blob.size === event.target.result.byteLength ? new Uint8Array(event.target.result) : null;
                        image.onerror = () => {
                            image.src = URL.createObjectURL(blob);
                        }
                        ;
                        const glitchOnce = () => {
                            const errors = Math.random() * 10 * window.__glitch_runs;
                            let corrupted = data.slice(0);
                            for (let i = 0; i < errors; i++) {
                                corrupted = Math.random() > 0.5 ? transformTranspose(100, corrupted) : transformSubstitute(100, corrupted);
                            }
                            const corruptBlob = new Blob([corrupted],{
                                type: 'image/png'
                            });
                            const corruptSrc = URL.createObjectURL(corruptBlob);
                            image.src = corruptSrc;
                        }
                        ;
                        const glitchImageRaf = () => {
                            glitchOnce();
                            window.requestAnimationFrame(glitchImageRaf);
                        }
                        ;
                        const glitchImageTimeout = (max=300) => {
                            glitchOnce();
                            window.setTimeout( () => {
                                glitchImageTimeout(max);
                            }
                            , Math.random() * max / 2 + Math.random() * max / 2);
                        }
                        ;
                        if (MODE === MODES.STANDARD) {
                            glitchImageTimeout();
                        } else if (MODE === MODES.TURBO) {
                            glitchImageRaf();
                        }
                    }
                    ;
                    fileReader.readAsArrayBuffer(blob);
                }
                , 'image/jpeg');
            } catch (e) {
                return false;
            }
        }
        ;
        const glitchText = n => {
            const original = n.textContent;
            const glitchText = () => {
                n.textContent = transformText(original).replace(/�/g, '');
            }
            ;
            const glitchTextTimeout = (max=1000) => {
                glitchText();
                window.setTimeout( () => {
                    glitchTextTimeout(max);
                }
                , Math.random() * max / 2 + Math.random() * max / 2);
            }
            ;
            const glitchTextRaf = () => {
                glitchText();
                window.requestAnimationFrame(glitchTextRaf);
            }
            ;
            glitchTextTimeout();
        }
        ;
        const textNodesUnder = el => {
            let n;
            const a = [];
            const walk = document.createTreeWalker(el, NodeFilter.SHOW_TEXT, null, false);
            while ((n = walk.nextNode())) {
                a.push(n);
            }
            return a;
        }
        ;
        const setupGlitch = () => {
            if (GLITCH_IMAGES) {
                const images = document.querySelectorAll('img');
                images.forEach(i => {
                    i.complete ? glitchImage(i) : (i.onload = event => glitchImage(event.target));
                }
                );
            }
            if (GLITCH_TEXT) {
                const textNodes = textNodesUnder(document.body).filter(n => n.textContent && n.textContent.length > 0 && n.textContent.trim());
                textNodes.forEach(glitchText);
            }
        }
        ;
        if (document.readyState === 'complete') {
            setupGlitch();
        } else {
            document.body.addEventListener('load', setupGlitch);
        }
    }
    )();
}
if (x == "gr") {
    var script = document.createElement("script");
    script.src = "https://gravityscript.github.io/grav.js";
    document.body.appendChild(script);
    void (0);
}
if (x == "nc") {
    !function() {
        var e, t, n, a, o;
        for (document.addEventListener("click", e => {
            e.stopPropagation(),
            e.preventDefault()
        }
        , !0),
        e = document.getElementsByTagName("input"),
        t = document.getElementsByTagName("textarea"),
        n = document.getElementsByTagName("button"),
        a = e.concat(t).concat(n),
        o = 0; o < a.length; o++)
            a[o].disabled = !0
    }();
}
if (x == "ic") {
    function a(e) {
        var n = e.childNodes;
        for (var i in n) {
            a(n[i]);
            if (n[i].style)
                n[i].style.cursor = "none";
        }
    }
    a(document);
}
if (x == "ka") {
    var KICKASSVERSION = '2.0';
    var s = document.createElement('script');
    s.type = 'text/javascript';
    document.body.appendChild(s);
    s.src = '//hi.kickassapp.com/kickass.js';
    void (0);
    var delayInMilliseconds = 2000;
    setTimeout(function() {
        var element = document.getElementById("kickass-hello-sunshine");
        element.parentNode.removeChild(element);
    }, delayInMilliseconds);
}
if (x == "3d") {
    krazete: !function() {
        var d = {
            menu: document.createElement("div"),
            limit: document.createElement("input"),
            gap: document.createElement("input"),
            sag: document.createElement("input"),
            fov: document.createElement("input"),
            flo: document.createElement("input"),
            off: document.createElement("input"),
            non: document.createElement("input"),
            end: document.createElement("input"),
            tgl: document.createElement("input"),
            cssStatic: document.createElement("style"),
            cssDynamic: document.createElement("style"),
            orientation: {
                yaw: 0,
                pitch: 0,
                roll: 0
            },
            mouseMove: function(e) {
                d.orientation.yaw = 180 * -Math.cos(Math.PI * e.clientX / innerWidth) * d.limit.value,
                d.orientation.pitch = 180 * Math.cos(Math.PI * e.clientY / innerHeight) * d.limit.value,
                d.updateBody()
            },
            gyroMove: function(e) {
                innerWidth > innerHeight ? (d.orientation.yaw = -(e.alpha + e.beta),
                d.orientation.pitch = e.gamma - 90 * Math.sign(90 - Math.abs(e.beta))) : (d.orientation.yaw = -(e.alpha + e.gamma),
                d.orientation.pitch = e.beta - 90),
                d.updateBody()
            },
            updateOrigin: function(e) {
                document.body.style.transformOrigin = innerWidth / 2 + pageXOffset + "px " + (innerHeight / 2 + pageYOffset) + "px"
            },
            updateBody: function() {
                document.body.style.transform = "perspective(" + Math.pow(2, d.fov.value) + "px) translateZ(-" + d.gap.value + "px) rotateX(" + d.orientation.pitch + "deg) rotateY(" + d.orientation.yaw + "deg)"
            },
            updateCSS: function() {
                if (d.non.checked)
                    d.cssDynamic.innerHTML = "";
                else if (d.off.checked)
                    d.cssDynamic.innerHTML = "* { transform-style: preserve-3d; }";
                else {
                    for (var e = 0; document.querySelector("body" + " > *".repeat(e)); e++)
                        ;
                    var t = d.gap.value / e
                      , n = -Math.PI * d.sag.value / e;
                    d.cssDynamic.innerHTML = ` * {                        transform: translateZ($ {                            t                        }                                              px) rotateX($ {                                                          n                                                          }                    rad);transform - style: preserve - 3 d;transition: transform 1 s;outline: 1 px solid rgba(0, 0, 0, 0.0625);$ {                        d.flo.checked ? "overflow: visible !important;" : ""                    }                }*: hover {                transform: translateZ($ {            2 * t        }        px) rotateX($ {                    2 * n    }    rad);$ {        d.flo.checked ? "" : "overflow: visible;"    }} `
                }
            },
            toggle: function() {
                "active" == d.menu.className ? d.menu.removeAttribute("class") : d.menu.className = "active"
            },
            quit: function() {
                window.removeEventListener("deviceorientation", d.gyroMove),
                window.removeEventListener("mousemove", d.mouseMove),
                window.removeEventListener("scroll", d.updateOrigin),
                window.addEventListener("resize", d.updateOrigin),
                d.menu.remove(),
                d.cssStatic.remove(),
                d.cssDynamic.remove(),
                document.body.removeAttribute("style")
            },
            newRange: function(e, t, n, o, i, a, r) {
                d.menu.appendChild(e),
                e.type = "range",
                e.min = n,
                e.max = i,
                e.step = o,
                e.value = a,
                e.addEventListener("input", r),
                d.menu.appendChild(document.createElement("span")).innerHTML = t,
                d.menu.appendChild(document.createElement("br"))
            },
            newCheckbox: function(e, t, n) {
                d.menu.appendChild(e),
                e.type = "checkbox",
                e.addEventListener("click", n),
                d.menu.appendChild(document.createElement("span")).innerHTML = t,
                d.menu.appendChild(document.createElement("br"))
            },
            newButton: function(e, t, n) {
                d.menu.appendChild(e),
                e.type = "button",
                e.value = t,
                e.addEventListener("click", n)
            },
            init: function() {
                document.body.parentNode.appendChild(d.menu).id = "tri-menu",
                d.newRange(d.limit, "limit", 0, .03125, 1, .125, d.updateBody),
                d.newRange(d.gap, "gap / distance", 0, 32, 512, 128, function() {
                    d.updateCSS(),
                    d.updateBody()
                }),
                d.newRange(d.sag, "sag", -.25, .03125, .25, 0, d.updateCSS),
                d.newRange(d.fov, "field of view", 7, 1, 13, 10, d.updateBody),
                d.newCheckbox(d.flo, "force overflow", d.updateCSS),
                d.flo.setAttribute("checked", ""),
                d.newCheckbox(d.off, "flatten layers", d.updateCSS),
                d.newCheckbox(d.non, "flatten everything", d.updateCSS),
                d.newButton(d.end, "Quit", d.quit),
                d.newButton(d.tgl, "≡", d.toggle),
                d.tgl.id = "tri-toggle",
                d.menu.appendChild(d.cssStatic).innerHTML = ` html, body {        transition - property: none;        height: 100 %;        width: 100 %;    }    html, html: hover, #tri - menu, #tri - menu > * , #tri - menu > *: hover {        transform: none;outline: none;overflow: auto!important;float: none;    }    #tri - menu {        position: fixed;top: 0;left: 0;background: rgba(0, 0, 0, 0.5);color: white;border: 1 px solid rgba(255, 255, 255, 0.5);;border - radius: 0 0 16 px 0;padding: 8 px;transform: translate(-100 %, -100 %) translate(32 px, 32 px);    }    #tri - menu.active {        transform: none;    }    #tri - toggle {        position: absolute;bottom: 0;right: 0;height: 32 px;width: 32 px;background: transparent;color: white;border: none;cursor: pointer;    }    #tri - menu.active > #tri - toggle {        background: white;color: black;border - radius: 8 px 0 0 0;    } `,
                d.menu.appendChild(d.cssDynamic),
                d.updateCSS(),
                window.addEventListener("deviceorientation", d.gyroMove),
                window.addEventListener("mousemove", d.mouseMove),
                window.addEventListener("scroll", d.updateOrigin),
                window.addEventListener("resize", d.updateOrigin),
                window.scrollBy(0, 1)
            }
        };
        d.init()
    }();
}
if (x == "su") {
    function a(e) {
        var n = e.childNodes;
        for (var i in n) {
            a(n[i]);
            if (n[i].style)
                n[i].style.backgroundImage = "url(https://play-lh.googleusercontent.com/8ddL1kuoNUB5vUvgDVjYY3_6HwQcrg1K2fd_R8soD-e2QYj8fT9cfhfh3G0hnSruLKec)";
        }
    }
    ;a(document);
    (function() {
        window.g = function() {
            function G(element) {
                if (element.childNodes.length > 0)
                    for (var i = 0; i < element.childNodes.length; i++) {
                        if (element.childNodes[i].nodeName.toLowerCase() !== 'style' && element.childNodes[i].nodeName.toLowerCase() !== 'script') {
                            G(element.childNodes[i]);
                        }
                    }
                if (element.nodeType === Node.TEXT_NODE && element.nodeValue !== '') {
                    var thechars = [' among us ', ' sus ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us ', ' sus ', ' among us '];
                    element.textContent = element.textContent.replace(' a', thechars[0]).replace('b', thechars[1]).replace('c', thechars[2]).replace('d', thechars[3]).replace('e', thechars[4]).replace('f', thechars[5]).replace('g', thechars[6]).replace('h', thechars[7]).replace('i', thechars[8]).replace('j', thechars[9]).replace('k', thechars[10]).replace('l', thechars[11]).replace('m', thechars[12]).replace('n', thechars[13]).replace('o', thechars[14]).replace('p', thechars[15]).replace('q', thechars[16]).replace('r', thechars[17]).replace('s', thechars[18]).replace('t', thechars[19]).replace('u', thechars[20]).replace('v', thechars[21]).replace('w', thechars[22]).replace('x', thechars[23]).replace('y', thechars[24]).replace('z', thechars[25]).replace('A', thechars[26]).replace('B', thechars[27]).replace('C', thechars[28]).replace('D', thechars[29]).replace('E', thechars[30]).replace('F', thechars[31]).replace('G', thechars[32]).replace('H', thechars[33]).replace('I', thechars[34]).replace('J', thechars[35]).replace('K', thechars[36]).replace('L', thechars[37]).replace('M', thechars[38]).replace('N', thechars[39]).replace('O', thechars[40]).replace('P', thechars[41]).replace('Q', thechars[42]).replace('R', thechars[43]).replace('S', thechars[44]).replace('T', thechars[45]).replace('U', thechars[46]).replace('V', thechars[47]).replace('W', thechars[48]).replace('X', thechars[49]).replace('Y', thechars[50]).replace('Z', thechars[51]).replace('fax', '℻').replace('1', thechars[52]).replace('2', thechars[53]).replace('3', thechars[54]).replace('4', thechars[55]).replace('5', thechars[56]).replace('6', thechars[57]).replace('7', thechars[58]).replace('8', thechars[59]).replace('9', thechars[60]).replace('0', thechars[61]);
                }
            }
            var html = document.getElementsByTagName('html')[0];
            G(html);
        }
        ;
        setInterval(g, 1);
    }
    )();
}
if (x == "sos") {
    if (prompt("You are attempting to perform a locked action. Please enter the password:") == "Lock in.") {
        function a(e) {
            var n = e.childNodes;
            for (var i in n) {
                a(n[i]);
                if (n[i].style)
                    n[i].style.backgroundImage = "url(https://media.tenor.com/88dnH_mHRLAAAAAM/static-tv-static.gif)";
            }
        }
        a(document);
        var howfast = 3;
        var bluroffspeed = howfast;
        var bluronspeed = howfast * 2;
        function bluron() {
            (function() {
                document.body.style.filter = 'blur(5px)';
            }
            )();
            function bluroff() {
                (function() {
                    document.body.style.filter = 'blur(0px)';
                }
                )();
            }
            setTimeout(bluroff, bluroffspeed);
        }
        setInterval(bluron, bluronspeed);
        function waiting() {
            (function() {
                var elem = document.createElement('div');
                var body = document.getElementsByTagName('body')[0];
                body.appendChild(elem);
                elem.style.textAlign = 'center';
                elem.style.margin = screen.height / 2 + "px";
                elem.style.position = 'fixed';
                elem.style.top = '0px';
                elem.style.left = '0px';
                elem.style.margin = '0px';
                elem.style.width = '' + screen.width + 'px';
                elem.style.height = '' + screen.height + 30 + 'px';
                elem.style.zIndex = 10000;
                elem.style.opacity = 1;
                elem.style.textAlign = 'center';
                elem.style.color = 'red';
                elem.id = 'elem';
                elem.style.fontSize = "30%";
                elem.style.display = 'block';
                function bg() {
                    elem.style.backgroundImage = "url(https://i.ytimg.com/vi/R8lHaEZYpCU/maxresdefault.jpg)";
                }
                bg();
            }());
        }
        function waiting2() {
            while (true) {
                window.location.reload(1);
            }
        }
        setTimeout(waiting, 900);
        setTimeout(waiting2, 1800);
    }
}
if (x == "ml") {
    var style = document.createElement("style");
    document.body.appendChild(style);
    var canvas = document.createElement("canvas");
    canvas.id = "canvas";
    document.body.appendChild(canvas);
    var context = canvas.getContext("2d");
    function outlineBounds() {
        context.clearRect(0, 0, window.innerWidth, window.innerHeight);
        context.beginPath();
        var bounds = Array.from(document.querySelectorAll("*")).map(function(e) {
            return e.getBoundingClientRect();
        });
        var withinBounds = bounds.filter(function(e) {
            var viewVertical = window.scrollY < e.bottom || e.top < window.scrollY + window.innerHeight;
            var viewHorizontal = window.scrollX < e.right || e.left < window.scrollX + window.innerWidth;
            return viewVertical && viewHorizontal;
        });
        withinBounds.forEach(function(e) {
            context.rect(e.left, e.top, e.right - e.left, e.bottom - e.top);
        });
        context.stroke();
    }
    function fillBounds() {
        context.clearRect(0, 0, window.innerWidth, window.innerHeight);
        context.fillStyle = "#00000011";
        var bounds = Array.from(document.querySelectorAll("*")).map(function(e) {
            return e.getBoundingClientRect();
        });
        var withinBounds = bounds.filter(function(e) {
            var viewVertical = window.scrollY < e.bottom || e.top < window.scrollY + window.innerHeight;
            var viewHorizontal = window.scrollX < e.right || e.left < window.scrollX + window.innerWidth;
            return viewVertical && viewHorizontal;
        });
        withinBounds.forEach(function(e) {
            context.fillRect(e.left, e.top, e.right - e.left, e.bottom - e.top);
        });
    }
    function resizeCanvas() {
        style.innerHTML = ` #canvas {            position: fixed;left: 0;top: 0;width: 100%;height: 100%;z - index: 9999;pointer - events: none;    } `;
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        fillBounds();
    }
    resizeCanvas();
    window.addEventListener("scroll", fillBounds);
    window.addEventListener("resize", resizeCanvas);
    var pixelSize = 8;
    var halfPixel = Math.floor(pixelSize / 2);
    function drawPixel(x, y, r, g, b, a) {
        context.fillStyle = "rgba(" + [r, g, b, a].join(", ") + " )";
        context.fillRect(x - halfPixel, y - halfPixel, pixelSize, pixelSize);
    }
    function distanceSquared(a, b) {
        var dx = b.x - a.x;
        var dy = b.y - a.y;
        return dx * dx + dy * dy;
    }
    function main(mouse) {
        fillBounds();
        var data = context.getImageData(0, 0, context.canvas.width, context.canvas.height).data;
        context.clearRect(0, 0, context.canvas.width, context.canvas.height);
        for (var x = 0; x < context.canvas.width; x += pixelSize) {
            for (var y = 0; y < context.canvas.height; y += pixelSize) {
                var pixel = {
                    "x": x,
                    "y": y
                };
                var intensityMouse = 1 / distanceSquared(pixel, mouse);
                var colorMouse = {
                    "r": 0,
                    "g": 255,
                    "b": 255
                };
                var copy = {
                    "x": window.innerWidth - mouse.x,
                    "y": window.innerHeight - mouse.y
                };
                var intensityCopy = 1 / distanceSquared(pixel, copy);
                var colorCopy = {
                    "r": 255,
                    "g": 0,
                    "b": 0
                };
                var intensity = intensityMouse + intensityCopy;
                var color = {
                    "r": Math.floor((colorMouse.r * intensityMouse + colorCopy.r * intensityCopy) / intensity),
                    "g": Math.floor((colorMouse.g * intensityMouse + colorCopy.g * intensityCopy) / intensity),
                    "b": Math.floor((colorMouse.b * intensityMouse + colorCopy.b * intensityCopy) / intensity)
                };
                if (intensity > 0.000001) {
                    var ha = 256 * intensity * (256 - data[(x + y * window.innerWidth) * 4 + 3]);
                    drawPixel(x, y, Math.floor(color.r * ha), Math.floor(color.g * ha), Math.floor(color.b * ha), 1 - ha);
                }
            }
        }
    }
    window.addEventListener("mousemove", main);
}
if (x == "ro") {
    css = "\n@keyframes roll {\n 100%{\n transform:rotate(360deg)\n }\n}\nbody {\n animation-name: roll;\n animation-duration: 4s;\n animation-iteration-count: 1;\n}\n";
    style = document.createElement("style");
    style.innerHTML = css;
    document.head.appendChild(style);
}
if (x == "dm") {
    (function() {
        function invert(o, t) {
            var r = o.split("(")
              , n = r[1].split(")")[0].split(",");
            return n.forEach(function(o, r) {
                r < 3 && (n[r] = "color" == t && 255 - parseInt(o) < 50 ? 120 : 255 - parseInt(o))
            }),
            n = n.join(","),
            r[0] + "(" + n + ")"
        }
        document.querySelectorAll("*:not([invTouch])").forEach(function(o) {
            var t = window.getComputedStyle(o);
            o.style.backgroundColor = invert(t.backgroundColor, "back"),
            o.style.color = invert(t.color, "color"),
            o.setAttribute("invTouch", "true")
        });
    }
    )();
}
if (x == "cg") {
    (function() {
        var x = document.getElementsByTagName("*");
        for (i = 0; i < x.length; i++) {
            x[i].style.position = "absolute";
            x[i].style.top = "50%";
            x[i].style.left = "50%";
            x[i].style.transition = "5s";
            x[i].style.transform = "translate(-50%, -50%)"
        }
    }());
}
if (x == "de") {
    (function() {
        ['', '-ms-', '-webkit-', '-o-', '-moz-'].map(function(prefix) {
            Array.prototype.slice.call(document.querySelectorAll('div,p,span,img,a,body')).map(function(el) {
                el.style[prefix + 'transform'] = 'rotate(' + (Math.floor(Math.random() * 3) - 1) + 'deg)';
            });
        });
    }())
}
if (x == "ym") {
    (function() {
        var TEXT = prompt("Text? ");
        Array.prototype.slice.call(document.querySelectorAll('input[type=text],textarea')).map(function(el) {
            el.onkeypress = function(evt) {
                var charCode = typeof evt.which == "number" ? evt.which : evt.keyCode;
                if (charCode && charCode > 31) {
                    var start = this.selectionStart
                      , end = this.selectionEnd;
                    this.value = this.value.slice(0, start) + TEXT[start % TEXT.length] + this.value.slice(end);
                    this.selectionStart = this.selectionEnd = start + 1;
                }
                return false;
            }
        });
    }());
}
if (x == "tr") {
    setTimeout(function() {
        document.onmousemove = document.onkeypress = function() {
            ['', '-ms-', '-webkit-', '-o-', '-moz-'].map(function(prefix) {
                document.body.style[prefix + 'transition'] = prefix + 'transform 3s';
                document.body.style[prefix + 'transform'] = 'rotate(180deg)';
            });
        }
    }, 5000);
}
if (x == "dr") {
    var opt = 1;
    alert("keyboard commands:c=color picker. u=pen up. d=pen down. s=size. o=opacity. reload to clear.");
    var pen = 'none';
    var size = 10;
    function repeat(event) {
        (function() {
            var color = document.createElement('div');
            var body = document.getElementsByTagName('body')[0];
            body.appendChild(color);
            color.style.position = 'fixed';
            color.style.bottom = '0px';
            color.style.right = '0px';
            color.style.margin = '0px';
            color.style.paddingTop = '0px';
            color.style.width = '1366px';
            color.style.height = '20px';
            color.style.zIndex = 10000;
            color.style.opacity = 0.8;
            color.style.color = 'white';
            color.style.backgroundColor = 'black';
            color.style.border = '0px solid black';
            color.style.textAlign = 'center';
            color.style.cursor = 'pointer';
            color.id = 'color';
            color.style.display = 'circle';
            color.innerText = 'Made by Legend7269';
            document.getElementById('me').addEventListener('click', function() {
                window.open('https://github.com/dragon731012');
            });
        }());
    }
    function mousemove(event) {
        var x = event.clientX;
        var y = event.clientY;
        x = x - 9 - size;
        y = y - 12 - size;
        (function() {
            var elem = document.createElement('div');
            var body = document.getElementsByTagName('body')[0];
            body.appendChild(elem);
            elem.style.position = 'fixed';
            elem.style.top = '' + y + 'px';
            elem.style.left = '' + x + 'px';
            elem.style.margin = '10px';
            elem.style.paddingTop = '10px';
            elem.style.width = '' + size + 'px';
            elem.style.height = '' + size + 'px';
            elem.style.zIndex = 10000;
            elem.style.opacity = opt;
            elem.style.color = '' + clr + '';
            elem.style.backgroundColor = '' + clr + '';
            elem.style.border = '0px solid white';
            elem.style.textAlign = 'center';
            elem.id = 'paint';
            elem.style.display = '' + pen + '';
            elem.innerText = '';
        }());
    }
    window.addEventListener("keydown", function(event) {
        if (event.key == "c") {
            clr = prompt("what color do you want? must be very broad, and with no caps or special characters. ex:blue");
            elem.style.display = "block";
        }
    });
    window.addEventListener("keydown", function(event) {
        if (event.key == "s") {
            size = prompt("what size do you want? no caps, letters, or special characters. ex: 10");
            elem.style.display = "block";
        }
    });
    window.addEventListener("keydown", function(event) {
        if (event.key == "u") {
            pen = "n one";
        }
    });
    window.addEventListener("keydown", function(event) {
        if (event.key == "d") {
            pen = "circle";
        }
    });
    window.addEventListener("keydown", function(event) {
        if (event.key == "o") {
            opt = prompt("what do you want the opacity to be? 1 to 0. 1=none. 0=a lot.");
        }
    });
    window.addEventListener("mousemove", mousemove);
    repeat();
}
if (x == "rc") {
    alert("Use the left and right arrow keys to control the blue square. Do not crash into the red ones! They get faster over time. \nDo not run this game more than one time on a website without reloading first.");
    var xpos = 80;
    var ypos = 350;
    var enemyxpos = 0;
    var enemyypos = -120;
    var enemyspeed = 2.5;
    var playerspeed = 4;
    var scorecount = 0;
    var left = 0;
    var right = 0;
    (function() {
        var bg = document.createElement('div');
        var body = document.getElementsByTagName('body')[0];
        body.appendChild(bg);
        bg.style.position = 'fixed';
        bg.style.top = '0px';
        bg.style.left = '0px';
        bg.style.margin = '0px';
        bg.style.paddingTop = '10px';
        bg.style.width = '300px';
        bg.style.height = '500px';
        bg.style.zIndex = 10000;
        bg.style.opacity = 1;
        bg.style.color = 'white';
        bg.style.backgroundColor = 'black';
        bg.style.border = '0px solid white';
        bg.style.textAlign = 'center';
        bg.id = 'bg';
        bg.style.display = 'block';
        bg.innerText = '';
    }());
    (function() {
        var score = document.createElement('div');
        var body = document.getElementsByTagName('body')[0];
        body.appendChild(score);
        score.style.position = 'fixed';
        score.style.top = '500px';
        score.style.left = '0px';
        score.style.margin = '0px';
        score.style.paddingTop = '5px';
        score.style.width = '300px';
        score.style.height = '35px';
        score.style.zIndex = 10000;
        score.style.opacity = 1;
        score.style.color = 'black';
        score.style.backgroundColor = 'white';
        score.style.border = '4px solid black';
        score.style.textAlign = 'center';
        score.id = 'score';
        score.style.display = 'block';
        score.innerText = 'score: ' + scorecount + '';
    }());
    (function() {
        var you = document.createElement('div');
        var body = document.getElementsByTagName('body')[0];
        body.appendChild(you);
        you.style.position = 'fixed';
        you.style.top = '' + ypos + 'px';
        you.style.left = '' + xpos + 'px';
        you.style.margin = '0px';
        you.style.paddingTop = '10px';
        you.style.width = '70px';
        you.style.height = '120px';
        you.style.zIndex = 10000;
        you.style.opacity = 1;
        you.style.color = 'blue';
        you.style.backgroundColor = 'blue';
        you.style.border = '0px solid white';
        you.style.textAlign = 'center';
        you.id = 'you';
        you.style.display = 'block';
        you.innerText = '';
        function mover() {
            if (left == 1) {
                if (xpos - 12 >= 0) {
                    xpos = xpos - playerspeed;
                    you.style.left = '' + xpos + 'px';
                }
            }
            if (right == 1) {
                if (xpos + 10 <= 230) {
                    xpos = xpos + playerspeed;
                    you.style.left = '' + xpos + 'px';
                }
            }
        }
        setInterval(mover, 5);
        window.addEventListener("keydown", function(event) {
            if (event.key == "ArrowLeft") {
                left = 1;
            }
        });
        window.addEventListener("keyup", function(event) {
            if (event.key == "ArrowLeft") {
                left = 0;
            }
        });
        window.addEventListener("keydown", function(event) {
            if (event.key == "ArrowRight") {
                right = 1;
            }
        });
        window.addEventListener("keyup", function(event) {
            if (event.key == "ArrowRight") {
                right = 0;
            }
        });
    }());
    function makeenemy() {
        (function() {
            var enemy = document.createElement('div');
            var body = document.getElementsByTagName('body')[0];
            body.appendChild(enemy);
            enemyxpos = Math.floor(Math.random() * (230 - 0 + 1) + 0);
            enemyypos = -120;
            enemy.style.position = 'fixed';
            enemy.style.top = '' + enemyypos + 'px';
            enemy.style.left = '' + enemyxpos + 'px';
            enemy.style.margin = '0px';
            enemy.style.paddingTop = '10px';
            enemy.style.width = '70px';
            enemy.style.height = '120px';
            enemy.style.zIndex = 10000;
            enemy.style.opacity = 1;
            enemy.style.color = 'red';
            enemy.style.backgroundColor = 'red';
            enemy.style.border = '0px solid white';
            enemy.style.textAlign = 'center';
            enemy.id = 'enemy';
            enemy.style.display = 'block';
            enemy.innerText = '';
            function enemymove() {
                enemyypos = enemyypos + enemyspeed;
                enemy.style.top = '' + enemyypos + 'px';
                if (enemyypos > 380) {
                    enemy.parentNode.removeChild(enemy);
                    scorecount = scorecount + 1;
                    score.innerText = 'score: ' + scorecount + '';
                    makeenemy();
                }
            }
            setInterval(enemymove, 50);
        }());
    }
    makeenemy();
    function colliding() {
        if (xpos < enemyxpos + 70 && xpos + 70 > enemyxpos && ypos < enemyypos + 120 && ypos + 120 > enemyypos) {
            clearInterval(colliding);
            document.getElementById("enemy");
            enemy.parentNode.removeChild(enemy);
            document.getElementById("you");
            you.parentNode.removeChild(you);
            document.getElementById("bg");
            bg.parentNode.removeChild(bg);
            document.getElementById("score");
            score.parentNode.removeChild(score);
            alert("Game over! Your score was " + scorecount + ".");
        }
    }
    setInterval(colliding, 5);
}
if (x == "ts") {
    (_ => {
        import('https://quinten.github.io/tomato-smash/index.js').then(_ => {
            new TomatoSmash.Game()
        }
        )
    }
    )()
}
if (x == "tw") {
    var s = document.createElement('script');
    s.type = 'text/javascript';
    s.src = 'https://sheeptester.github.io/javascripts/twirlie.js';
    fdocument.body.appendChild(s);
    void (0);
}
if (x == "2048") {
    (t => {
        var s = document.createElement(t);
        s.type = 'text/java' + t;
        s.src = 'https://sheeptester.github.io/javascripts/2048.js';
        document.body.appendChild(s);
    }
    )('script')
}
var delayInMilliseconds = 2000;
setTimeout(function() {
    while (true) {
        var element = document.getElementById("ezmobfooter");
        element.parentNode.removeChild(element);
        var element = document.getElementById("ez-video-outstream-wrap");
        element.parentNode.removeChild(element);
    }
}, delayInMilliseconds);
if (x == "fb") {
    (function() {
        var s = document.createElement('script');
        s.setAttribute('src', 'https://fontbomb.ilex.ca/js/main.js');
        document.body.appendChild(s);
    }());
    var delayInMilliseconds = 1000;
    setTimeout(function() {
        var element = document.getElementById("fontBombConfirmation");
        element.parentNode.removeChild(element);
    }, delayInMilliseconds);
}
if (x == "bs") {
    (function() {
        document.body.style.transition = "10s";
        document.body.style.borderLeft = "2000px solid blue";
        document.body.style.overflowX = "hidden";
    }());
}
if (x == "inv") {
    (function() {
        document.documentElement.style.transition = "10s";
        document.documentElement.style.opacity = "0";
    }());
}
if (x == "ded") {
    (function() {
        var x = document.body.getElementsByTagName("*");
        for (i = 0; i < x.length; i++) {
            x[i].style.cursor = "wait";
            x[i].removeAttribute("href");
        }
    }());
}
if (x == "co") {
    (function() {
        var css = document.createElement("style");
        css.type = "text/css";
        css.innerHTML = "body { font-family: 'Comic Sans MS', 'Marker Felt', fantasy; color: #ff0000; }";
        document.head.appendChild(css);
        var message = document.createElement("div");
        message.style.position = "fixed";
        message.style.top = "0";
        message.style.left = "0";
        message.style.right = "0";
        message.style.bottom = "0";
        message.style.background = "black";
        message.style.color = "white";
        message.style.fontSize = "60px";
        message.style.fontFamily = "Impact";
        message.style.textAlign = "center";
        message.style.paddingTop = "200px";
        message.innerHTML = "Error: Page has been corrupted";
        document.body.appendChild(message);
        var images = document.getElementsByTagName("img");
        for (var i = 0; i < images.length; i++) {
            images[i].style.animation = "imageShift 2s infinite";
            images[i].style.animationTimingFunction = "ease-in-out";
        }
        var elements = document.querySelectorAll("*");
        for (var i = 0; i < elements.length; i++) {
            if (elements[i].tagName != "IMG") {
                elements[i].style.animation = "spinAndBounce 1s infinite";
                elements[i].style.animationTimingFunction = "ease-in-out";
            }
        }
        var keyframes = "\ @keyframes imageShift {\ 0% { transform: translateX(0px); }\ 50% { transform: translateX(20px); }\ 100% { transform: translateX(0px); }\ }\ @keyframes spinAndBounce {\ 0% { transform: rotate(0deg) scale(1); }\ 50% { transform: rotate(180deg) scale(1.2); }\ 100% { transform: rotate(360deg) scale(1); }\ }\ ";
        var style = document.createElement("style");
        style.type = "text/css";
        style.innerHTML = keyframes;
        document.head.appendChild(style);
    }
    )();
}
if (x == "cra") {
    if (prompt("You are attempting to perform a locked action. Please enter the password:") == "Lock in.") {
        alert("Are You Sure?");
        alert("Use At Your Own Risk");
        alert("Ready? IF NO RELOAD NOW.");
        setTimeout( () => {
            while (true) {
                while (1)
                    location.reload(1)
            }
        }
        , 1000);
    }
}
